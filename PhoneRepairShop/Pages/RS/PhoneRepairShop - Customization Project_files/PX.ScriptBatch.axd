
Function.createDelegate=function($a,$b){return function(){return $b.apply($a,arguments);}};Function.createDelegateExt=function($a,$b,$c){return function(){if($c!=null){var l=arguments.length;if(l>0){var $d=[];$d[l]=$c;for(var i=0;i<l;i++)$d[i]=arguments[i];return $b.apply($a,$d);};return $b.call($a,$c);};return $b.apply($a,arguments);}};Function.createDelegate2=function($a,$b){return function(){return $b.apply($a,arguments[0]);};};Function.createCallback=function($b,$c){return function(){var l=arguments.length;if(l>0){var $d=[];$d[l]=$c;for(var i=0;i<l;i++)$d[i]=arguments[i];return $b.apply(this,$d);};return $b.call(this,$c);}};Function.prototype.isAssignableFrom=function($e){var $f=this;while($f){if($f==$e)return true;$f=$f.__baseType;};return false;};Function.prototype.initializeBaseA=function($a,$g){this.resolveInheritanceA();if(typeof this.__baseType!="function"){for(var i=0;i<this.__baseType.length;i++)this.initializeBaseExt(this.__baseType[i],$a,$g);}else this.initializeBaseExt(this.__baseType,$a,$g);};Function.prototype.initializeBaseExt=function($f,$a,$g){if($f){if(!$g)$f.apply($a);else $f.apply($a,$g);};return $a;};Function.prototype.resolveInheritanceA=function(){var $f=this.__baseType;if(this.__typeResolved===undefined&&$f){if(typeof $f=="function"){$f.resolveInheritanceA();this.resolveInherit($f);}else{for(var i=0;i<$f.length;i++){$f[i].resolveInheritanceA();this.resolveInherit($f[i]);}};this.__typeResolved=true;}};Function.prototype.resolveInherit=function($f){for(var $h in $f.prototype){var $i=$f.prototype[$h];if(!this.prototype[$h])this.prototype[$h]=$i;}};Function.prototype.callBase=function($a,name,$g){var $f=this.__baseType,$j;if($f){if(typeof $f!="function"){for(var i=0;i<$f.length;i++){$j=this.getMethodExt($f[i],name);if($j)break;}}else $j=this.getMethodExt($f,name);};if($j){if(!$g)return $j.apply($a);else return $j.apply($a,$g);}};Function.prototype.getMethodExt=function($f,name){var $b=$f.prototype[name];return(typeof $b=="function")?$b:null;};String.prototype.endsWith=function($k){$k=String($k);return(this.substr(this.length-$k.length)===$k);};String.prototype.startsWith=function($l){$l=String($l);return(this.substr(0,$l.length)===$l);};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'');};String.prototype.trimEnd=function(){return this.replace(/\s+$/,'');};String.prototype.trimStart=function(){return this.replace(/^\s+/,'');};String.compare=function(s1,s2,$m){if($m){if(s1)s1=s1.toLowerCase();if(s2)s2=s2.toLowerCase();};return(s1==s2);};String.prototype.times=function(n){return n?this +this.times(n-1):"";};Boolean.parse=function($n,$o){if($n==null)return $o;if(typeof($n)!="string")$n=String($n);var v=$n.trim().toLowerCase();if(v==='false'||v==='0'||v==='')return false;if(v==='true'||v==='1')return true;};Array.clear=function($p){$p.length=0;};Array.clone=function($p){if($p.length===1)return[$p[0]];try{return Array.apply(null,$p);}catch(ex){if($p.length){var ar=new Array();for(var i=0;i<$p.length;i++)ar.push($p[i]);return ar;}}};Array.contains=function($p,$q){return Array.indexOf($p,$q)>=0;};Array.isEmpty=function($p){for(var i=0;i<$p.length;i++)if($p[i]!=null&&$p[i]!="")return false;return true;};Array.indexOf=function($p,$q,$r){if(typeof($q)==="undefined")return -1;var length=$p.length;if(length!==0){$r=$r-0;if(isNaN($r)){$r=0;}else{if(isFinite($r))$r=$r-($r%1);if($r<0)$r=Math.max(0,length+$r);};for(var i=$r;i<length;i++){if(typeof($p[i])!=="undefined"&&$p[i]===$q)return i;}};return -1;};Array.addRange=function($p,$s){for(var $t=0;$t<$s.length;$t++)$p.push($s[$t]);};Array.addUniqueRange=function($p,$s){for(var $t=0;$t<$s.length;$t++)if(!Array.contains($p,$s[$t]))$p.push($s[$t]);};Array.insert=function($p,$t,$q){$p.splice($t,0,$q);};Array.remove=function($p,$q){var $t=Array.indexOf($p,$q);if($t>=0)$p.splice($t,1);return $t>=0;};Array.removeAt=function($p,$t){$p.splice($t,1);};Array.mergeSort=function($p,$b,$u,end){if($u==null)$u=0;if(end==null)end=$p.length;var $v=end -$u;if($v<2)return;var $w=$u+Math.floor($v/2);Array.mergeSort($p,$b,$u,$w);Array.mergeSort($p,$b,$w,end);Array.$3R($p,$u,$w,end,$b);};Array.$3R=function($p,$u,$w,end,$b){for(;$u<$w;++$u){var a=$p[$u],b=$p[$w];if(Array.$3S(a,b,$b)>0){var v=$p[$u];$p[$u]=$p[$w];Array.$3T($p,$w,end,v,$b);}}};Array.$3U=function($p,a,b){var $x=$p[a];$p[a]=$p[b];$p[b]=$x;};Array.$3S=function(a,b,$b){if($b)return $b(a,b);if(a==b)return 0;return a<b?-1:1;};Array.$3T=function($p,$u,end,v,$b){while(($u+1)<end&&Array.$3S($p[$u+1],v,$b)<0){Array.$3U($p,$u,$u+1);++$u;};$p[$u]=v;};if(!Array.prototype.find){Array.prototype.find=function($y){if(this==null)throw new TypeError('Array.prototype.find called on null or undefined');if(typeof $y!=='function')throw new TypeError('predicate must be a function');var $z=Object(this),length=$z.length>>>0;var $n,$A=arguments[1];for(var i=0;i<length;i++){$n=$z[i];if($y.call($A,$n,i,$z))return $n;};return undefined;};};if(window["jQuery"]!=null){jQuery.extend({'ajaxStd':function($B,$C){if(typeof $B==="object"){$C=$B;$B=undefined;};$C.error=jQuery.processRequestError;if($C.headers==null)$C.headers={};$C.headers[PX.antiXsrfHeader]=px.GetAntiForgeryToken();px.startWC();if(px.waitWebRequest==null)px.waitWebRequest=0;px.waitWebRequest++;return jQuery.ajax($B,$C).always(function(){if(px.waitWebRequest)px.waitWebRequest--;px.stopWC();});},'postStd':function($B,$D,$E,$e){if(jQuery.isFunction($D)){$e=$e||$E;$E=$D;$D=undefined;};return jQuery.ajaxStd({'type':"POST",'url':$B,'data':$D,'success':$E,'dataType':$e||'json'});},'getStd':function($B,$D,$E,$e){if(jQuery.isFunction($D)){$e=$e||$E;$E=$D;$D=undefined;};return jQuery.ajaxStd({'url':$B,'data':$D,'success':$E,'dataType':$e||'json'});},'postJSON':function($B,$D,$E){return jQuery.ajaxStd({'type':"POST",'url':$B,'data':JSON.stringify($D),'success':$E,'dataType':"json",'contentType':"application/json",'processData':false});},'putJSON':function($B,$D,$E){return jQuery.ajaxStd({'type':"PUT",'url':$B,'data':JSON.stringify($D),'success':$E,'contentType':"application/json",'processData':false});},'processRequestError':function($F){if($F.status==401||/action=["][./]*Login.aspx[?]ReturnUrl=/mi.test($F.responseText)){var lm=window.localizedMessages;if(confirm((lm&&lm['notLoggedIn'])||" You are currently logged off. Would you like to login?")){var $G=location.href,i1=$G.indexOf("timeStamp=");if(i1>0){var i2=$G.indexOf('&',i1+1);$G=$G.substring(0,i1)+(i2>0?$G.substring(i2+1):"");};window.location=$G;};return;};var rt=$F.responseText;if($F.responseJSON&&$F.responseJSON.ExceptionMessage)rt=$F.responseJSON.ExceptionMessage;if(rt)alert(rt);}});};function PX($c){this.px_context=$c;this.AgentName=__win(this).navigator.userAgent.toLowerCase();this.Version=parseInt(__win(this).navigator.appVersion);var an=this.AgentName;this.IsWinPhone=an.indexOf("windows phone")>=0;this.IsIPad=(/macintosh.*applewebkit.*safari/ig.test(an)&&__win(this).navigator.maxTouchPoints>1)||an.indexOf("ipad")>=0;this.IsIPhone=an.indexOf("iphone")>=0;this.IsAndroid=an.indexOf("android")>=0;this.IsTablet=this.IsIPad||this.IsIPhone||this.IsAndroid||this.IsWinPhone||an.indexOf("tablet")>=0;this.IsTabletOrWin=this.IsTablet;this.IsDom=typeof(__doc(this).getElementById)=="function";this.IsWin=an.indexOf("windows")>=0;this.IsWin98=(an.indexOf("win98")>=0)||(an.indexOf("windows 98")>=0);if(this.IsTablet&&this.IsWin&&!this.IsWinPhone){this.IsTablet=false;this.IsTabletWin=this.IsTabletOrWin=true;};var $H=an.indexOf("firefox"),$I=0;if($H>=0)$I=parseFloat(an.substr($H+8,3));this.IsNetscape=this.IsDom&&(navigator.appName=="Netscape");this.IsFirefox=$H>=0;this.IsFirefox20=this.IsFirefox&&($I==2);this.IsFirefox40=this.IsFirefox&&($I>=4&&$I<5);this.IsFirefoxFrom40=this.IsFirefox&&$I>=4;this.IsFirefoxFrom65=this.IsFirefox&&$I>=65;this.IsOpera=an.indexOf("opera")>=0;this.IsIE=an.indexOf("msie")>=0&&!this.IsOpera;this.IsIE10=this.IsIE&&an.indexOf("10.0")>=0;if(an.indexOf("rv:11.0")>0)this.IsIE11=true;this.IsIE910=this.IsIE&&(an.indexOf("9.0")>=0||this.IsIE10);this.IsIE78=this.IsIE&&!this.IsIE910&&!this.IsIE11;this.IsAnyIE=this.IsIE||this.IsIE11;this.IsSafari=an.indexOf("safari")>=0;this.IsMacSafari=this.IsSafari&&an.indexOf("chrome")<0;this.IsEdge=an.indexOf("edge")>=0;this.IsIEorEdge=this.IsEdge||this.IsAnyIE;this.IsWebKit=an.indexOf("webkit")>=0&&!this.IsEdge;if(this.IsTablet&&!this.IsWin)this.addEventHandler(__doc(this),"mousedown",Function.createDelegate(this,this.$3V));if(window.__loadImgUri){var im=new Image();im.src=window.__loadImgUri;}};PX.focusTags=['A','AREA','BUTTON','INPUT','SELECT','TEXTAREA','OPTION'];PX.antiXsrfToken="__RequestVerificationToken";PX.antiXsrfHeader="X-XSRF-TOKEN";PX.prototype.$3V=function(e){var se=this.eventElem(e),$J=PX.focusTags;if(se&&se.tagName&&Array.contains($J,se.tagName))return;var ae=__doc(this).activeElement;if(ae&&ae.blur)ae.blur();};PX.prototype.isDigit=function($K){if(typeof($K)=="string")$K=$K.charCodeAt(0);return $K>47&&$K<58;};PX.prototype.isLetter=function(ch){if(typeof(ch)=="number")ch=String.fromCharCode(ch);return ch.charCodeAt(0)>255||ch.toUpperCase()!=ch.toLowerCase();};PX.prototype.isPunctuation=function(c){var cc=c.charCodeAt(0);if((cc>=20&&cc<=0x2F)||(cc>=0x3A&&cc<=0x40)||(cc>=0x5B&&cc<=0x60)||(cc>=0x7B&&cc<=0x7E)){return true;};return false;};PX.prototype.isLetterOrDigit=function(c){var cc=c.charCodeAt(0);if((cc>=0x30&&cc<=0x39)||(cc>=0x41&&cc<=0x5A)||(cc>=0x61&&cc<=0x7A)){return true;};return false;};PX.prototype.isWhiteSpace=function(c){var cc=c.charCodeAt(0);if((cc>=0x0009&&cc<=0x000D)||(cc==0x0020)||(cc==0x0085)||(cc==0x00A0)){return true;};return false;};PX.prototype.joinStr=function($L){var ar=new Array();for(var i=1;i<arguments.length;i++)if(arguments[i])ar.push(arguments[i].toString());return ar.join($L)};PX.prototype.isDate=function($M){return $M instanceof Date||($M&&$M.constructor.name==="Date");};PX.prototype.equals=function(v1,v2){if((v1==null&&v2!=null)||(v2==null&&v1!=null))return false;if(this.isDate(v1)&&this.isDate(v2))return v1.getTime()==v2.getTime();return v1==v2;};PX.prototype.getInvariantText=function($M){var $N="";if($M!=null){if(this.isDate($M)){var $O=[$M.getMonth()+1,$M.getDate(),$M.getFullYear()];$N=$O.join("/");var $P=[$M.getHours(),$M.getMinutes(),$M.getSeconds()];if($P[0]||$P[1]||$P[2])$N+=" "+$P.join(":");}else if(typeof($M)=="boolean"){$N=$M?"True":"False";}else $N=$M.toString();};return $N;};PX.prototype.createXMLHttpRequest=function(){var $Q;try{$Q=new XMLHttpRequest();}catch(e){try{$Q=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){}};return $Q;};PX.prototype.addEventHandler=function($R,$S,$T,$U){var w=__win(this);if(w.allEvents==null)w.allEvents={};var $V=$S+"_"+$R.tagName+"#"+$R.id+"."+$R.className;if(!w.allEvents.hasOwnProperty($V))w.allEvents[$V]=[];w.allEvents[$V].push({o:$R,n:$S,c:$T,f:$U});if($R.addEventListener)$R.addEventListener($S,$T,$U);else if($R.attachEvent)$R.attachEvent("on"+$S,$T);else eval("obj.on"+$S+"="+$T);};PX.prototype.removeEventHandler=function($R,$S,$T,$U){var w=__win(this);if(w&&w.allEvents){try{if(w.allEvents!=null){var $V=$S+"_"+$R.tagName+"#"+$R.id+"."+$R.className;if(w.allEvents.hasOwnProperty($V)){var $W=w.allEvents[$V],$X=false;for(var i=0;i<$W.length;i++){var $Y=$W[i];if($Y&&$Y.o==$R&&$Y.n==$S&&$Y.c==$T&&$Y.f==$U){$X=true;break;}};if($X)$W.splice(i,1);if($W.length==0)delete w.allEvents[$V];}}}catch(ex){}};if($R.removeEventListener)$R.removeEventListener($S,$T,$U);else if($R.detachEvent)$R.detachEvent("on"+$S,$T);else eval("obj.on"+$S+"= null;");};PX.prototype.cancelEvent=function(e,$Z){if(e==null)if((e=__win(this).event)==null)return;if($Z==null)$Z=true;if($Z&&e.stopPropagation!=null)e.stopPropagation();if(e.preventDefault!=null)e.preventDefault();if($Z)e.cancelBubble=true;e.returnValue=false;if(e.keyCode&&this.IsIE)try{e.keyCode=0;}catch(ex){}};PX.prototype.lockMouseEvents=function(){this.mouseLocked=true;var me=this;setTimeout(function(){me.unlockMouse();},1);};PX.prototype.unlockMouse=function(){this.mouseLocked=false;};PX.prototype.getTextWidth=function($N,$00){var $x=__doc(this).createElement("span");$x.className=$00;$x.style.position="absolute";$x.style.top="-100px";$x.style.width="auto";$x.innerHTML=$N.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');__doc(this).body.appendChild($x);var $01=$x.scrollWidth;__doc(this).body.removeChild($x);return $01;};PX.prototype.GetAntiForgeryToken=function(){var $02=this.elemsByName('__RequestVerificationToken');if($02==null||$02.length==0)return null;else return $02[0].value;};PX.prototype.elemByID=function(id){if(__doc(this).getElementById)return __doc(this).getElementById(id);else return __doc(this).all[id];};PX.prototype.elemsByName=function(name,$03){var $04;if(__doc(this).getElementsByName)$04=__doc(this).getElementsByName(name);else{$04=__doc(this).all[name];if($04&&$04.length==0)$04=[$04];};if($03&&$04){var ar=new Array();for(var i=0;i<$04.length;i++)ar.push($04[i]);return ar;};return $04;};PX.prototype.createElement=function(element,parent,$05,$06){if($06==null)$06=__doc(this);var $07=$06.createElement(element);for(var name in $05)$07.setAttribute(name,$05[name]);if(parent)parent.appendChild($07);return $07;};PX.prototype.contains=function($08,$07){if($08==$07)return false;if($08.contains)return $08.contains($07);var $09=false,p=$07;while(p&&p!=$08)p=p.parentNode;return p==$08;};PX.prototype.containsObject=function($08,ev){var $07=this.eventElem(ev),$R,id;if($07)while($07){if(($R=$07.object)!=null){if($R.ID)id=$R.ID;if($R.element)id=$R.element.id;if(id)break;};$07=$07.parentNode;};return id?id.startsWith($08.ID):false;};PX.prototype.isRTL=function(){return __doc(this).forms[0].style.direction=="rtl";};PX.prototype.getEnabled=function($07){if($07.tagName!="INPUT"&&Array.contains(PX.formTags,$07.tagName))return !$07.disabled;return $07.getAttribute==null||!$07.getAttribute("enabled");};PX.prototype.setEnabled=function($07,v){var $0a=$07.tagName=="INPUT"&&$07.type=="text";v=Boolean(v);if(!$0a&&Array.contains(PX.formTags,$07.tagName))$07.disabled=!v;else{if(v)$07.removeAttribute("enabled");else $07.setAttribute("enabled","false");}};PX.prototype.getReadOnly=function($07){if(Array.contains(PX.readOnlyTags,$07.tagName))return $07.readOnly;return null;};PX.prototype.setReadOnly=function($07,v){if(Array.contains(PX.readOnlyTags,$07.tagName)){$07.readOnly=Boolean(v);if($07.type=="color"){$07.disabled=Boolean(v);}}};PX.prototype.isVisible=function($07){try{return $07&&$07.offsetParent!=null&&$07.offsetWidth>0;}catch(ex){};return false;};PX.prototype.excludeCss=function($07,$0b,$0c){var $00=(typeof($07)=="string")?$07.split(" "):$07.className.split(" ");if($00.length){for(var i=0;i<$00.length;i++)if(Array.contains($0b,$00[i]))$00.splice(i--,1);};$00=$00.length?$00.join(" ").trim():"";if($0c)$07.className=$00;return $00;};PX.prototype.appendCss=function($07,$0b,$0c){var $00=(typeof($07)=="string")?$07.split(" "):$07.className.split(" ");if($00.length){for(var i=0;i<$0b.length;i++)if($0b[i]&&!Array.contains($00,$0b[i]))$00.push($0b[i]);};$00=$00.length?$00.join(" ").trim():"";if($0c)$07.className=$00;return $00;};PX.prototype.toggleCss=function($0d,$07,$0b,$0c){return $0d?this.appendCss($07,$0b,$0c):this.excludeCss($07,$0b,$0c);};PX.prototype.hasCss=function($07,$0b){var $00=(typeof($07)=="string")?$07.split(" "):$07.className.split(" ");if($00.length){for(var i=0;i<$0b.length;i++)if(Array.contains($00,$0b[i]))return true;};return false;};PX.formTags=['BUTTON','INPUT','SELECT','TEXTAREA'];PX.readOnlyTags=['INPUT','TEXTAREA'];PX.readOnlyCss="ReadOnly";PX.disabledCss="Disabled";PX.prototype.getTooltip=function($07){var tm=__px_tm(this);var title;if(tm)title=$07.getAttribute(tm.attrName);return(title!=null)?title:"";};PX.prototype.getTitle=function($07){var title=$07.title,tm=__px_tm(this);if(!title&&tm)title=$07.getAttribute(tm.attrName);return(title!=null)?title:"";};PX.prototype.setTitle=function($07,v){$07.title=(v!=null)?v:"";var tm=__px_tm(this);if(tm&&tm.loadHandled)tm.registerElem($07);};PX.prototype.getElemTopPos=function($07,parent,$0e){return this.getElemPos($07,parent,"Top",$0e);};PX.prototype.getElemLeftPos=function($07,parent,$0e){return this.getElemPos($07,parent,"Left",$0e);};PX.prototype.getElemTopPosAbs=function($07,parent,$0e){return this.getElemPos($07,parent,"Top",$0e,true);};PX.prototype.getElemLeftPosAbs=function($07,parent,$0e){return this.getElemPos($07,parent,"Left",$0e,true);};PX.prototype.getMouseOffsetX=function(ev,$07){return ev.clientX-this.getElemLeftPos($07)+this.getDocScrollElem().scrollLeft;};PX.prototype.getMouseOffsetY=function(ev,$07){return ev.clientY-this.getElemTopPos($07)+this.getDocScrollElem().scrollTop;};PX.prototype.getElemPos=function(e,parent,$0f,$0e,$0g){if($0e==null)$0e=true;var $0h="offset"+$0f,$0i="client"+$0f;var $0j="border"+$0f+"Width",scroll="scroll"+$0f;var $0k="padding"+$0f;if($0g==true){var $0l=e.getBoundingClientRect();var $0m=parent&&parent.getBoundingClientRect();if($0f=="Top"){if($0m)return $0l.top-$0m.top;return $0l.top;}else if($0f=="Left"){if($0m)return $0l.left-$0m.left;return $0l.left;}};var $0n=0,$0o=e,$0p;if(e!=null)do{if(e[$0h]>0||$0g)$0n+=e[$0h];if($0e&&$0o!=e){if(e[$0i]){$0n+=e[$0i];}else if(e.style[$0j]){var bw=parseInt(e.style[$0j]);if(!isNaN(bw))$0n+=bw;}};if(e.style.position=="fixed"){$0n+=this.getDocScrollElem()[scroll];break;};if(e[scroll]!=null&&$0o!=e){var op=e.offsetParent,t=e,$0q=0;while(t&&t!=op&&t.tagName!="BODY"){$0q=0;if(this.isRTL()&&!this.IsWebKit&&$0f=="Left")$0q=t.scrollWidth-t.clientWidth-Math.abs(t[scroll]);else if(t[scroll])$0q=Math.abs(t[scroll]);$0n-=$0q;t=t.parentNode;}};if(parent){var op=e.offsetParent,t=e;while(t&&t!=op){if(t==parent){e=null;break;};t=t.parentNode;}};if(e==null||e.tagName=="BODY"||e.tagName=="HTML")break;try{e=e.offsetParent;}catch(e){e=null;}}while(e!=null&&e!=parent);return $0n;};PX.prototype.getDropDownPos=function($0r,$0s,$0t,$0u){var e=$0r,de=$0s,$0n=new Object();var $0v=__doc(this).documentElement;var $0w=this.getDocScrollElem();var $0x=Boolean(de.style.display),$0y,$0z,$0A;var $0B,$0C,$0D,$0E;try{if($0x){de.style.left=de.style.top="-1000px";de.style.display="";};$0y=de.offsetWidth;$0z=de.offsetHeight;$0A=de.offsetParent;$0B=$0v.clientWidth;$0C=$0v.clientHeight;$0E=$0w.scrollLeft;$0D=$0w.scrollTop;}finally{if($0x)de.style.display="none";};$0n.left=this.getElemLeftPosAbs(e,$0A,this.IsSafari);$0n.top=this.getElemTopPosAbs(e,$0A,this.IsSafari)+e.offsetHeight;var $0F=$0n.top+e.offsetHeight/2-$0D;var $0G=$0C-$0F;if($0t==null)$0t=0;delete de.dropDownAbove;var $0H=false;if($0u||(($0n.top+$0z)>($0C+$0D)&&$0F>$0G)){$0n.top-=e.offsetHeight+$0z;if($0t>0&&$0n.top<$0D){$0n.top=$0D;$0H=true;}else de.dropDownAbove=true;}else{if($0t>0&&($0n.top+$0z)>($0C+$0D)){$0n.top=$0D+($0C-$0z);if($0n.top<$0D)$0n.top=$0D;$0H=true;}};if($0H){var $0I=$0n.left+e.offsetWidth;var $0J=$0n.left-$0E;var $0K=$0B-($0I-$0E);if(($0I+$0y)>($0B+$0E)&&$0J>$0K)$0n.left-=$0y;else $0n.left=$0I;};if($0t>1){if(($0n.left+$0y)>($0B+$0E))$0n.left=$0B-$0y+$0E-1;if(($0n.top+$0z)>($0C+$0D))$0n.top=$0C-$0z+$0D;if($0n.left<$0E)$0n.left=$0E;if($0n.top<$0D)$0n.top=$0D;};return $0n;};PX.prototype.setDropDownPos=function($0r,$0s,$0t,$0u){var $0n=this.getDropDownPos($0r,$0s,$0t,$0u);$0s.style.left=$0n.left+"px";$0s.style.top=$0n.top+"px";};PX.prototype.setStyleWidth=function($07,$0y){if($07&&$07.style){var $0L=this.getStyleWidth($07,$0y);if($0L<0)$0L=0;$07.style.width=$0L+"px";if(this.IsIE)try{$07.width=$0L+"px";}catch(ex){}}};PX.convertInt=function(v){var $M=v?parseInt(v):0;return isNaN($M)?0:$M;};PX.prototype.getStyleWidth=function($07,$0y){if(!$07)return 0;var w=$0y?$0y:$07.offsetWidth;return w-this.getWidthDelta($07);};PX.prototype.getWidthDelta=function($07){if(!$07)return 0;var s=$07.currentStyle,$0q=0;if(!s)s=__win(this).getComputedStyle($07,null);if(s){var $0M=s.MozBoxSizing?s.MozBoxSizing:s.boxSizing;if($0M!="border-box"||$07.tagName=="TABLE"||this.IsIE78){var $0k=PX.convertInt(s.paddingLeft)+PX.convertInt(s.paddingRight);var $0j=PX.convertInt(s.borderLeftWidth)+PX.convertInt(s.borderRightWidth);$0q=$0k+$0j;}};return $0q;};PX.prototype.setStyleLeft=function($07,$0N){if($07&&$07.style)$07.style.left=this.getStyleLeft($07,$0N)+"px";};PX.prototype.getStyleLeft=function($07,$0N){if(!$07)return 0;var s=$07.currentStyle;if(!s)s=__win(this).getComputedStyle($07,null);if(s){var w=$0N?$0N:$07.offsetLeft;var $0k=PX.convertInt(s.paddingLeft);var $0j=PX.convertInt(s.borderLeftWidth);return w-$0k-$0j;}};PX.prototype.getDocScrollElem=function(){return(this.IsEdge||this.IsMacSafari)?__doc(this).body:__doc(this).documentElement;};PX.prototype.setStyleHeight=function($07,$0z){if($07&&$07.style){var $0O=this.getStyleHeight($07,$0z);if($0O<0)$0O=0;$07.style.height=$0O+"px";if(this.IsIE)try{$07.height=$0O+"px";}catch(ex){}}};PX.prototype.getStyleHeight=function($07,$0z){if(!$07)return 0;var h=$0z?$0z:$07.offsetHeight;return h-this.getHeightDelta($07);};PX.prototype.getHeightDelta=function($07){if(!$07)return 0;var s=$07.currentStyle,$0q=0;if(!s)s=__win(this).getComputedStyle($07,null);if(s){var $0M=s.MozBoxSizing?s.MozBoxSizing:s.boxSizing;if($0M!="border-box"||$07.tagName=="TABLE"||this.IsIE78){var $0P=PX.convertInt(s.paddingTop)+PX.convertInt(s.paddingBottom);var $0Q=PX.convertInt(s.borderTopWidth)+PX.convertInt(s.borderBottomWidth);$0q=$0P+$0Q;}};return $0q;};PX.prototype.setStyleTop=function($07,top){if($07&&$07.style)$07.style.top=this.getStyleTop($07,top)+"px";};PX.prototype.getStyleTop=function($07,top){if(!$07)return 0;var s=$07.currentStyle;if(!s)s=__win(this).getComputedStyle($07,null);if(s){var h=top?top:$07.offsetTop;var $0P=PX.convertInt(s.paddingTop);var $0Q=PX.convertInt(s.borderTopWidth);return h-$0P-$0Q;}};PX.prototype.getComputedStyle=function($07){var s=$07.currentStyle;if(!s)s=__win(this).getComputedStyle($07,null);return s;};PX.prototype.getStyleIntElement=function($07,$0R){var s=this.getComputedStyle($07);return PX.convertInt(s[$0R]);};PX.prototype.scrollToView=function($0S,$07,$0t){if($0S==null||($0S.scrollWidth<=$0S.offsetWidth&&$0S.scrollHeight<=$0S.offsetHeight))return;var $0T=this.calcScroll($0S,$07,$0t);if($0T!=null){if($0t==null)$0t=0;if(($0t==0||$0t==1)&&$0T.top!=undefined)$0S.scrollTop=$0T.top;if(($0t==0||$0t==2)&&$0T.left!=undefined){$0S.scrollLeft=this.IsFirefox?$0T.left:Math.abs($0T.left);}}};PX.prototype.calcScroll=function($0S,$07,$0t){if($0S.scrollWidth<=$0S.offsetWidth&&$0S.scrollHeight<=$0S.offsetHeight)return null;var $0A=$0S.offsetParent;var $0U=this.getElemLeftPos($07,$0A);var $0V=this.getElemLeftPos($0S,$0A);var $0W=this.getElemTopPos($07,$0A);var $0X=this.getElemTopPos($0S,$0A);var $0Y=$0U+$07.offsetWidth;var $0Z=$0V+$0S.offsetWidth;var $10=$0W+$07.offsetHeight;var $11=$0X+$0S.offsetHeight;var $12=$0S.offsetWidth-$0S.clientWidth;var $13=$0S.offsetHeight-$0S.clientHeight;var $14=undefined;var $15=undefined;if($0t==null)$0t=0;if($0t==0||$0t==1){if($10>($11-$13)&&$0W-($10-$11)>$0X)$14=$0S.scrollTop+($10-$11)+$13;if($0W<$0X)$14=$0S.scrollTop-($0X-$0W);};if($0t==0||$0t==2){var $0E=(this.isRTL()&&this.IsIEorEdge)?-$0S.scrollLeft:$0S.scrollLeft;if($0Y>($0Z-$12)&&$0U-($0Y-$0Z)>$0V)$15=$0E+($0Y-$0Z)+$12;if($0U<$0V)$15=$0E-($0V-$0U);};var $0T=new Object();$0T.top=$14;$0T.left=$15;return $0T;};PX.prototype.getCSSRule=function($16){var $17=__doc(this).styleSheets;$16="."+$16;for(var i=$17.length-1;i>=0;i--){var sh=$17[i];if(sh.cssRules){for(var j=0;j<sh.cssRules.length;j++)if(sh.cssRules[j].selectorText==$16)return sh.cssRules[j];};if(sh.rules){for(var j=0;j<sh.rules.length;j++)if(sh.rules[j].selectorText==$16)return sh.rules[j];};if(sh.imports){for(var j=0;j<sh.imports.length;j++)for(var m=0;m<sh.imports[j].rules.length;m++){if(sh.imports[j].rules[m].selectorText==$16)return sh.imports[j].rules[m];}}};return null;};PX.prototype.copyCssToStyle=function($07,$00){var $18=$00?this.getCSSRule($00):null;if($18){for(var n in $18.style){var $M=$18.style[n];if(n!="cssText"&&$M&&typeof($M)=="string"){try{$07.style[n]=$18.style[n];}catch(ex){}}}}};PX.prototype.registerCssRules=function($19){var $1a='<style type="text/css">';var $1b="</style>";var end=$19.indexOf($1b);var $r=$19.indexOf($1a);while($r>=0&&end>0){$r+=$1a.length;var $1c=$19.substring($r,end);var ar=$1c.split("\x7d");if(this.IsIE){if(this.sheet==null)this.sheet=__doc(this).createStyleSheet();for(var i=0;i<ar.length;i++){$r=ar[i].indexOf("{");if($r>0){var $16=ar[i].substring(0,$r).replace(/\s+/g,"");var $1d=ar[i].substring($r+1);if($16&&$1d)this.sheet.addRule($16,$1d);}}}else{var $1e=__doc(this).styleSheets[0];for(var i=0;i<ar.length;i++){if(ar[i].indexOf("{")>0)$1e.insertRule(ar[i]+"\x7d",$1e.cssRules.length-1);}};$r=$19.indexOf($1a,end +$1b.length);end=$19.indexOf($1b,$r);}};PX.prototype.getInnerText=function($07){return $07.text||$07.textContent||this.$3W($07);};PX.prototype.$3W=function($07){var $1f="";if($07==null)return $1f;var $1g=$07.childNodes,i=0;while(i<$1g.length){var $1h=$1g.item(i);switch($1h.nodeType){case 1:case 5:$1f+=arguments.callee($1h);break;case 3:case 2:case 4:$1f+=$1h.nodeValue;break;default:break;};i++;};return $1f;};PX.prototype.eventElem=function(ev,o){if(ev.target)return ev.target;else if(ev.srcElement)return ev.srcElement;return o;};PX.prototype.eventButton=function(ev){if(__doc(this).all){switch(ev.button){case 1:return 0;case 4:return 1;case 2:return 2;};return 0;};return ev.button;};PX.prototype.eventObject=function(ev,$1i){var $07=this.eventElem(ev),o;if(!$07)return;while($07){if((o=$07.object)!=null){if($1i==null||o instanceof $1i)break;var $f=o.constructor.__baseType,$U;if($f){if(typeof $f=="function")$U=($f==$1i);else $U=Array.contains($f,$1i);if($U)break;}};$07=$07.parentNode;};return $07?$07.object:null;};PX.prototype.findTextElem=function($07){var n=$07.childNodes;if(!n)return null;var $1j=null;for(var i=0;i<n.length;i++){if(n[i].nodeName=="#text"&&n[i].nodeValue.replace(/\u0009/g,'')!="\n"){$1j=n[i];break;}};if($1j==null)for(var i=0;i<n.length;i++){if(n[i].childNodes&&(n[i].className==null||n[i].className.indexOf("sprite-icon")<0)){$1j=arguments.callee(n[i]);if($1j!=null)break;}};return $1j;};PX.prototype.setElemText=function($07,$N,$1k){if($N==null)$N="";else $N=$N.toString();if($1k==null)$1k=true;var n=this.findTextElem($07);if(!n&&$1k){var t=__doc(this).createTextNode($N);$07.appendChild(t);}else{if(n.nodeValue.trim()!=$N.trim())n.nodeValue=$N;}};PX.prototype.getElemText=function($07){var $1j="";if($07.nodeName=="#text")$1j=$07.nodeValue;else{var n=this.findTextElem($07);if(n)$1j=n.nodeValue;};return $1j;};PX.prototype.getTableCellIndex=function(td){if(td&&td.tagName=="TD"){var r=td.parentNode;for(var $1l=0;$1l<r.cells.length;$1l++)if(r.cells[$1l]==td)break;return $1l;};return -1;};PX.prototype.startWC=function(){var wd=__doc(this).waitDiv,$0v=__doc(this).documentElement;if(!wd){var $08=__win(this).theForm?__win(this).theForm:__doc(this).body;wd=__doc(this).createElement("div");wd.style.left=wd.style.top="0px";wd.style.backgroundColor="transparent";$08.appendChild(wd);__doc(this).waitDiv=wd;var h=Function.createDelegate(this,this.$3X);this.addEventHandler($0v,"keydown",h,true);this.addEventHandler($0v,"keypress",h,true);};wd.style.display="";wd.style.zIndex=20000;wd.style.position="absolute";wd.style.width="100%";wd.style.height=$0v.clientHeight+"px";wd.style.cursor="wait";if(__px_tm(this))__px_tm(this).hideTooltip();};PX.prototype.stopWC=function(){var wd=null,me=this;try{wd=__doc(this).waitDiv;}catch(ex){};if(wd&&wd.style.display==""){wd.style.cursor="";wd.style.display="none";{setTimeout(function(){if(__doc(me))__doc(me).body.style.cursor="default";},150);setTimeout(function(){if(__doc(me))__doc(me).body.style.cursor="";},300);};if(wd.releaseCapture)wd.releaseCapture();this.runWaitTask();}};PX.prototype.startLC=function($1m){var ld=__doc(this).$3Y;var $0v=__doc(this).documentElement;if(!ld){var $08=__win(this).theForm?__win(this).theForm:__doc(this).body;ld=__doc(this).createElement("div");ld.innerHTML='<table style="width:100%; height:100%; background-color:#E6E6E6;">'+'<tr valign="middle" >'+'<td align="right" width="50%" >'+'<img src="'+__loadImgUri+'" style="background-color:#FFFFFF;" />'+'</td>'+'<td align="left" width="50%" >'+'<div id="loadText" style="font-family: Arial,Tahoma,Verdana,Helvetica,sans-serif; font-size: 9pt;">'+($1m?$1m:__loadStr)+'</div>'+'</td>'+'</tr>'+'</table>';ld.style.left=ld.style.top="0px";ld.style.backgroundColor="#E6E6E6";ld.style.opacity="0.8";ld.style.filter="alpha(opacity=80)";$08.appendChild(ld);__doc(this).$3Y=ld;var h=Function.createDelegate(this,this.$3X);this.addEventHandler($0v,"keydown",h,true);this.addEventHandler($0v,"keypress",h,true);};this.setLoadingText($1m?$1m:__loadStr);ld.style.display="";ld.style.zIndex=20000;ld.style.position="absolute";ld.style.left="0px";ld.style.top="0px";ld.style.width="100%";ld.style.height=$0v.clientHeight+"px";ld.style.cursor="default";if(__px_tm(this))__px_tm(this).hideTooltip();};PX.prototype.startPI=function($N){var pi=__doc(this).$3Z;var $0v=__doc(this).documentElement;if(!pi){pi=__doc(this).$3Z=__doc(this).createElement("div");pi.className="progress";var $08=__win(this).theForm?__win(this).theForm:__doc(this).body;var $1n=__doc(this).createElement("div");$1n.className="progressStrip";$08.appendChild(pi.progressStrip=$1n);var $1o=__doc(this).createElement("div");$1o.className="border";$1n.appendChild(pi.progressBorder=$1o);var $1p=__doc(this).createElement("div");$1p.className="bar";$1n.appendChild(pi.progressBar=$1p);$08.appendChild(pi);var h=Function.createDelegate(this,this.$3X);this.addEventHandler($0v,"keydown",h,true);this.addEventHandler($0v,"keypress",h,true);};pi.progressBar.innerHTML=$N?$N:"";pi.style.display=pi.progressStrip.style.display="";pi.style.left=pi.style.top="0px";pi.style.zIndex=20000;pi.style.height=$0v.clientHeight+"px";pi.style.cursor="default";if(__px_tm(this))__px_tm(this).hideTooltip();};PX.prototype.setPIValue=function($1q){var pi=__doc(this).$3Z;if(pi)pi.progressBar.style.width=parseInt($1q)+"%";};PX.prototype.setPIText=function($N){var pi=__doc(this).$3Z;if(pi)pi.progressBar.innerHTML=$N;};PX.prototype.isActivePI=function(){var pi=__doc(this).$3Z;return pi!=null&&pi.style.display=="";};PX.prototype.stopPI=function(){var pi=__doc(this).$3Z;if(pi&&pi.style.display==""){pi.progressBar.innerHTML="";pi.progressBar.style.width="0px";pi.style.cursor="";pi.style.display=pi.progressStrip.style.display="none";pi.style.left=(-1*pi.offsetWidth)+"px";pi.style.top=(-1*pi.offsetHeight)+"px";}};PX.prototype.stopLC=function(){var ld=__doc(this).$3Y;if(ld&&ld.style.display==""){var $1r=this.elemByID("loadText");if($1r)$1r.innerHTML="";ld.style.cursor="";ld.style.display="none";ld.style.left=(-1*ld.offsetWidth)+"px";ld.style.top=(-1*ld.offsetHeight)+"px";}};PX.prototype.setLoadingText=function($1m){var $1r=this.elemByID("loadText");if($1r)$1r.innerHTML=$1m;};PX.prototype.isActiveWC=function(){var wd=__doc(this).waitDiv;return wd!=null&&wd.style.display=="";};PX.prototype.isActiveLC=function(){var wd=__doc(this).$3Y;return wd!=null&&wd.style.display=="";};PX.prototype.$3X=function(e){var wd=__doc(this).waitDiv,$07=this.eventElem(e);if(wd&&wd.style.display==""){var $1s=$07&&($07.getAttribute("unblock")!=null);if(!$1s)this.cancelEvent(e);}};PX.prototype.registerWaitTask=function($1t,$1u,$c){if(this.$40==null)this.$40=new Object();this.$40[$1t.ID]=[$1t,$1u,$c];};PX.prototype.unregisterWaitTask=function($1t){if(this.$40!=null){if($1t)delete this.$40[$1t.ID];else this.$40=null;}};PX.prototype.runWaitTask=function(){if(this.$40!=null)for(var id in this.$40){var ar=this.$40[id];ar[1].call(ar[0],ar[2]);};this.$40=null;};PX.prototype.registerCallbackTask=function($1t,$1u,$c){if(this.$41==null)this.$41=new Object();this.$41[$1t.ID]=[$1t,$1u,$c];};PX.prototype.unregisterCallbackTask=function($1t){if(this.$41!=null)delete this.$41[$1t.ID];};PX.prototype.runCallbackTask=function(){if(this.$41!=null)for(var id in this.$41){var ar=this.$41[id];ar[1].call(ar[0],ar[2]);};this.$41=null;};PX.prototype.clearCallbackTask=function(){this.$41=null;};PX.prototype.createFocusElem=function($0r){var $0S=__doc(this).createElement("DIV"),ds=$0S.style;ds.position="absolute";ds.left=ds.top="-99px";ds.width=ds.height="0px";ds.fontSize="0pt";ds.overflow="hidden";var $07=__doc(this).createElement("INPUT"),s=$07.style;$07.type="text";s.zIndex=-1;s.fontSize="0pt";s.position="absolute";s.width=s.height="1px";s.borderWidth=s.padding="0px";s.left=s.top="0px";s.cursor="default";__doc(this).body.appendChild($0S);$0S.appendChild($07);if($0r){$07.setAttribute("controlID",$0r.ID);$0S.object=$07.object=$0r;};return $07;};PX.prototype.selectElement=function(id,$1v){if(this.IsTablet)return;var $07=this.elemByID(id);if($07){if($07.object&&$07.object.elemFocus)$07=$07.object.elemFocus;if($07.tagName.indexOf('QP')===0){$07=$07.querySelector('input')};try{var $1w=(this.IsIE||$1v||!$07.select);if($1w&&$07.focus)$07.focus();if($07.select)$07.select();}catch(ex){}}};PX.prototype.selectElementText=function($07){if(__doc(this).body.createTextRange){var $1x=__doc(this).body.createTextRange();$1x.moveToElementText($07);$1x.select();}else if(__win(this).getSelection){var $1y=__win(this).getSelection(),$1x=__doc(this).createRange();$1x.selectNodeContents($07);$1y.removeAllRanges();$1y.addRange($1x);}};PX.prototype.setActive=function(id){var $07=(typeof id=="string")?this.elemByID(id):id;if($07){$07.setActive?$07.setActive():$07.focus();}};PX.prototype.doPost=function(id,$D,$1z){try{var $1A=__doc(this).activeElement;if($1A&&$1A.fireEvent)$1A.fireEvent("onblur");}catch(ex){};this.resetDisabledState();try{if($1z)__win(this).theForm.action=$1z;this.__doPostBack(id,$D);}catch(ex){}};PX.prototype.doPostNoDisabledReset=function(id,$D,$1z,$1B){try{var $1A=__doc(this).activeElement;if($1A&&$1A.fireEvent)$1A.fireEvent("onblur");}catch(ex){};try{if($1z)__win(this).theForm.action=$1z;this.__doPostBack(id,$D,$1B);}catch(ex){}};PX.prototype.__doPostBack=function(id,$D,$1B){var $1C=__win(this).theForm;if(!$1C.onsubmit||$1C.onsubmit($1B)!=false){$1C.__EVENTTARGET.value=id;$1C.__EVENTARGUMENT.value=$D;$1C.submit();}};PX.prototype.resetDisabledState=function(){var $1D=__win(this).theForm.elements.length;this.$42=new Array();for(var i=0;i<$1D;i++){var $07=__win(this).theForm.elements[i];if(!$07.disabled)continue;$07.disabled=false;this.$42.push($07);if(!this.IsIE)continue;var $0A=$07.parentNode;while($0A!=null){if(!this.getEnabled($0A)){this.setEnabled($0A,true);this.$42.push($0A);break;};$0A=$0A.parentNode;}}};PX.prototype.restoreDisabledState=function(){var ar=this.$42;if(!ar||ar.length==0)return;for(var i=0;i<ar.length;i++)this.setEnabled(ar[i],false);delete this.$42;};PX.prototype.getCookie=function(name){var $1E=new RegExp(name+"=([^;]+)");if($1E.test(__doc(this).cookie+";")){$1E.exec(__doc(this).cookie+";");return unescape(RegExp.$1);};return null;};PX.prototype.setCookie=function(name,$M,$1F,$1G){if(name&&$M!=null){var $N=name+"="+$M;if($1F)$N+="; path="+$1F;if($1G)$N+="; expires="+$1G.toGMTString();__doc(this).cookie=$N;}};PX.prototype.deleteCookie=function(name,$1F){if(name){var $N=name+"=",$1G=new Date();if($1F)$N+="; path="+$1F;$1G.setFullYear($1G.getFullYear()-1);$N+="; expires="+$1G.toGMTString();__doc(this).cookie=$N;}};PX.prototype.strPad=function($1H,length,$1I){return(new Array(length-$1H.length+1).join($1I))+$1H;};PX.prototype.colorToHex=function($1J){if($1J.substr(0,1)==='#')return $1J;var $1K=(new RegExp("(.*?)rgb\\((\\d+), (\\d+), (\\d+)\\)")).exec($1J);var $1L=parseInt($1K[2]),$1M=parseInt($1K[3]);var $1N=parseInt($1K[4]);var $1O=$1N|($1M<<8)|($1L<<16);return $1K[1]+'#'+this.strPad($1O.toString(16),6,'0');};PX.prototype.searchFrame=function($1P,$1Q){if($1P.frames[$1Q]!=null)return $1P.frames[$1Q];for(var i=0;i<$1P.frames.length;i++){var $1R=null;try{arguments.callee($1P.frames[i],$1Q);}catch(ex){};if($1R!=null)return $1R;};return null;};PX.prototype.clipboardCopy=function($N){var ib=__px_all(this)["inputBox"];if(ib){ib.setOkVisible(false);ib.setText($N);ib.restoreCaption();if(this.IsWin){var $1S=ib.position;ib.position=2;ib.left=ib.top=-200;ib.blockPage=false;ib.show();setTimeout(function(){ib.position=$1S;ib.blockPage=true;ib.hide();},1);}else ib.show();}else __win(this).prompt(this.getLocalMessage('clipCopy',"Copy to clipboard: Ctrl+C"),$N);};PX.prototype.showInputBox=function($1T,$1U){var ib=__px_all(this)["inputBox"];if(ib){var h=function($0M,ev){$0M.events.removeEventHandler("afterHide",h);if($0M.dialogResult==1)$1U($0M,ev);};ib.setCaption($1T);ib.setOkVisible(true);ib.events.addEventHandler("afterHide",h);ib.show();}};PX.prototype.getLocalMessage=function($V,$1V){return(window.localizedMessages&&window.localizedMessages[$V])||$1V;};PX.prototype.createWinFeatures=function($0z,$0y,top,$0N,toolbar){var $1f=new Object();$1f.height=$0z;$1f.width=$0y;$1f.top=top;$1f.left=$0N;$1f.toString=function(){if(!this.state){this.state="resizable,scrollbars";if(toolbar)this.state+=",location=yes,toolbar=yes";if(this.height)this.state+=",height="+this.height;if(this.width)this.state+=",width="+this.width;if(this.left)this.state+=",left="+this.left;if(this.top)this.state+=",top="+this.top;};return this.state;};return $1f;};PX.prototype.topWin=function(){var $1W,$G;try{$1W=__win(this).top;$G=$1W.location.href;if($G==null)$1W=null;}catch(ex){$1W=null;};return($1W==null)?__win(this):$1W;};PX.prototype.isEmbeddedWindow=function(){var $1W=__win(this),$1X=false;try{$1P=$1W.frameElement;}catch(ex){$1X=true;};return $1X;};PX.prototype.frameElement=function($1W){var $1P=null,w=$1W?$1W:__win(this);try{$1P=w.frameElement;}catch(ex){};return $1P;};PX.prototype.redirectToCachedVersion=function($B){var $1Y=$B.toLowerCase();if(!this.$43($B)&&$1Y.indexOf("genericinquiry")<0&&$1Y.indexOf("/pivot/")<0)return $B;var $l="timeStamp=",$1Z=this.getPageCacheID();if(!$1Z||$B.indexOf($l)>0)return $B;var $20=$1Z.indexOf("=CstMode")>0;if($20)$B=this.removeUrlParam($B,"HideScript=");var $21=$B.split("?");if($21.length==1)return $B+"?"+$1Z;return $21[0]+"?"+$1Z+"&"+$21[1];};PX.prototype.$43=function($B){var $1Y=$B.toLowerCase();return($1Y.indexOf("pages/")==0||$1Y.indexOf("/pages/")>=0)};PX.prototype.getPageCacheID=function(){var $22=document.cookie,$l="timeStamp=";var s=$22.indexOf($l);if(s<0)return null;var e=$22.indexOf(";",s);if(e<0)e=$22.length;return $22.substring(s,e);};PX.prototype.removeUrlParam=function($B,$23){if($B.indexOf($23)<0)return $B;var $24=$B.split("?");if($24.length==1)return $B;var $25=$24[1].split("&");var $26=[];for(var i=0;i<$25.length;i++){var p=$25[i];if(p.indexOf($23)==0){continue;};$26.push(p);};if($26.length==0)return $24[0];return $24[0]+"?"+$26.join("&");};PX.prototype.$44=function(){if(this.reloadTimeout){clearTimeout(this.reloadTimeout);delete this.reloadTimeout;}};PX.prototype.processReloadPage=function($1f,$c,$Q){var $D=this.getReloadPageData($c);if($D){delete $D.waitReload;delete $D.error;$D.result=$1f;$D.token=$Q.getResponseHeader(PX.antiXsrfHeader);};this.$44();};PX.prototype.processReloadPageErr=function($1f,$c){var $D=this.getReloadPageData($c);if($D){delete $D.waitReload;$D.error=$1f;};this.$44();};PX.prototype.sendReloadPage=function($27){var hc=Function.createDelegate(this,this.processReloadPage);var he=Function.createDelegate(this,this.processReloadPageErr);if(this.$45==null)this.$45=new Array();else this.clearReloadPageData($27,true);var $D=new Object();$D.url=$27;$D.waitReload=true;this.$45.push($D);__px_callback(this).doCallback("ctl00$phDS$ds","ReloadPage",hc,$27,he,true,true,false,$27);};PX.prototype.clearReloadPageData=function($B,$28){var $29=__win(this),$2a=this.topWin();if($28||$2a!=$29){var $2b=null;try{$2b=$2a.px;}catch(ex){};if($2b&&$2b.$45!=null){for(var i=0;i<$2b.$45.length;i++){var $D=$2b.$45[i];if($D.url.indexOf($B)>=0){Array.removeAt($2b.$45,i--);}}}}};PX.prototype.getReloadPageData=function($B){if(this.$45!=null){for(var i=0;i<this.$45.length;i++)if(this.$45[i].url.indexOf($B)>=0)return this.$45[i];};return null;};PX.prototype.popupAllowFocus=function(){return location.protocol=="https:"||this.IsIE;};PX.prototype.openUrl=function($27,$1Q,$2c,$2d,$2e){if($27==null||$27.length==0)return;var $2a=this.topWin();$27=this.redirectToCachedVersion($27);$2a.startTime=new Date();$2a.lastTime=$2a.startTime;var $2f=this.getSessionSuffix(__win(this).location.href);var $2g=this.getSessionSuffix($27);this.setCookie("prevwin",($2g&&$2g>=10000)?$2g:$2f,"/");if($2c&&!$2d){if(this.isExternalUrl($27))return __win(this).open($27);if(this.searchFrame($2a,"main")!=null){this.openFrameset($27,$1Q);return;}else $2d=true;};if($2d){if(window.Office&&window.Office.context){window.Office.context.ui.displayDialogAsync($27);return null;}else{return this.openWindow($27,$1Q,$2e);}};var $1P,$2h,$2i=false,me=this;if($1Q&&!$1Q.startsWith('_')){$1P=this.elemByID($1Q);if($1P==null)$2h=this.searchFrame($2a,$1Q);};if($1P&&$27.indexOf("timeStamp=")>0&&this.$43($27)&&!PX.$46($1P)){var $2j=$2a.px;$2i=Boolean(this.reloadTimeout);if($2j&&!$2i){this.reloadTimeout=setTimeout(function(){delete me.reloadTimeout;},1000);$2j.sendReloadPage(this.resolveUrlHideScript(this.resolveSessionUrl($27)));}};if($27.indexOf("javascript:")==0){var $2k=decodeURIComponent($27.substr("javascript:".length));__win(this).eval($2k);}else if($1Q){if($1P!=null||$2h!=null){$27=this.resolveUrlHideScript(this.resolveSessionUrl($27));}else if($1Q=="_blank"&&$27.indexOf("preserveSession=true")<0&&$27.toLowerCase().indexOf(".aspx")>0){var $2l=new Object();$2l.href=$27;$27=this.getSessionUrl($2l,this.getSessionNumber()+1);}else $27=this.resolveSessionUrl($27);if($1P!=null){if(!$2i&&!PX.$46($1P)){if(this.frameLoadH==null)this.frameLoadH=Function.createDelegate(this,this.$47);this.$48($1P);this.addEventHandler($1P,"load",this.frameLoadH);$1P.__loading_ac=true;$1P.src=$27;setTimeout(function(){delete $1P.__loading_ac;},1000);}}else{if($2h!=null)$2h.location=$27;else __win(this).open($27,$1Q);}}else{$27=this.resolveSessionUrl(this.resolveUrlForPopup($27));$27=this.resolveUrlPageTitle($27);if(__win(this)!=$2a)$27=this.resolveUrlHideScript($27);try{__win(this).preserveSession=true;if($2e)this.setLocalStorageItem("popupCommand",JSON.stringify($2e));__loc(this).href=$27;}catch(x){}}};PX.prototype.resolveUrlForPopup=function($27){return this.copyUrlParameter($27,"PopupPanel");};PX.prototype.resolveUrlPageTitle=function($27){$27=this.copyUrlParameter($27,"HidePageTitle");return this.copyUrlParameter($27,"hidePageTitle");};PX.prototype.getOrigin=function(){if(!window.location.origin){return window.location.protocol+"//"+window.location.hostname+(window.location.port?':'+window.location.port:'');};return window.location.origin;};PX.prototype.getSiteName=function(){var $2a=this.topWin();var $2m=unescape(PX.$49($2a.location.pathname));if(($0n=$2m.indexOf("(W("))>0)$2m=$2m.substring(0,$0n);$2m=$2m.substring(0,$2m.lastIndexOf("/"));return $2m;};PX.prototype.copyUrlParameter=function($27,$2n){var $G=unescape(__loc(this).href),$2o=$2n+"=";if($G.indexOf($2n)>0&&$27.indexOf($2o)<0){$G=$G.substring($G.indexOf($2o)+$2o.length);var $2p=$G.indexOf("&");var $n=$2p>-1?$G.substring(0,$2p):$G;return $27+($27.indexOf("?")>0?"&":"?")+$2o+$n;};return $27;};PX.$46=function($1P){var $2q=$1P.contentWindow,loading=false;try{loading=$1P.__loading_ac!=null||($2q!=null&&$2q.loading!=null);}catch(ex){};return loading;};PX.prototype.openWindow=function($27,$1Q,$2e){if(!$1Q){var $r=$27.lastIndexOf("/"),end=$27.indexOf(".aspx");if(end>0)$1Q=$27.substring($r+1,end);};var $2r=!this.popupAllowFocus()&&$1Q,$2s=this.topWin();var me=this,closed=false,$1W=null;var $2t=($1Q=="_layer"),$2u=($1Q=="_inline");if(!this.isExternalUrl($27)){var $0t=($2u?"Inline":"On");$27+=($27.indexOf("?")>0?"&":"?")+"PopupPanel="+($2t?"Layer":$0t);};if(!$2u&&!$2t){if($2s.popupStorage==null)$2s.popupStorage=new Object();$1W=$2s.popupStorage[$1Q];if($1W){delete $2s.popupStorage[$1Q];try{if($2e==null)$2e=$1W.popupCommand;$1W.close();closed=true;}catch(e){}}};if(closed){setTimeout(function(){me.$4a($27,$1Q,$2e);},0);return null;};if($2t)return this.$4b($27,$2e);return this.$4a($27,$1Q,$2e,$2u);};PX.prototype.isPopupWindow=function($B){return $B.indexOf("PopupPanel")>0;};PX.prototype.isPopupInlineWindow=function($B){if($B==undefined)$B=__loc(this).href;return $B.indexOf("PopupPanel=Inline")>0;};PX.prototype.isPopupLayerWindow=function($B){if($B==undefined)$B=__loc(this).href;return $B.indexOf("PopupPanel=Layer")>0;};PX.prototype.closePopupWindow=function($2v,$2w){var $1W=__win(this),$2x=this.frameElement($1W);$1W.closePopup=true;$1W.suppressChanges=$2v;if($2w)$1W.savePerformed=true;if($2x||this.isPopupInlineWindow()||this.isEmbeddedWindow())history.back();else __win(this).close();};PX.prototype.hideInlineFrame=function($2y){var $2z=this.getInlineFrameContainer();if(!$2z)return;if($2y||$2z.getAttribute("collapsible")==null){$2z.style.display="none";this.excludeCss($2z.parentNode,["layer-visible"],true);}else this.appendCss($2z,["min"],true);if($2y){var $2x=$2z.querySelector('iframe'),$1W=$2x?$2x.contentWindow:null;if($1W){this.$4c($1W);__px_cm($1W.parent).sendPageUnloadRequest(true,$1W.__appPath);}}};PX.prototype.hideLinkedInlineFrame=function($2y){var $2x=this.frameElement();if($2x){var $2A=$2x.getAttribute("inline_frame");var $2B=$2A?__px($2x).elemByID($2A):null;if($2B&&($2y||$2B.style.display==""))__px(this).hideInlineFrame($2y);}};PX.prototype.isExternalWin=function($1W){var $2C=false;try{$2C=($1W.document==null);}catch(e){$2C=true;};return $2C;};PX.prototype.$4a=function($27,$1Q,$2e,$2u){var $0N=(this.IsFirefox?window.screenX:window.screenLeft)+50;var top=(this.IsFirefox?window.screenY:window.screenTop)+50,$1W;var $0z=700,$0y=1000;if(top>=600)top=50;if($0N>=1000)$0N=50;if(this.isPopupWindow($27)&&!this.frameElement()){var $2D=this.getPageNameFromUrl($27);$0y=Math.max(parseInt(this.getLocalStorageItem($2D+"_iwidth",$0y),10),300);$0z=Math.max(parseInt(this.getLocalStorageItem($2D+"_iheight",$0z),10),200);};var $2E=!this.$43($27);var $2F=this.createWinFeatures($0z,$0y,top,$0N,$2E),me=this;if($1Q=="_inline")$2u=true;if($2u){$27=this.resolveUrlPageTitle($27);__loc(this).href=this.resolveUrlHideScript($27);return;};$27=this.resolveSessionUrl($27,true);$1W=window.open($27,$1Q,$2F.toString(),true);if($1W==null)return null;if(this.isExternalWin($1W))return $1W;this.topWin().popupStorage[$1Q]=$1W;$1W.targetFrame=$1Q;try{$1W.focus();}catch(e){};if(this.popupUnloadH==null)this.popupUnloadH=Function.createDelegate(this,this.$4d);if(this.IsAnyIE||this.IsEdge)this.addEventHandler($1W,"unload",this.popupUnloadH);$1W.popupCommand=$2e;$1W.allowAutoHide=true;$1W.openerPX=this;var $2G=function(){me.removeEventHandler($1W,"unload",me.popupUnloadH);me.addEventHandler($1W,"unload",me.popupUnloadH);$1W.popupCommand=$2e;$1W.allowAutoHide=true;$1W.openerPX=me;};this.addEventHandler($1W,"load",$2G);return $1W;};PX.layerContID="_layer_cont";PX.layerFrameID="_layer_frame";PX.prototype.popupWindowLoadCallback=function($1W){this.addEventHandler($1W,"unload",this.popupUnloadH);$1W.allowAutoHide=true;$1W.openerPX=this;};PX.prototype.getInlineFrameContainer=function(){var $2x=this.frameElement();return $2x?__px($2x).elemByID(PX.layerContID):this.elemByID(PX.layerContID);};PX.prototype.$4b=function($27,$2e){var me=this,$2H,$1W,$2l,$2x=this.frameElement();var $2B=this.layerFrame,$2I=this.layerCont;var $c=$2x?$2x:this,$2J=true;if(this.layerCont==null){$2I=this.getInlineFrameContainer();if($2I==null){$2I=__doc($c).createElement("div");$2I.id=PX.layerContID;$2I.className="layer-cont";$2H=__doc($c).createElement("div");$2H.className="frame-shadow spinner";$2I.appendChild($2H);};$2I.style.display="none";this.layerCont=$2I;if($2x)$2x.setAttribute("inline_frame",$2I.id);};if(this.layerFrame==null){var $2K=PX.layerFrameID;$2B=$2x?__px($2x).elemByID($2K):this.elemByID($2K);if($2B==null){$2B=__doc($c).createElement("iframe");$2B.id=$2K;$2B.setAttribute("name",$2K);$2B.setAttribute("frameborder","0");$2B.className="layer";$2I.appendChild($2B);};this.layerFrame=$2B;};if($2I.parentNode==null){if($2x)$2x.parentNode.insertBefore($2I,$2x.nextSibling);else __win(this).theForm.appendChild($2I);};$1W=$2B.contentWindow;$2l=$1W.location;if($2l.href&&$2l.href.indexOf($27)>=0&&$1W.px_cm&&$1W.px_cm.requiredReloadPage(true)){$1W.px_cm.clearOnLoadTasks();$1W.px_cm.reloadPage();$2J=false;}else $2l.replace(this.resolveUrlHideScript($27));var $2a=this.topWin();if(!this.layerStatePushed&&$2a){try{$2a.history.pushState({},window.document.title,$2a.location.href);this.layerStatePushed=true;}catch(e){$2a=null;}};$1W=$2B.contentWindow;if($1W==null)return null;$2I.style.display="";if($2J){$2H=this.$4e();$2H.style.display="";};if($2x)this.appendCss($2x.parentNode,["layer-visible"],true);if(this.isExternalWin($1W))return $1W;if(this.popStateH==null)this.popStateH=Function.createDelegate(this,this.$4f);$1W.popupCommand=$2e;$1W.openerPX=this;$1W.suppressChanges=true;$1W.__suppressUrlUpdate=true;var $2G=function(){$1W=$2B.contentWindow;if($2a)me.removeEventHandler($2a,"popstate",me.popStateH);var cm=__px_cm($1W);if(cm&&cm.requiredReloadPage(true)){cm.registerRequiresOnReLoad({'onReLoad':function(){$2H.style.display="none";}},'_inline');}else $2H.style.display="none";if($2a)me.addEventHandler($2a,"popstate",me.popStateH);$1W.popupCommand=$2e;$1W.openerPX=me;$1W.suppressChanges=true;$1W.__suppressUrlUpdate=true;};if($2J)this.addEventHandler($2B,"load",$2G);return $1W;};PX.prototype.isLayerShadowVisible=function(){var $2H=this.$4e();return $2H?($2H.style.display!="none"):false;};PX.prototype.setLayerShadowVisible=function($2L){var $2H=this.$4e();if($2H)$2H.style.display=$2L?"":"none";};PX.prototype.$4e=function(){var $2M=this.layerCont?this.layerCont:this.getInlineFrameContainer();return $2M?$2M.querySelector("div.spinner"):null;};PX.prototype.$4f=function(e){this.hideInlineFrame();delete this.layerStatePushed;};PX.prototype.updateBrowserUrl=function($2N,$2O){var screen=this.getScreenID(),$G=__loc(this).href;try{var $1W=this.topWin(),$2P='?';if($1W){var i=$G.indexOf("?"),$2Q=new Array();if($2N&&i>0){var q=$G.substring(i+1),ar=q.split('&');var $2R=["timestamp","hidescript","companyid","unum"];for(i=0;i<ar.length;i++){if(ar[i]&&!Array.contains($2R,ar[i].split('=')[0].toLowerCase()))$2Q.push(ar[i]);}};if($2O){$2P+=$2O;if(screen)$2P+='&';};if(screen)$2P+="ScreenId="+screen;if($2Q.length>0)$2P+='&'+$2Q.join('&');var $2S=__win(this).__queryString;if($2S){var $2Q=new Array(),ar=$2S.split('&'),$2T=$2P.toLowerCase();for(i=0;i<ar.length;i++)if(ar[i]&&$2T.indexOf(ar[i].toLowerCase())<0)$2Q.push(ar[i]);if($2Q.length>0)$2P+='&'+$2Q.join('&');};$1W.history.replaceState({},window.document.title,$2P);}}catch(ex){}};PX.prototype.getScreenID=function(){var screen=__win(this).__screenID,$1F=__loc(this).pathname;if(screen)screen=screen.replace(/\./g,'');else screen=$1F.substr($1F.lastIndexOf('/')+1).replace(".aspx","").toUpperCase();return screen;};PX.prototype.getCompanyID=function($2U){var $2V=this.getCookie("CompanyID");return $2U?encodeURIComponent($2V).replace(/%20/g,"+"):$2V;};PX.prototype.$4d=function(e){var $1W=this.eventElem(e);if($1W&&$1W.defaultView)$1W=$1W.defaultView;if($1W){this.removeEventHandler($1W,"unload",this.popupUnloadH);this.$4c($1W);}};PX.prototype.$4c=function($1W){if(!$1W||!$1W.popupCommand)return;var pc=$1W.popupCommand,ph=pc.popupHandler;var $2W=$1W.location.href.indexOf(".aspx")>0;if($2W&&!pc.checkSave||$1W.savePerformed){if(ph&&(typeof ph=="function"))ph($1W);if(pc.target&&pc.command)__px_callback(this).exec(null,pc);}};PX.prototype.$47=function(e){var $1P=this.eventElem(e),$1W=$1P?$1P.contentWindow:null;if($1P){__px_cm(this).logMessage("_handleFrameLoad");delete $1P.__loading_ac;this.removeEventHandler($1P,"load",this.frameLoadH);setTimeout(function(){try{delete $1W.loading;}catch(ex){}},2000);}};PX.prototype.$48=function($1P){var $1W=$1P.contentWindow,cm=null;try{cm=$1W&&$1W.px_cm;}catch(ex){};if(cm){$1W.suppressCallbacks=cm.suppressOnLoad=true;cm.clearOnLoadTasks();}};PX.prototype.getLocalStorageItem=function($V,$2X){if(typeof(__win(this).localStorage)!="undefined"){var $1f=__win(this).localStorage.getItem($V);if($1f!=undefined)return $1f;return $2X;};return $2X;};PX.prototype.setLocalStorageItem=function($V,$n){if(typeof(__win(this).localStorage)!="undefined"){try{__win(this).localStorage.setItem($V,$n);}catch(e){if(e==QUOTA_EXCEEDED_ERR){$2Y.error("Local storage quota exceeded");}}}};PX.prototype.removeLocalStorageItem=function($V){if(typeof(__win(this).localStorage)!="undefined"){return __win(this).localStorage.removeItem($V);}};PX.prototype.getSessionStorageItem=function($V,$2X){if(typeof(__win(this).sessionStorage)!="undefined"){var $1f=__win(this).sessionStorage.getItem($V);if($1f!=undefined)return $1f;return $2X;};return $2X;};PX.prototype.setSessionStorageItem=function($V,$n){if(typeof(__win(this).sessionStorage)!="undefined"){try{__win(this).sessionStorage.setItem($V,$n);}catch(e){if(e==QUOTA_EXCEEDED_ERR){$2Y.error("Session storage quota exceeded");}}}};PX.prototype.getPageNameFromUrl=function($G){var $r=$G.lastIndexOf('/')+1,end=$G.indexOf('.',$r);return(end==-1)?"main":$G.substring($r,end);};PX.prototype.getPageName=function(name){var $G=__win(this).location.href;return this.getPageNameFromUrl($G);};PX.prototype.getQueryParam=function(name,$B){var $M="",s=$B.toLowerCase().indexOf(name.toLowerCase()+'=');if(s>=0){var e=$B.indexOf("&",s);if(e<0)e=$B.length;$M=$B.substring(s,e);};return $M;};PX.prototype.getQueryParamVal=function(name,$B){var $2Z=this.getQueryParam(name,$B);return $2Z?$2Z.split('=')[1]:null;};PX.prototype.removeQueryParam=function(name,$B){var qp=this.getQueryParam(name,$B);return qp?$B.replace(qp+'&',"").replace(qp,""):$B;};PX.prototype.replaceQueryParam=function(name,$B,$M){var $0A=name.toLowerCase()+'=',s=$B.toLowerCase().indexOf($0A);if(s>=0){var e=$B.indexOf("&",s);if(e<0)e=$B.length;$B=$B.substring(0,s+$0A.length)+$M+$B.substring(e);};return $B;};PX.prototype.getSessionSuffix=function($G){if($G==null)$G=this.topWin().location.href;var $30=$G.indexOf("/(W("),$31=0;if($30!=-1){$31=parseInt($G.substring($30+4));if(isNaN($31))$31=0;};return $31;};PX.prototype.openFrameset=function($27,$1Q,$2P,$32){if($27==null||$27.length==0)return;if($1Q&&$1Q.startsWith("_"))$1Q=null;var $G=this.topWin().location.href,$U=false;if($G.indexOf("/(S(")==-1){var $31=this.getCookie("lastwin");if($31)$31=(parseInt($31)+1).toString();else{$31=this.getSessionSuffix($G);$31=$31>0?$31.toString():"1";};$G=this.getSessionUrl(this.topWin().location,$31);$U=true;};var $2V=this.getQueryParam("CompanyID",$G);var i=$G.indexOf("?");if(i>0)$G=$G.substring(0,i);if($2V)$G=$G+"?"+$2V;if($2P)$G+=($2V?"&":"?")+$2P;if($32&&typeof $32==='function')$G=$32($G);var $33=$27;if(!this.isExternalUrl($33)){if($27.startsWith("/")){var $2l=new Object();$2l.pathname="/";$2l.href=$27;$33=this.getSessionUrl($2l,$31);}else if(!$27.startsWith("about:")){var $34=$U?this.getSessionUrl(__win(this).location,$31):__win(this).location.href;$33=$34.substring(0,$34.lastIndexOf("/")+1)+$27;}};if(this.IsAnyIE||this.IsEdge)this.setCookie("urlPage",$33,"/");var $1W=__win(this).open(unescape($G));if($1W){var $35=this.frameElement();$1W.urlPage=$33;$1W.urlFrame=$1Q?$1Q:($35?$35.name:null);$1W.framesetOpen=true;}};PX.prototype.isExternalUrl=function($B){var $36=$B.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);if(typeof $36[1]==="string"&&$36[1].length>0&&$36[1].toLowerCase()!==location.protocol){return true;};var $37=new Object();$37["http:"]=80;$37["https:"]=443;if(typeof $36[2]==="string"&&$36[2].length>0&&$36[2].replace(new RegExp(":("+$37[location.protocol]+")?$"),"")!==location.host){return true;};return false;};PX.prototype.getSessionUrl=function(location,$31){var $G=decodeURI(location.href),$2a=this.topWin();if(this.isExternalUrl($G)==true){return $G;};var $0n=$G.indexOf("/(W(");if($0n!=-1){return $G.substring(0,$0n)+"/(W("+$31+"))"+$G.substring($G.indexOf("/",$0n+4));};$G=PX.$49($G);var $2m=unescape(PX.$49($2a.location.pathname));if(($0n=$2m.indexOf("(W("))>0)$2m=$2m.substring(0,$0n);$2m=$2m.substring(0,$2m.lastIndexOf("/")+1).toLowerCase();if($2m=='/'){var $38=true;$2m=$2a.location.host+'/';};$0n=$G.indexOf("//");if($0n!=-1)$0n=$G.toLowerCase().indexOf($2m.toLowerCase(),$0n+2);else $0n=$G.toLowerCase().indexOf($2m.toLowerCase());if($0n!=-1){$0n=$0n+$2m.length-1;var $B=$G.substring($0n);if(!$B.startsWith('/'))$B='/'+$B;return $G.substring(0,$0n)+"/(W("+$31+"))"+$B;}else if($38&&$G!=null&&!$G.toLowerCase().startsWith("http")&&$31!=null){var $B=$G;if(!$B.startsWith('/'))$B='/'+$B;return $2a.location.protocol+"//"+$2a.location.host+"/(W("+$31+"))"+$B;};return $G;};PX.prototype.resolveSessionUrl=function($B,$39){var $G=this.topWin().location.href,$U=false,$0n;if(($0n=$G.indexOf("/(W("))>0||$39){var $31;if($39){if($0n==-1)$31=10000;else{$31=parseInt($G.substring($0n+4));if(isNaN($31))$31=10000;else $31=10000+$31;}}else{$31=($0n>0)?parseInt($G.substring($0n+4)):0;if(isNaN($31))$31=0;};if($31>0){var $2l=new Object();$2l.href=$B;$B=this.getSessionUrl($2l,$31);}};return $B;};PX.$49=function($G){var $3a=$G.indexOf("aspx"),$3b=$G.indexOf("?");if($3a>0&&$3b<0)$G=$G.substring(0,$3a+4);return $G;};PX.prototype.loadFrameset=function(){var $G=__win(this).location.href;if($G.indexOf("/(S(")>0)return;var hl=Function.createDelegate(this,this.$4g);this.addEventHandler(__win(this),"load",hl);if(__win(this)==__win(this).top&&!this.isPopupWindow($G)){this.redirectToSessionUrl();};var $3c=PX.$49($G);if($3c!=$G)__win(this).location.replace($3c);};PX.prototype.redirectToSessionUrl=function(){var $G=__win(this).location.href,$3d=__win(this).name;if($G.indexOf("preserveSession=true")>0)return;if(isNaN(parseInt($3d))||__win(this).framesetOpen){var $31=this.getCookie("lastwin");if($31){$31=(parseInt($31)+1).toString();var $3e=this.getSessionUrl(__win(this).location,$31);if($3e!=decodeURI($G)){this.suppressUnloadRequest=true;__win(this).location.replace(this.redirectToCachedVersion($3e));}}else{var $30=$G.indexOf("/(W(");if($30!=-1){$31=parseInt($G.substring($30+4));if(isNaN($31))$31=0;}else $31=0;};__win(this).name=$31;this.setCookie("lastwin",$31,"/");}else if($3d.indexOf('.')<0&&$G.indexOf("/(W("+$3d+"))/")==-1){if(parseInt($3d)>0){$G=this.getSessionUrl(__win(this).location,parseInt($3d));this.suppressUnloadRequest=true;__win(this).location.replace(this.redirectToCachedVersion($G));}}};PX.prototype.getSessionNumber=function(){var $31=this.getCookie("lastwin");if($31)$31=parseInt($31);else{var $G=__win(this).location.href,$30=$G.indexOf("/(W(");if($30!=-1)$31=parseInt($G.substring($30+4));else $31=0;};if(isNaN($31))$31=0;return $31;};PX.prototype.$4g=function(e){var $3f=this.getCookie("lasturl"),$B="";if($3f){__win(this).lastUrl=$3f;this.deleteCookie("lasturl","/");};var $3g=this.getCookie("urlPage");if($3g){__win(this).urlPage=$3g;this.deleteCookie("urlPage","/");};if(__win(this).urlPage){$B=__win(this).urlPage;__win(this).urlPage=null;}else if(__win(this).lastUrl){$B=__win(this).lastUrl;};if($B){var fn=__win(this).urlFrame?__win(this).urlFrame:'main';this.openUrl($B,fn);}};PX.prototype.resolveUrlHideScript=function($B){if($B.indexOf("CstMode")>0||$B==""||this.isExternalUrl($B))return $B;var $3h=this.topWin().hideScript;if($3h&&$B.toLowerCase().indexOf("hidescript")<0){var $3i=$B.split('#');$3i[0]+=(($3i[0].indexOf('?')>0)?'&':'?')+"HideScript=On";$B=$3i.join('#');};return $B;};PX.prototype.fadeIn=function($07,$3j){if(!$07)return;if($07.style.visibility!="hidden")return;var $3k=20;$07.style.opacity=0;$07.style.visibility="visible";var $3l=new Date().getTime();var $3m=$3l;var $3n;var $3o=function(){var $3p=new Date().getTime();if($3p-$3m<10)return;$3m=$3p;var $3q=($3p-$3l)/$3j;if($3q>1)$3q=1;$07.style.opacity=$3q;$07.style.filter='alpha(opacity='+$3q*100+')';if($3q==1){if($3n==undefined)throw "Invalid timer";clearInterval($3n);}};$3n=setInterval($3o,$3k);};PX.prototype.fadeOut=function fadeOut($07,$3j){if(!$07)return;var $3k=20;var $3l=new Date().getTime();var $3m=$3l;var $3n;var $3o=function(){var $3p=new Date().getTime();if($3p-$3m<10)return;$3m=$3p;var $3q=($3p-$3l)/$3j;if($3q>1)$3q=1;var $3r=1-$3q*0.5;$07.style.opacity=$3r;$07.style.filter='alpha(opacity='+$3r*100+')';if($3q==1){if($3n==undefined)throw "Invalid timer";clearInterval($3n);}};$3n=setInterval($3o,$3k);};PX.prototype.processHtml=function($3s,parent){var $0A=parent?parent:__win(this).theForm;var $0S=__doc(this).createElement("div");$0S.style.display="none";if(__px(this).IsIE){$0A.appendChild($0S);$0S.innerHTML="";__px(this).registerCssRules($3s);$0S.innerHTML=$3s;}else{$0S.innerHTML=$3s;$0A.appendChild($0S);if(__px(this).IsSafari)__px(this).registerCssRules($3s);};if(__px(this).IsSafari||__px(this).IsFirefoxFrom40||__px(this).IsOpera||__px(this).IsIE10){for(var i=0;i<$0S.childNodes.length;i++){var $3t=$0S.childNodes[i];if($3t.tagName=="SCRIPT")with(__win(this)){eval($3t.text);}}};var ar=new Array();while($0S.childNodes.length>0){ar.push($0S.childNodes[0]);$0A.appendChild($0S.childNodes[0]);};if($0S.parentNode)$0A.removeChild($0S);return ar;};PX.prototype.registerAutoSizedText=function($3u){if($3u.resizer==null&&$3u.tagName=="TEXTAREA")$3u.resizer=new PXTextAutosize(this.px_context,$3u);};PX.identity=function($n){return $n;};function PXHTMLEncoder(){this.htmlTextCodes=new Array('&nbsp;','&iexcl;','&cent;','&pound;','&curren;','&yen;','&brvbar;','&sect;','&uml;','&copy;','&ordf;','&laquo;','&not;','&shy;','&reg;','&macr;','&deg;','&plusmn;','&sup2;','&sup3;','&acute;','&micro;','&para;','&middot;','&cedil;','&sup1;','&ordm;','&raquo;','&frac14;','&frac12;','&frac34;','&iquest;','&agrave;','&aacute;','&acirc;','&atilde;','&Auml;','&aring;','&aelig;','&ccedil;','&egrave;','&eacute;','&ecirc;','&euml;','&igrave;','&iacute;','&icirc;','&iuml;','&eth;','&ntilde;','&ograve;','&oacute;','&ocirc;','&otilde;','&Ouml;','&times;','&oslash;','&ugrave;','&uacute;','&ucirc;','&Uuml;','&yacute;','&thorn;','&szlig;','&agrave;','&aacute;','&acirc;','&atilde;','&auml;','&aring;','&aelig;','&ccedil;','&egrave;','&eacute;','&ecirc;','&euml;','&igrave;','&iacute;','&icirc;','&iuml;','&eth;','&ntilde;','&ograve;','&oacute;','&ocirc;','&otilde;','&ouml;','&divide;','&Oslash;','&ugrave;','&uacute;','&ucirc;','&uuml;','&yacute;','&thorn;','&yuml;','&quot;','&amp;','&lt;','&gt;','&oelig;','&oelig;','&scaron;','&scaron;','&yuml;','&circ;','&tilde;','&ensp;','&emsp;','&thinsp;','&zwnj;','&zwj;','&lrm;','&rlm;','&ndash;','&mdash;','&lsquo;','&rsquo;','&sbquo;','&ldquo;','&rdquo;','&bdquo;','&dagger;','&dagger;','&permil;','&lsaquo;','&rsaquo;','&euro;','&fnof;','&alpha;','&beta;','&gamma;','&delta;','&epsilon;','&zeta;','&eta;','&theta;','&iota;','&kappa;','&lambda;','&mu;','&nu;','&xi;','&omicron;','&pi;','&rho;','&sigma;','&tau;','&upsilon;','&phi;','&chi;','&psi;','&omega;','&alpha;','&beta;','&gamma;','&delta;','&epsilon;','&zeta;','&eta;','&theta;','&iota;','&kappa;','&lambda;','&mu;','&nu;','&xi;','&omicron;','&pi;','&rho;','&sigmaf;','&sigma;','&tau;','&upsilon;','&phi;','&chi;','&psi;','&omega;','&thetasym;','&upsih;','&piv;','&bull;','&hellip;','&prime;','&prime;','&oline;','&frasl;','&weierp;','&image;','&real;','&trade;','&alefsym;','&larr;','&uarr;','&rarr;','&darr;','&harr;','&crarr;','&larr;','&uarr;','&rarr;','&darr;','&harr;','&forall;','&part;','&exist;','&empty;','&nabla;','&isin;','&notin;','&ni;','&prod;','&sum;','&minus;','&lowast;','&radic;','&prop;','&infin;','&ang;','&and;','&or;','&cap;','&cup;','&int;','&there4;','&sim;','&cong;','&asymp;','&ne;','&equiv;','&le;','&ge;','&sub;','&sup;','&nsub;','&sube;','&supe;','&oplus;','&otimes;','&perp;','&sdot;','&lceil;','&rceil;','&lfloor;','&rfloor;','&lang;','&rang;','&loz;','&spades;','&clubs;','&hearts;','&diams;','&apos;');this.htmlNumericalCodes=new Array('&#160;','&#161;','&#162;','&#163;','&#164;','&#165;','&#166;','&#167;','&#168;','&#169;','&#170;','&#171;','&#172;','&#173;','&#174;','&#175;','&#176;','&#177;','&#178;','&#179;','&#180;','&#181;','&#182;','&#183;','&#184;','&#185;','&#186;','&#187;','&#188;','&#189;','&#190;','&#191;','&#192;','&#193;','&#194;','&#195;','&#196;','&#197;','&#198;','&#199;','&#200;','&#201;','&#202;','&#203;','&#204;','&#205;','&#206;','&#207;','&#208;','&#209;','&#210;','&#211;','&#212;','&#213;','&#214;','&#215;','&#216;','&#217;','&#218;','&#219;','&#220;','&#221;','&#222;','&#223;','&#224;','&#225;','&#226;','&#227;','&#228;','&#229;','&#230;','&#231;','&#232;','&#233;','&#234;','&#235;','&#236;','&#237;','&#238;','&#239;','&#240;','&#241;','&#242;','&#243;','&#244;','&#245;','&#246;','&#247;','&#248;','&#249;','&#250;','&#251;','&#252;','&#253;','&#254;','&#255;','&#34;','&#38;','&#60;','&#62;','&#338;','&#339;','&#352;','&#353;','&#376;','&#710;','&#732;','&#8194;','&#8195;','&#8201;','&#8204;','&#8205;','&#8206;','&#8207;','&#8211;','&#8212;','&#8216;','&#8217;','&#8218;','&#8220;','&#8221;','&#8222;','&#8224;','&#8225;','&#8240;','&#8249;','&#8250;','&#8364;','&#402;','&#913;','&#914;','&#915;','&#916;','&#917;','&#918;','&#919;','&#920;','&#921;','&#922;','&#923;','&#924;','&#925;','&#926;','&#927;','&#928;','&#929;','&#931;','&#932;','&#933;','&#934;','&#935;','&#936;','&#937;','&#945;','&#946;','&#947;','&#948;','&#949;','&#950;','&#951;','&#952;','&#953;','&#954;','&#955;','&#956;','&#957;','&#958;','&#959;','&#960;','&#961;','&#962;','&#963;','&#964;','&#965;','&#966;','&#967;','&#968;','&#969;','&#977;','&#978;','&#982;','&#8226;','&#8230;','&#8242;','&#8243;','&#8254;','&#8260;','&#8472;','&#8465;','&#8476;','&#8482;','&#8501;','&#8592;','&#8593;','&#8594;','&#8595;','&#8596;','&#8629;','&#8656;','&#8657;','&#8658;','&#8659;','&#8660;','&#8704;','&#8706;','&#8707;','&#8709;','&#8711;','&#8712;','&#8713;','&#8715;','&#8719;','&#8721;','&#8722;','&#8727;','&#8730;','&#8733;','&#8734;','&#8736;','&#8743;','&#8744;','&#8745;','&#8746;','&#8747;','&#8756;','&#8764;','&#8773;','&#8776;','&#8800;','&#8801;','&#8804;','&#8805;','&#8834;','&#8835;','&#8836;','&#8838;','&#8839;','&#8853;','&#8855;','&#8869;','&#8901;','&#8968;','&#8969;','&#8970;','&#8971;','&#9001;','&#9002;','&#9674;','&#9824;','&#9827;','&#9829;','&#9830;','&#39;');};PXHTMLEncoder.prototype.html2Numerical=function($3v){return this.swapArrayVals($3v,this.htmlTextCodes,this.htmlNumericalCodes);};PXHTMLEncoder.prototype.numericalToHtml=function($3v){return this.swapArrayVals($3v,this.htmlNumericalCodes,this.htmlTextCodes);};PXHTMLEncoder.prototype.isEmpty=function($M){if($M)return(($M===null)||$M.length==0||/^\s+$/.test($M));else return true;};PXHTMLEncoder.prototype.numEncode=function($3v){if(this.isEmpty($3v))return "";var $0T="";for(var i=0;i<$3v.length;i++){var c=$3v.charAt(i);if(c<" "||c>"~")c="&#"+c.charCodeAt()+";";$0T+=c;};return $0T;};PXHTMLEncoder.prototype.htmlDecode=function($3v){if(!$3v)return "";var c,m,d;d=this.html2Numerical($3v);$W=d.match(/&#[0-9]{1,5};/g);if($W!=null){for(var x=0;x<$W.length;x++){m=$W[x];c=m.substring(2,m.length-1);if(c>=-32768&&c<=65535){d=d.replace(m,String.fromCharCode(c));}else{d=d.replace(m,"");}}};return d;};PXHTMLEncoder.prototype.htmlEncode=function(s,$3w){if(this.isEmpty(s))return "";$3w=$3w|false;if($3w){if(this.EncodeType=="numerical")s=s.replace(/&/g,"&#38;");else s=s.replace(/&/g,"&amp;");};s=this.XSSEncode(s,false);if(this.EncodeType=="numerical"||!$3w){s=this.html2Numerical(s);};s=this.numEncode(s);if(!$3w){s=s.replace(/&#/g,"##AMPHASH##");if(this.EncodeType=="numerical")s=s.replace(/&/g,"&#38;");else s=s.replace(/&/g,"&amp;");s=s.replace(/##AMPHASH##/g,"&#");};s=s.replace(/&#\d*([^\d;]|$)/g,"$1");if(!$3w){s=this.correctEncoding(s);};if(this.EncodeType=="entity")s=this.numericalToHtml(s);return s;};PXHTMLEncoder.prototype.XSSEncode=function(s,en){if(this.isEmpty(s))return "";en=en||true;if(en){s=s.replace(/\'/g,"&#39;");s=s.replace(/\"/g,"&quot;");s=s.replace(/</g,"&lt;");s=s.replace(/>/g,"&gt;");}else{s=s.replace(/\'/g,"&#39;");s=s.replace(/\"/g,"&#34;");s=s.replace(/</g,"&#60;");s=s.replace(/>/g,"&#62;");};return s;};PXHTMLEncoder.prototype.hasEncoded=function(s){if(/&#[0-9]{1,5};/g.test(s))return true;if(/&[A-Z]{2,6};/gi.test(s))return true;return false;};PXHTMLEncoder.prototype.stripUnicode=function(s){return s.replace(/[^\x20-\x7E]/g,"");};PXHTMLEncoder.prototype.correctEncoding=function(s){return s.replace(/(&amp;)(amp;)+/,"$1");};PXHTMLEncoder.prototype.swapArrayVals=function(s,$3x,$3y){if(this.isEmpty(s))return "";var re;if($3x&&$3y){if($3x.length==$3y.length){for(var x=0,i=$3x.length;x<i;x++){re=new RegExp($3x[x],'g');s=s.replace(re,$3y[x]);}}};return s;};PXHTMLEncoder.prototype.inArray=function($q,$W){for(var i=0;i<$W.length;i++)if($W[i]===$q)return i;return -1;};function PXXmlDoc($3z,$3A){if(PXXmlDoc.useActixeX===undefined){PXXmlDoc.useActixeX=false;if(px.IsIE||px.IsIE11){try{PXXmlDoc.useActixeX=(new ActiveXObject("Msxml2.DOMDocument")!=null);}catch(ex){}}};if(PXXmlDoc.useActixeX){this.xmlDoc=new ActiveXObject("Msxml2.DOMDocument");this.xmlDoc.async=false;if($3z&&!$3A)this.xmlDoc.documentElement=this.xmlDoc.createElement($3z);}else{var $3B=document.implementation;if($3B&&$3B.createDocument)this.xmlDoc=$3B.createDocument(null,$3z,null);};if(this.xmlDoc){if($3A)this.loadXML($3A,true);else this.rootNode=this.xmlDoc.documentElement;}else throw new Error("The object which is working with XML document is not supported.");};PXXmlDoc.prototype.dispose=function(){delete this.xmlDoc;delete this.rootNode;};PXXmlDoc.prototype.loadXML=function($3A,$3C){if(!PXXmlDoc.useActixeX){var $3D=new DOMParser();var $3E=$3D.parseFromString($3A,"text/xml");if($3C){this.xmlDoc=$3E;}else{while(this.xmlDoc.firstChild)this.xmlDoc.removeChild(this.xmlDoc.firstChild);var $3F=this.xmlDoc.importNode($3E.documentElement,true);this.xmlDoc.appendChild($3E.documentElement);}}else this.xmlDoc.loadXML($3A);this.rootNode=this.xmlDoc.documentElement;return this.xmlDoc;};PXXmlDoc.prototype.toString=function($3t){if($3t==null)$3t=this.xmlDoc;return PXXmlDoc.toString($3t);};PXXmlDoc.toString=function($3t){if($3t){if(!PXXmlDoc.useActixeX){var $3G=new XMLSerializer();return $3G.serializeToString($3t);}else return $3t.xml;};return "";};PXXmlDoc.prototype.replaceNode=function($3H,parent){if(parent==null)parent=this.xmlDoc;var $3t=parent.getElementsByTagName($3H.nodeName)[0];if($3H&&this.xmlDoc.importNode)$3H=this.xmlDoc.importNode($3H,true);if($3t&&$3H)$3t.parentNode.replaceChild($3H,$3t);return $3H;};PXXmlDoc.prototype.addNode=function($3I,parent){if(parent==null)parent=this.rootNode;var $3H=this.xmlDoc.createElement($3I.trim());parent.appendChild($3H);return $3H;};PXXmlDoc.prototype.removeNode=function($3I,parent){if(parent==null)parent=this.rootNode;var n=this.findNode($3I.trim(),parent);if(n!=null)return parent.removeChild(n);return null;};PXXmlDoc.prototype.findNode=function($3t,parent){if(parent==null)parent=this.rootNode;var $3J=parent.firstChild;while($3J!=null){if($3J.nodeName==$3t||(typeof($3t)=="object"&&$3J==$3t))return $3J;var $q=this.findNode($3t,$3J);if($q!=null)return $q;$3J=$3J.nextSibling;};return null;};PXXmlDoc.prototype.setProperty=function($3t,name,$n){if($3t!=null)$3t.setAttribute(name,($n==null)?"":$n);};PXXmlDoc.prototype.getProperty=function($3t,name){if($3t==null)return "";return $3t.getAttribute(name);};PXXmlDoc.prototype.removeProperty=function($3t,name){if($3t!=null)$3t.removeAttribute(name);};function PXTextRange($c,$07){this.px_context=$c;this.element=$07;this.trange=null;this.selStart=this.selEnd=0;if(__px(this).IsIE78&&$07.createTextRange)this.trange=$07.createTextRange();};PXTextRange.prototype.select=function($3K,$3L){var e=this.element;var i=e.value.length;if($3L==null){$3L=$3K;if($3K==null||$3K<0){$3K=0;$3L=i;}};if($3L>=i)$3L=i;else if($3L<$3K)$3L=$3K;if($3K>$3L)$3K=$3L;this.selStart=$3K;this.selEnd=$3L;if(this.trange){$3L-=$3K;this.trange.move("textedit",-1);this.trange.move("character",$3K);if($3L>0)this.trange.moveEnd("character",$3L);this.trange.select();}else if(e.selectionStart!=null){if($3K==0&&$3L==i)e.select();else{e.selectionStart=$3K;e.selectionEnd=$3L;}}else e.select();};PXTextRange.prototype.getSelectedText=function(){var r="",e=this.element;this.selStart=this.selEnd=0;if(this.trange){try{var $1x=__doc(this).selection.createRange();r=$1x.duplicate();r.move("textedit",-1);while(r.compareEndPoints("StartToStart",$1x)<0){if(this.selStart++>1000)break;r.moveStart("character",1);}}catch(ex){};if($1x)r=$1x.text;this.selEnd=this.selStart+r.length;}else if(e.selectionStart!=null){if((this.selStart=e.selectionStart)<(this.selEnd=e.selectionEnd))r=e.value.substring(this.selStart,this.selEnd);};return r;};function Cookie($06,name,$1F,$3M,$3N,$1G){this.$name=name;this.$path=$1F;this.$domain=$3M;this.$secure=$3N;this.$expires=$1G;this.$doc=$06;};Cookie.prototype.store=function(){var $M="";for(var $3O in this){if($3O.charAt(0)=='$'||(typeof this[$3O]=="function"))continue;if($M!="")$M+='&';$M+=$3O+':'+escape(this[$3O]);};if($M){var $3P=this.$name+'='+$M;if(this.$path)$3P+="; path="+this.$path;if(this.$domain)$3P+="; domain="+this.$domain;if(this.$secure)$3P+="; secure";if(this.$expires)$3P+="; expires="+this.$expires.toGMTString();this.$doc.cookie=$3P;}};Cookie.prototype.load=function(){var $3Q=this.$doc.cookie;if($3Q=="")return false;var $r=$3Q.indexOf(this.$name+'=');if($r==-1)return false;else $r+=this.$name.length+1;var end=$3Q.indexOf(';',$r);if(end==-1)end=$3Q.length;var $M=$3Q.substring($r,end);var ar=$M.split('&');for(var i=0;i<ar.length;i++)ar[i]=ar[i].split(':');for(var i=0;i<ar.length;i++)this[ar[i][0]]=unescape(ar[i][1]);return true;};Cookie.prototype.remove=function(){var $3P=this.$name+'=';$3P+='; '+(new Date(1970,1,1)).toGMTString();this.$doc.cookie=$3P;};function PXTextAutosize($c,ta){this.px_context=$c;this.ta=ta;if(__win(this).mirror==null)__win(this).mirror=__px(this).processHtml(PXTextAutosize.mirrorHtml)[0];this.mirror=__win(this).mirror;__px(this).addEventHandler(ta,"input",Function.createDelegate(this,this.adjust));if('onpropertychange' in ta&&'oninput' in ta)__px(this).addEventHandler(ta,"keyup",Function.createDelegate(this,this.adjust));};PXTextAutosize.typographyStyles=['fontFamily','fontSize','fontWeight','fontStyle','letterSpacing','textTransform','wordSpacing','textIndent','lineHeight'];PXTextAutosize.mirrorHtml='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; '+'right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; '+'box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; '+'overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>';PXTextAutosize.prototype.initTextarea=function(){if(this.$4h)return;this.ta.style['overflow']='hidden';this.ta.style['overflowY']='hidden';this.ta.style['wordWrap']='break-word';this.ta.style['resize']='none';var style=__px(this).getComputedStyle(this.ta);this.boxOffset=0;var ar=['paddingTop','paddingBottom','borderTopWidth','borderBottomWidth'];for(var i=0;i<ar.length;i++)this.boxOffset+=parseInt(style[ar[i]]);this.minHeight=this.ta.clientHeight;this.maxHeight=parseInt(this.ta.style['maxHeight']);if(isNaN(this.maxHeight))this.maxHeight=200;this.$4h=true;};PXTextAutosize.prototype.$4i=function(){var s=__px(this).getComputedStyle(this.ta);for(var i=0;i<PXTextAutosize.typographyStyles.length;i++){var st=PXTextAutosize.typographyStyles[i];this.mirror.style[st]=s[st];};__win(this).mirroredTA=this.ta;};PXTextAutosize.prototype.adjust=function(){if(!this.$4h)this.initTextarea();if(__win(this).mirroredTA!==this.ta)this.$4i();this.mirror.value=this.ta.value+'\n';this.mirror.style.overflowY=this.ta.style.overflowY;if('getComputedStyle' in window){var style=window.getComputedStyle(this.ta);var $0y=this.ta.getBoundingClientRect().width;var ar=['paddingLeft','paddingRight','borderLeftWidth','borderRightWidth'];for(var i=0;i<ar.length;i++)$0y-=parseInt(style[ar[i]]);this.mirror.style.width=$0y+'px';}else this.mirror.style.width=this.ta.clientWidth+'px';this.mirror.scrollTop=0;this.mirror.scrollTop=9e4;var $0z=this.mirror.scrollTop;if(this.maxHeight&&$0z>this.maxHeight){this.ta.style.overflowY='scroll';$0z=this.maxHeight;}else{this.ta.style.overflowY='hidden';if($0z<this.minHeight)$0z=this.minHeight;};this.ta.style.height=$0z+this.boxOffset+'px';};


var fixSvgUse = function (window)
{
	if (!window || !window.document)
	{
		return;
	}
	var document = window.document;
	(function ()
	{
		"use strict";
		if (typeof window !== "undefined" && window.addEventListener)
		{
			var cache = Object.create(null); // holds xhr objects to prevent multiple requests
			var checkUseElems;
			var tid; // timeout id
			var debouncedCheck = function ()
			{
				clearTimeout(tid);
				tid = setTimeout(checkUseElems, 100);
			};
			var unobserveChanges = function ()
			{
				return;
			};
			var observeChanges = function ()
			{
				var observer;
				window.addEventListener("resize", debouncedCheck, false);
				window.addEventListener("orientationchange", debouncedCheck, false);
				if (window.MutationObserver)
				{
					observer = new MutationObserver(debouncedCheck);
					observer.observe(document.documentElement, {
						childList: true,
						subtree: true,
						attributes: true
					});
					unobserveChanges = function ()
					{
						try
						{
							observer.disconnect();
							window.removeEventListener("resize", debouncedCheck, false);
							window.removeEventListener("orientationchange", debouncedCheck, false);
						}
						catch (ignore) { }
					};
				}
				else
				{
					document.documentElement.addEventListener("DOMSubtreeModified", debouncedCheck, false);
					unobserveChanges = function ()
					{
						document.documentElement.removeEventListener("DOMSubtreeModified", debouncedCheck, false);
						window.removeEventListener("resize", debouncedCheck, false);
						window.removeEventListener("orientationchange", debouncedCheck, false);
					};
				}
			};
			var createRequest = function (url)
			{
				// In IE 9, cross origin requests can only be sent using XDomainRequest.
				// XDomainRequest would fail if CORS headers are not set.
				// Therefore, XDomainRequest should only be used with cross origin requests.
				function getOrigin(loc)
				{
					var a;
					if (loc.protocol !== undefined)
					{
						a = loc;
					}
					else
					{
						a = document.createElement("a");
						a.href = loc;
					}
					return a.protocol.replace(/:/g, "") + a.host;
				}
				var Request;
				var origin;
				var origin2;
				if (window.XMLHttpRequest)
				{
					Request = new XMLHttpRequest();
					origin = getOrigin(location);
					origin2 = getOrigin(url);
					if (Request.withCredentials === undefined && origin2 !== "" && origin2 !== origin)
					{
						Request = XDomainRequest || undefined;
					}
					else
					{
						Request = XMLHttpRequest;
					}
				}
				return Request;
			};
			var xlinkNS = "http://www.w3.org/1999/xlink";
			checkUseElems = function ()
			{
				var base;
				var bcr;
				var fallback = ""; // optional fallback URL in case no base path to SVG file was given and no symbol definition was found.
				var hash;
				var href;
				var i;
				var inProgressCount = 0;
				var isHidden;
				var Request;
				var url;
				var uses;
				var xhr;
				function observeIfDone()
				{
					// If done with making changes, start watching for chagnes in DOM again
					inProgressCount -= 1;
					if (inProgressCount === 0)
					{ // if all xhrs were resolved
						unobserveChanges(); // make sure to remove old handlers
						observeChanges(); // watch for changes to DOM
					}
				}
				function attrUpdateFunc(spec)
				{
					return function ()
					{
						if (cache[spec.base] !== true)
						{
							spec.useEl.setAttributeNS(xlinkNS, "xlink:href", "#" + spec.hash);
							if (spec.useEl.hasAttribute("href"))
							{
								spec.useEl.setAttribute("href", "#" + spec.hash);
							}
						}
					};
				}
				function onloadFunc(xhr)
				{
					return function ()
					{
						var body = document.body;
						var x = document.createElement("x");
						var svg;
						xhr.onload = null;
						x.innerHTML = xhr.responseText;
						svg = x.getElementsByTagName("svg")[0];
						if (svg)
						{
							svg.setAttribute("aria-hidden", "true");
							svg.style.position = "absolute";
							svg.style.width = 0;
							svg.style.height = 0;
							svg.style.overflow = "hidden";
							body.insertBefore(svg, body.firstChild);
						}
						observeIfDone();
					};
				}
				function onErrorTimeout(xhr)
				{
					return function ()
					{
						xhr.onerror = null;
						xhr.ontimeout = null;
						observeIfDone();
					};
				}
				unobserveChanges(); // stop watching for changes to DOM
				// find all use elements
				uses = document.getElementsByTagName("use");
				for (i = 0; i < uses.length; i += 1)
				{
					try
					{
						bcr = uses[i].getBoundingClientRect();
					}
					catch (ignore)
					{
						// failed to get bounding rectangle of the use element
						bcr = false;
					}
					href = uses[i].getAttribute("href")
						|| uses[i].getAttributeNS(xlinkNS, "href")
						|| uses[i].getAttribute("xlink:href");
					if (href && href.split)
					{
						url = href.split("#");
					}
					else
					{
						url = ["", ""];
					}
					base = url[0];
					hash = url[1];
					isHidden = bcr && bcr.left === 0 && bcr.right === 0 && bcr.top === 0 && bcr.bottom === 0;
					if (bcr && bcr.width === 0 && bcr.height === 0 && !isHidden)
					{
						// the use element is empty
						// if there is a reference to an external SVG, try to fetch it
						// use the optional fallback URL if there is no reference to an external SVG
						if (fallback && !base.length && hash && !document.getElementById(hash))
						{
							base = fallback;
						}
						if (uses[i].hasAttribute("href"))
						{
							uses[i].setAttributeNS(xlinkNS, "xlink:href", href);
						}
						if (base.length)
						{
							// schedule updating xlink:href
							xhr = cache[base];
							if (xhr !== true)
							{
								// true signifies that prepending the SVG was not required
								setTimeout(attrUpdateFunc({
									useEl: uses[i],
									base: base,
									hash: hash
								}), 0);
							}
							if (xhr === undefined)
							{
								Request = createRequest(base);
								if (Request !== undefined)
								{
									xhr = new Request();
									cache[base] = xhr;
									xhr.onload = onloadFunc(xhr);
									xhr.onerror = onErrorTimeout(xhr);
									xhr.ontimeout = onErrorTimeout(xhr);
									xhr.open("GET", base);
									xhr.send();
									inProgressCount += 1;
								}
							}
						}
					}
					else
					{
						if (!isHidden)
						{
							if (cache[base] === undefined)
							{
								// remember this URL if the use element was not empty and no request was sent
								cache[base] = true;
							}
							else if (cache[base].onload)
							{
								// if it turns out that prepending the SVG is not necessary,
								// abort the in-progress xhr.
								cache[base].abort();
								delete cache[base].onload;
								cache[base] = true;
							}
						}
						else if (base.length && cache[base])
						{
							setTimeout(attrUpdateFunc({
								useEl: uses[i],
								base: base,
								hash: hash
							}), 0);
						}
					}
				}
				uses = "";
				inProgressCount += 1;
				observeIfDone();
			};
			checkUseElems();
		}
	}());
};

var JSType={Empty:0,Bool:1,Int:2,Float:3,String:4,Date:5,Array:6,Object:7};JSType.equals=function($a,v1,v2){if((v1==null&&v2!=null)||(v2==null&&v1!=null))return false;if($a==NetType.DateTime)return v1.getTime()==v2.getTime();return v1==v2;};JSType.convert=function(v,$a){var $b=v;if($a==JSType.Bool){if(typeof(v)!="boolean"){if(typeof(v)=="string")$b=Boolean.parse(v);else $b=Boolean(v);}}else if($a==JSType.Int){if(typeof(v)!="number")$b=parseInt(v);}else if($a==JSType.Float){if(typeof(v)!="number")$b=parseFloat(v);}else if($a==JSType.Date){if(!(v instanceof Date))$b=new Date(Date.parse(v));}else if($a==JSType.String){$b=String(v);};return $b;};function __createPxContext($c){var $d=$c.px_context=new Object();$d.win=$c;$d.doc=$c.document;$d.loc=$c.location;$d.px_context=$d;$d.px=$c.px=new PX($d);$d.px_cm=$c.px_cm=new PXControl($d);$c.theForm=$c.document.forms[0];$d.px_all=$c.px_all=new Object();$d.px_alls=$c.px_alls=new Object();$d.px_data=$c.px_data=new Object();$d.px_callback=$c.px_callback=new PXCallbackManager($d);$d.px_tm=$c.px_tm=new PXTooltip($d,null,{});if($d.loc.href.toLowerCase().indexOf("hidescript")>0)__setPxMethodsFromTopWindow($c);window.fixSvgUse&&window.fixSvgUse($c);return $d;};function __setPxMethodsFromTopWindow($c,$e){$c.Function.createDelegate=$e?null:Function.createDelegate;$c.Function.createCallback=$e?null:Function.createCallback;$c.Function.createDelegate2=$e?null:Function.createDelegate2;$c.Function.prototype.isAssignableFrom=$e?null:Function.prototype.isAssignableFrom;$c.Function.prototype.getMethodExt=$e?null:Function.prototype.getMethodExt;$c.Function.prototype.initializeBaseA=$e?null:Function.prototype.initializeBaseA;$c.Function.prototype.initializeBaseExt=$e?null:Function.prototype.initializeBaseExt;$c.Function.prototype.resolveInheritanceA=$e?null:Function.prototype.resolveInheritanceA;$c.Function.prototype.resolveInherit=$e?null:Function.prototype.resolveInherit;$c.Function.prototype.callBase=$e?null:Function.prototype.callBase;$c.JSType=$e?null:JSType;$c.PXEventList=$e?null:PXEventList;$c.Number.expand=Number.expand;$c.Number.prototype.formatCustom=Number.prototype.formatCustom;$c.Number.prototype.formatStandard=Number.prototype.formatStandard;$c.Number.prototype.format=Number.prototype.format;$c.Date.prototype.format=Date.prototype.format;$c.__px=$e?null:__px;$c.__px_cm=$e?null:__px_cm;$c.__px_tm=$e?null:__px_tm;$c.__px_callback=$e?null:__px_callback;$c.__px_all=$e?null:__px_all;$c.__px_alls=$e?null:__px_alls;$c.__px_data=$e?null:__px_data;$c.__win=$e?null:__win;$c.__doc=$e?null:__doc;$c.__loc=$e?null:__loc;};function __px_context(me){if(me!=null){try{if(me.px_context!=null)return me.px_context;if(me.object&&me.object.px_context)return me.object.px_context;var $c=me.defaultView||(me.ownerDocument&&me.ownerDocument.defaultView);if($c&&$c.px_context!=null)return $c.px_context;}catch(ex){}};return null;};function __px(me){var $f=__px_context(me);return $f&&$f.px;};function __px_cm(me){var $f=__px_context(me);return $f&&$f.px_cm;};function __px_tm(me){var $f=__px_context(me);return $f&&$f.px_tm;};function __px_callback(me){var $f=__px_context(me);return $f&&$f.px_callback;};function __px_all(me){var $f=__px_context(me);return $f&&$f.px_all;};function __px_alls(me){var $f=__px_context(me);return $f&&$f.px_alls;};function __px_data(me){var $f=__px_context(me);return $f&&$f.px_data;};function __win(me){var $f=__px_context(me);return $f&&$f.win;};function __doc(me){var $f=__px_context(me);return $f&&$f.doc;};function __loc(me){var $f=__px_context(me);return $f&&$f.loc;};function PXControl($d){if(!$d)$d=window.px_context;this.px_context=$d;__px(this).addEventHandler(__win(this),"beforeunload",Function.createDelegate(this,this.$3z));__px(this).addEventHandler(__win(this),"unload",Function.createDelegate(this,this.$3A));var ld=Function.createDelegate(this,this.$3B);__px(this).addEventHandler(__win(this),"load",function(){window.setTimeout(ld,1);});if(__doc(this).forms.length>0){var $g=__doc(this).forms[0];$g.px_context=$d;$g.onsubmit=PXControl.$3C;};this.$3D=Function.createDelegate(this,this.$3E);__px(this).addEventHandler(__doc(this),"mousedown",this.$3D,true);__px(this).addEventHandler(__doc(this),"drop",PXControl.$3F);__px(this).addEventHandler(__doc(this),"dragenter",PXControl.$3F);__px(this).addEventHandler(__doc(this),"dragexit",PXControl.$3F);__px(this).addEventHandler(__doc(this),"dragover",PXControl.$3F);this.logMessage("PXControl");var $h=unescape(__loc(this).href),$i="timeStamp=";if(!__px(this).isPopupWindow($h)){if(__win(this)!=__win(this).top){if($h.indexOf($i)>0&&$h.indexOf(__px(this).getPageCacheID())<0){var s=$h.indexOf($i),e=$h.indexOf("&",s);if(e<0)e=$h.length;else e++;$h=$h.replace($h.substring(s,e),"");};$h=__px(this).redirectToCachedVersion($h);$h=__px(this).resolveUrlHideScript(__px(this).resolveSessionUrl($h));if($h!=unescape(__loc(this).href))__loc(this).replace($h);}else if(!__win(this).framesetOpen){__px(this).redirectToSessionUrl();}}};PXControl.$3F=function(e){__px(this).cancelEvent(e);};PXControl.prototype.$3z=function(e){if(!__win(this).suppressChanges&&this.checkDataChanges()){__px(this).cancelEvent(e);e.returnValue=__win(this)["_confirmMsg"];if(e.returnValue){var $c=__win(this),cm=$c.px_cm,$j=__px(this).topWin();setTimeout(function(){setTimeout(function(){if(__px($c))__px($c).stopLC();if($j&&$j!=$c&&$c.waitForUserAnswer)$j.postMessage("unloadCanceled","*");},100);},1);$c.waitForUserAnswer=true;$c.suppressCallbacks=cm.suppressOnLoad=false;};__px(this).restoreDisabledState();if(__px(this).IsSafari)return __win(this)["_confirmMsg"];}else{for(var $k in __px_all(this)){try{var $l=__px_all(this)[$k];if($l.onUnload)$l.onUnload(e);}catch(ex){}};this.storeCookies();if(!__px(this).suppressUnloadRequest)this.sendPageUnloadRequest(false);};__win(this).pageLoaded=false;};PXControl.prototype.sendPageUnloadRequest=function($m,$n){var $o=$n?$n:__win(this).__appPath;var $p=__loc(this).href;if($o&&$p.indexOf("preserveSession=true")<0&&!__win(this).preserveSession){var $q=__px(this).createXMLHttpRequest();var $r=($m||__win(this).top==__win(this));if($r){$q.open('GET',$o+"PageUnload.axd?CloseWindow="+($r?"true":"false"),true);$q.send(null);}}};PXControl.prototype.$3A=function(e){var $c=__win(this),$j=__px(this).topWin();if($j&&$j!=$c&&$c.waitForUserAnswer)if($j.onChildFrameUnload)$j.onChildFrameUnload($c);delete $c.waitForUserAnswer;if((__px(this).isPopupWindow(__loc(this).href)&&!__px(this).frameElement())||__px(this).getSessionStorageItem("isPopup",false)){var $s=__px(this).getPageName(this),$c=__win(this);if($c.innerWidth>=100&&$c.innerHeight>=100){__px(this).setLocalStorageItem($s+"_iwidth",Math.max($c.innerWidth,300));__px(this).setLocalStorageItem($s+"_iheight",Math.max($c.innerHeight,200));__px(this).setLocalStorageItem($s+"_owidth",Math.max($c.outerWidth,300));__px(this).setLocalStorageItem($s+"_oheight",Math.max($c.outerHeight,200));}}else{if(__px(this).frameElement())__px(this).hideLinkedInlineFrame(true);};if(this.$3G){__px(this).removeEventHandler(__win(this),"resize",this.$3G);if(__px(this).IsIE)try{__px(this).removeEventHandler(__win(this).top,"resize",this.$3G);}catch(ex){}};if(__loc(this).href.toLowerCase().indexOf("hidescript")>0){var $c=__win(this),$f=$c.px_context;__setPxMethodsFromTopWindow(__win(this),true);};var $g=__doc(this).forms[0];if($g){delete $g.px_context;delete $g.onsubmit;};delete this.$3H;var w=__win(this),$t=__win(this).allEvents;for(var j in $t){var $u=$t[j];if($u)for(var i=0;i<$u.length;i++){var v=$u[i];if(v){try{PX.prototype.removeEventHandler(v.o,v.n,v.c,v.f);}catch(ex){}}}};w.allEvents={};var $v=__doc(this),$w=$v.getElementsByTagName("*"),$x=__px_all(this);for(i=0;i<$w.length;i++){var $k=$w[i],$l=$k.object;if($l!==undefined){delete $l.element;if(!$l.ID||$x[$l.ID]==null)delete $l.px_context;if($l.viewState){$l.viewState.dispose();delete $l.viewState;};$k.object=null;}};for(var n in $x){var c=$x[n];if(c.element)c.element=null;if(c.viewState){c.viewState.dispose();delete c.viewState;};if(c.events&&c.events.dispose){c.events.dispose();delete c.events;};if(c.dispose)c.dispose();delete c.px_context;};var ct=__px_context(this);for(var n in ct)ct[n]=null;w.onload=null;w.px_context=null;w.px=null;w.px_cm=null;w.theForm=null;w.px_all=null;w.px_alls=null;w.px_data=null;w.px_callback=null;w.px_tm=null;if(typeof(CollectGarbage)=="function")CollectGarbage();};PXControl.prototype.checkDataChanges=function($y){for(var name in __px_all(this)){var $k=__px_all(this)[name];if($k&&$k.getChanged){var $z=($k.checkChanges!=null)?$k.checkChanges:true;if($z&&$k.getChanged($y))return true;}};return false;};PXControl.prototype.logMessage=function(s){try{if(window.console!==undefined&&window.console.log!==undefined){var dt,d,$j=__px(this).topWin();if($j&&$j.startTime){var t=new Date();d=t-$j.lastTime;$j.lastTime=t;dt=(t-$j.startTime);window.setTimeout((function(){window.console.log(dt+"(+"+d+") "+s);}),0);}}}catch(e){}};PXControl.prototype.handleLoad=function(){if(!__win(this).pageLoaded&&__px(this).frameElement())__px(this).hideLinkedInlineFrame();if(this.$3I)for(var n in this.$3I){var $A=this.$3I[n];if($A&&$A.onLoad&&$A.loadHandled==null){try{$A.onLoad();}catch(ex){window.console.log(ex.type+": "+ex.message);};$A.loadHandled=true;}};if(this.tabIndexer){var theForm=__win(this).theForm,$B=theForm.elements.length;for(var i=0;i<$B;i++){var $C=theForm.elements[i];if($C.object||$C.tabIndex<=0)continue;if(!Array.contains(this.tabIndexer,$C))this.tabIndexer.push($C);};Array.mergeSort(this.tabIndexer,Function.createDelegate(this,this.$3J));};if(this.$3K){for(var i=0;i<this.$3K.length;i++){this.$3K[i]();}}};PXControl.prototype.auEnhanceCompleted=function(){delete this.awaitEnhance;delete $D;};PXControl.prototype.$3B=function(e){if(this.suppressOnLoad||__win(this)==null)return;this.AureliaEnhanceAwaitQueue=[];var $E=__win(this).__px_controls;if($E)this.registerControls($E);this.pageCaption=__px(this).elemByID("page-caption");if(this.pageCaption&&!window.noFixedBar){var parent=this.pageCaption.parentNode,$C=parent.firstChild,$F=false;while($C!=this.pageCaption){if($C.offsetHeight>0){$F=true;break;};$C=$C.nextSibling;};if($F)parent.insertBefore(this.pageCaption,parent.firstChild);var $G=this.scrollSpacer=__doc(this).createElement("div");$G.style.display="none";$G.style.height=this.pageCaption.offsetHeight+"px";parent.insertBefore($G,this.pageCaption.nextSibling);var sh=Function.createDelegate(this,this.$3L);this.$3M();__px(this).addEventHandler(__win(this),"scroll",sh);__px(this).addEventHandler(parent,"scroll",sh);};var cn=__px(this).getPageName(),me=this;if(cn){var $H=PXControl.formatPathName(__win(this).location.pathname);this.cookie=new Cookie(__doc(this),cn,$H);this.cookie.load();};if(this.tabIndexer){var h=Function.createDelegate(this,this.$3N);__px(this).addEventHandler(__doc(this).documentElement,"keydown",h);};this.$3O();var $I=__px(this).getLocalStorageItem("popupCommand");if($I){__win(this).popupCommand=JSON.parse($I);__px(this).removeLocalStorageItem("popupCommand");try{var opener=__win(this).opener;if(opener&&opener.px){var $J=(opener.name=='main')?opener:opener.frames['main'];if($J)$J.px.popupWindowLoadCallback(__win(this));}}catch(ex){}};this.logMessage("handleLoad start");this.handleLoad();this.logMessage("handleLoad end");this.awaitEnhance=!!__doc(this).querySelector('script[src*=vendor-bundle]');if(this.requiredReloadPage(true)){__win(this).suppressCallbacks=true;if(this.awaitEnhance)this.awaitEnhanceOnReload=true;if(this.delayedCallback==null)this.delayedCallback=0;this.delayedCallback++;this.registerTimeout(setTimeout(function(){me.reloadPage();if(me.delayedCallback)me.delayedCallback--;},1));}else{this.notifyOnResize();__px(this).clearReloadPageData(__loc(this).pathname);__win(this).pageLoaded=true;};var tm=this.$3P,$v=__doc(this);if(tm)this.registerTimeout(setTimeout(function(){me.logMessage("register start");tm.register($v);tm.runHandlers();me.logMessage("register end");},1));if(!this.localePanel){for(var i in __px_all(this)){if(i.endsWith('L10nEditor')){this.localePanel=__px_all(this)[i];this.localePanel.events.addEventHandler("afterHide",Function.createDelegate(this,this.$3Q));this.localePanel.events.addEventHandler("afterShow",Function.createDelegate(this,this.$3R));this.localePanel.element.addEventListener('keydown',Function.createDelegate(this,this.$3S));break;}}}};PXControl.prototype.$3S=function(e){var $K=Array.prototype.slice.call(this.localePanel.element.querySelectorAll('input:last-child'));if((13==e.keyCode||e.charCode)&&e.target.nodeName=="INPUT"){if($K.slice().pop()==e.target){this.localePanel.hide();}else{var $L=$K[$K.indexOf(e.target)+1];if($L)$L.focus();};__px(this).cancelEvent(e);return false;}};PXControl.prototype.$3T=function($d,$M){__px_callback(this).removeHandler(this.$3U);var ds=__px_all(this)[$d.controlID];if(ds&&this.localePanel.owner&&this.localePanel.owner.localeUpdated)this.localePanel.owner.localeUpdated(ds.callbackResultArg);};PXControl.prototype.$3R=function(){if(this.localePanel.changedValue){var $A=__px_all(this)[this.localePanel.ID+"_"+this.localePanel.changedValueLang];if($A)$A.setValue(this.localePanel.changedValue);}};PXControl.prototype.$3V=function($N,ev){this.localePanel.hide();};PXControl.prototype.$3Q=function($O){if(this.localePanel.shadow){this.localePanel.shadow.removeEventListener('click',this.localePanel.outsideClick);};this.$3U=Function.createDelegate(this,this.$3T);__px_callback(this).addHandler(this.$3U);var $P=__px_cm(this).dataSource.callbacks.filter(function(c){return c.name=="SaveLoc";}).pop();if($P)$P.optimizePostData=false;this.localePanel.viewState.forceOnReloadPost();this.localePanel.execCloseAction();};PXControl.prototype.showLocalizePopup=function($Q,$R,$S,$A,$T,$U,$V){var $W=this;if(this.localePanel&&!this.localePanel.getVisible()){if($A.constructor==PXGrid&&$A.activeRow&&$A.activeRow.isNew()){this.$3W=Function.createDelegate(this,function(){__px_callback(this).removeHandler(this.$3W);$W.showLocalizePopup($Q,$R,$S,$A,$T,$U,true);});__px_callback(this).addHandler(this.$3W);$A.activeRow.dataChanged=true;$A.activeRow.commitChanges();return;};if($A.constructor==PXGrid&&$A.activeRow&&$A.activeRow.getDataKey()=="")$V=true;this.notifyOwnerTyping($A);this.localePanel.changedValue=$T;this.localePanel.changedValueLang=$U;var id=($A.ID||"").split('_').pop()||"";var $X=$Q+';'+$R+';'+$S+';'+id;if($V)$X+=";newRec";this.localePanel.viewState.update("CallbackArg",$X);this.localePanel.show($A);this.localePanel.shadow=__px(this).elemByID(this.localePanel.ID+"_shdw");if(this.localePanel.shadow){this.localePanel.outsideClick=this.localePanel.outsideClick||Function.createDelegate(this,this.$3V);this.localePanel.shadow.addEventListener('click',this.localePanel.outsideClick);}}};PXControl.prototype.$3L=function(e){var $C=__px(this).eventElem(e),scroll,$v=__doc(this);var $Y=this.pageCaption,$Z=this.scrollSpacer;if($C!=__doc(this))scroll=$C.scrollTop;else scroll=__px(this).getDocScrollElem().scrollTop;$Y.style.position=(scroll>0)?"fixed":"";$Y.className=(scroll>0)?"fixed":"";if($C!=__doc(this))$Y.style.width=(scroll>0)?($Z.offsetWidth+"px"):"";$Z.style.display=(scroll>0)?"":"none";};PXControl.prototype.requiredReloadPage=function($00){var $01=__win(this).RequiredReloadPage||__loc(this).href.indexOf("timeStamp")>0;if($00&&$01&&(__win(this).suppressCallbacks||__px(this).elemByID("suppressReloadPage")!=null)){$01=false;};return $01;};PXControl.prototype.$3O=function(){if(!__px(this).isPopupWindow(__loc(this).href)||__px(this).frameElement())return;__px(this).setSessionStorageItem("isPopup",true);var $s=__px(this).getPageName(this);var $02=__px(this).getLocalStorageItem($s+"_owidth");var $03=__px(this).getLocalStorageItem($s+"_oheight");try{if($02&&$03){var $04=Math.max(parseInt($02,10)||300,300);var $05=Math.max(parseInt($03,10)||200,200);var $06=($04>=screen.availWidth)||($05>=screen.availHeight);if($06){$02=screen.availWidth;$03=screen.availHeight;}}}catch(ex){};if($02&&$03&&$02>=300&&$03>=200){window.resizeTo($02,$03);}};PXControl.prototype.reloadPage=function($m){if($m){delete this.awaitEnhanceOnReload;};if(this.waitOwnReloadPage&&!__px_callback(this).hasPreparedResult())return;this.logMessage("reloadPage start");var $A=this.findDataSource();if($A&&$A.callbacks){var $07=__win(this),$j=__px(this).topWin(),me=this,$08=false;var $09=function($0a){delete $07.suppressCallbacks;if($0a&&!__px_callback(me).hasPreparedResult())me.waitOwnReloadPage=true;me.notifyOnResize();$08=true;$A.executeCallback("ReloadPage");};this.waitReloadPage=true;if(this.$3X==null){this.$3X=Function.createDelegate(this,this.$3Y);__px_callback(this).addHandler(this.$3X,0);};if($j&&$07!=$j){var $0b=null;try{$0b=$j.px;}catch(ex){};var $O=$0b?$0b.getReloadPageData(__loc(this).pathname):null;if($O&&($O.result||$O.error)){__px_callback(this).preparedResult=$O.result;__px_callback(this).preparedError=$O.error;__px_callback(this).setAntiXsrfToken($O.token);__px(this).clearReloadPageData(__loc(this).pathname);$09();}else if($O&&$O.waitReload){__px_callback($j).crossPageCallback=Function.createDelegate(this,this.$3Z);}else $09(true);}else $09(true);}else{__px(this).clearReloadPageData(__loc(this).pathname);delete __win(this).suppressCallbacks;};if(!$08)this.notifyOnResize();this.logMessage("reloadPage end");};PXControl.prototype.$3Z=function($0c,$d){this.reloadPage();};PXControl.prototype.$3Y=function($d,$M){if($d.info.name=="ReloadPage"){if(this.$40)for(var n in this.$40){var $A=this.$40[n];if($A&&$A.onReLoad)$A.onReLoad();};__win(this).pageLoaded=true;var $0d=__doc(this).activePanel;if($0d&&$0d.hide)$0d.hide();delete this.waitReloadPage;delete this.waitOwnReloadPage;__px_callback(this).removeHandler(this.$3X);delete this.$3X;}};PXControl.prototype.$3J=function($0e,$0f){var i1=this.getTabIndex($0e),i2=this.getTabIndex($0f);if(i1==i2)return 0;return i1<i2?-1:1;};PXControl.prototype.registerTimeout=function($0g){if(this.$41==null)this.$41=new Array();this.$41.push($0g);};PXControl.prototype.clearOnLoadTasks=function($0g){if(this.$41){for(var i=0;i<this.$41.length;i++)clearTimeout(this.$41[i]);delete this.$41;};var $07=__win(this),$j=$07.top;if($07!=$j){var cl=__px_callback($j);if(cl){delete cl.crossPageCallback;delete cl.preparedResult;delete cl.preparedError;}}};PXControl.prototype.$3N=function(e){var $0h=e.keyCode;if(($0h==13||$0h==9)&&!e.altKey&&!e.ctrlKey){var $C=__px(this).eventElem(e),$0i=false,$l=null;if(Array.contains(this.tabIndexer,$C))$l=$C;else while($C){$l=$C.object;if($l&&$l.ID&&__px_all(this)[$l.ID])break;$C=$C.parentNode;};if($l==null||($0h==13&&$l.hideEnterKey))return;var ar=this.tabIndexer,$0j=false;if(e.shiftKey){ar=Array.clone(ar);ar.reverse();};for(var i=0;i<ar.length;i++){if($0i){var $A=ar[i];if($A.element==null){var $0k=$A.tabIndex;if($0k>=0&&__px(this).isVisible($A)&&!$A.disabled&&!$A.readOnly&&$A.focus){$A.focus();__px(this).cancelEvent(e);return;};continue;};var $C=$A.element,$0k=this.getTabIndex($A);if($A.focus&&__px(this).isVisible($C)&&$0k>=0&&($A.getEnabled==null||$A.getEnabled())&&($A.getReadOnly==null||!$A.getReadOnly())){if($A.focusAction)setTimeout(function(){$A.focusAction();},1);$A.focus();__px(this).cancelEvent(e);break;}}else if(ar[i]==$l){var et=$l.elemText?$l.elemText:($l.element?$l.element:$l);if(et&&et.tagName=="TEXTAREA")return;$0i=true;};if(i==(ar.length-1)&&$0i&&!$0j){i=-1;$0j=true;}}}};PXControl.prototype.createPersistentCookie=function(){var cn=__px(this).getPageName()+"P";if(this.cookieP==null){var $0l=new Date();$0l.setFullYear($0l.getFullYear()+1);var $H=PXControl.formatPathName(__win(this).location.pathname);this.cookieP=new Cookie(__doc(this),cn,$H);this.cookieP.$expires=$0l;this.cookieP.load();}};PXControl.prototype.storeCookies=function(){if(this.cookie)this.cookie.store();if(this.cookieP)this.cookieP.store();};PXControl.prototype.setDragData=function($O){return this.dataTransfer=$O;};PXControl.prototype.getDragData=function(){return this.dataTransfer;};PXControl.formatPathName=function($0m){var $0n=$0m.indexOf("/(W(");if($0n==-1)return $0m;var $0o=$0n+4;while($0m[$0o]!=")"&&$0o<$0m.length)$0o++;$0o++;return $0m.substring(0,$0n)+$0m.substring($0o+1);};PXControl.$3C=function(e){var $0p=false;for(var $k in __px_all(this)){try{var $l=__px_all(this)[$k];if($l.onSubmit){switch($l.onSubmit(e)){case true:__px(this).cancelEvent(e);return true;case false:$0p=true;break;}}}catch(ex){}};if($0p)return false;};PXControl.prototype.$42=function(e){if(this.blockResize)return;if(this.$3H){var me=this;if(this.delayedCallback==null)this.delayedCallback=0;this.delayedCallback++;this.registerTimeout(setTimeout(function(){me.notifyOnResize();if(me.delayedCallback)me.delayedCallback--;},1));}};PXControl.prototype.recalcScrollSpacerSize=function(e){if(this.pageCaption&&this.scrollSpacer&&!window.noFixedBar)this.scrollSpacer.style.height=this.pageCaption.offsetHeight+"px";};PXControl.prototype.registerRequiresOnResize=function($0q,id){if(id==null)id=$0q.ID;if(!this.$3H){this.$3H=new Array();this.$3M();};function NestedLevel($C){var $0c=0;for(;$C;$C=$C.parentNode)$0c++;return $0c;};$0q.nestedLevel=NestedLevel($0q.dockElem?$0q.dockElem:$0q.element);var ar=this.$3H;for(var i=0;i<ar.length;i++){if(ar[i].ID==id)ar.splice(i,1);};ar.push($0q);ar.sort(function(a,b){return a.nestedLevel-b.nestedLevel;});};PXControl.prototype.$3M=function(){if(this.$3G==null){this.$3G=Function.createDelegate(this,this.$42);__px(this).addEventHandler(__win(this),"resize",this.$3G);if(__px(this).IsIE)try{__px(this).addEventHandler(__win(this).top,"resize",this.$3G);}catch(ex){}}};PXControl.prototype.registerAutoSize=function($0q,$0r){if($0r&&$0r.autoSize!=null){var $l=$0q.autoSize=new Object();this.readProperties($l,$0r.autoSize,PXControl.autoSizeDesc);};if($0q.autoSize&&$0q.autoSize.enabled)this.registerRequiresOnResize($0q);};PXControl.prototype.registerTooltipManager=function($0s){this.$3P=$0s;};PXControl.prototype.registerStatusBar=function($0t){this.$43=$0t;};PXControl.prototype.repaintStatusBar=function($0q){if(this.$43)this.$43.repaint($0q);};PXControl.autoSizeDesc=[["enabled",JSType.Bool,false],["container",JSType.Int,0],["minHeight",JSType.Int,0],["minWidth",JSType.Int,0],["bottom",JSType.Int,-1],["right",JSType.Int,-1],["align",JSType.Int,-1],["valign",JSType.Int,-1],["dockMethod",JSType.Int,0]];PXControl.prototype.notifyOnResize=function($0u,$0v){if(!this.$3H)return;this.blockResize=true;var $A,$C,$0w=null,$0x,$0y,me=this,$0z=new Array();for(var n=0;n<this.$3H.length;n++){$A=this.$3H[n];$0x=$A.autoSize;$C=$A.dockElem?$A.dockElem:$A.element;try{$0y=$C.parentNode!=null&&__px(this).isVisible($C);}catch(ex){};if($0y&&$0v)$0y=__px(this).contains($0v,$C);if(!$0y)continue;if($0x!=null&&$0x.enabled&&$0x.dockMethod!=2){if($0w!=null&&$0x.container){var $0A=$0w.dockElem?$0w.dockElem:$0w.element;if(__px(this).contains($0A,$C))$0x.container=0;else{$0w.autoSize.container=0;$0z.push($0w);}};switch($0x.container){case 0:if(!$0u||$0v)this.$44($A,10-$C.offsetHeight,true);break;case 1:$0w=$A;break;}};if($A!=$0w)$0z.push($A);};if($0w&&!$0u)this.performAutoSize($0w);for(var n=0;n<$0z.length;n++)this.performAutoSize($0z[n]);this.blockResize=false;this.recalcScrollSpacerSize();};PXControl.prototype.performAutoSize=function($A){var $0B=false,$0x=$A.autoSize;if($A.onResize&&typeof($A.onResize)=="function")$0B=$A.onResize();var $C=$A.dockElem?$A.dockElem:$A.element;if(!$0B&&$0x!=null&&$0x.enabled&&(__px(this).isVisible($C)||$0x.container==1)){switch($0x.container){case 0:this.dockToParent($A);break;case 1:this.dockToWindow($A);break;};if($A.onAfterResize&&typeof($A.onAfterResize)=="function")$A.onAfterResize();}};PXControl.prototype.notifyReload=function(){for(var id in __px_all(this)){var $A=__px_all(this)[id];if($A.onReload)$A.onReload();}};PXControl.prototype.notifyVisibleChanged=function($0y){for(var id in __px_all(this)){var $A=__px_all(this)[id],$C=$A.element;if($A.onVisibleChanged&&__px(this).isVisible($C))$A.onVisibleChanged($0y);}};PXControl.prototype.notifyAboutDrag=function($0C){for(var id in __px_all(this)){var $A=__px_all(this)[id];if($A.onDragAndDrop)$A.onDragAndDrop($0C);}};PXControl.prototype.dockToWindow=function($0q){var $0D=__win(this).theForm,de=__doc(this).documentElement;if($0D&&$0q){var $0E=(__px(this).IsIE||__px(this).IsEdge)?0.1:0;var $0F=de.clientHeight-$0D.offsetHeight-$0E;this.$44($0q,$0F);$0F=de.clientHeight-$0D.offsetHeight-$0E;if($0F!=0)this.$44($0q,$0F);}};PXControl.prototype.dockToParent=function($0q){if($0q.autoSize&&$0q.autoSize.dockMethod==2){this.dockToParent2($0q);return;};var $C=$0q?($0q.dockElem?$0q.dockElem:$0q.element):null;if($C){var parent=$C.parentNode,ps=parent.currentStyle,$0G=$C;if(!ps)ps=__win(this).getComputedStyle(parent,null);if(parent.getAttribute("resize-top")){$0G=parent;parent=parent.parentNode;};var $0E=(__px(this).IsIE||__px(this).IsEdge)?0.1:0;var $0F=parent.offsetHeight-$C.offsetHeight-$0E;var $0H=$0G.previousSibling;if($0H&&($0H.nodeType!=3||$0H.previousSibling!=null)){var $0I=__px(this).getElemTopPos($0G)-__px(this).getElemTopPos(parent);$0F-=$0I;};var sw=__px(this).IsIE910?(parent.scrollWidth-1):parent.scrollWidth;if(sw>parent.offsetWidth&&parent.style.overflow=="auto")$0F-=17;var $0J=$0G.nextSibling;while($0J){if($0J.tagName!="SCRIPT"&&$0J.offsetHeight!=null)$0F-=$0J.offsetHeight;$0J=$0J.nextSibling;};var $0K=function(v){var $b=v?parseInt(v):0;return isNaN($b)?0:$b;};$0F-=$0K(ps.borderTopWidth)+$0K(ps.paddingTop);$0F-=$0K(ps.borderBottomWidth)+$0K(ps.paddingBottom);$0F-=$0K($C.style.marginBottom.substr(0,$C.style.marginBottom.length-2));this.$44($0q,$0F);}};PXControl.prototype.$44=function($0q,$0F,$0L){if($0F==0)return;var $C=$0q.dockElem?$0q.dockElem:$0q.element;var $03=$C.offsetHeight+$0F;if($0q.autoSize!=null){var $0M=$0q.autoSize.minHeight;$03=($03<$0M)?$0M:$03;};if(parseInt($03)!=$C.offsetHeight){if($0q.setHeight)$0q.setHeight($03,$0L);else{var h=__px(this).getStyleHeight($C,$03);if(h<0)h=0;$C.style.height=h+"px";}}};PXControl.$45=function($0q,$0N,$0O){var $0c=0;for(var parent=$0q.offsetParent;parent!==$0N.offsetParent;parent=parent.offsetParent){if(!parent)return 0;$0c+=parent[$0O];};return $0c;};PXControl.prototype.dockToParent2=function($0q){if(!$0q)return;var e=$0q.element;if(!e)return;var parent=e.parentNode;if($0q.autoSize.bottom>=0){var $0P=parent.offsetTop+parent.offsetHeight;var $0Q=e.offsetTop+e.offsetHeight;var $0R=$0P-$0q.autoSize.bottom-PXControl.$45(e,parent,"offsetTop");var dh=$0R-$0Q;if(dh&&$0q.autoSize.valign==0){var $03=e.offsetHeight+dh;if(e.object&&e.object.setHeight)e.object.setHeight($03);else e.style.height=__px(this).getStyleHeight(e,$03)+"px";};if(dh&&$0q.autoSize.valign==1){var top=e.offsetTop+dh;e.style.top=__px(this).getStyleTop(e,top)+"px";};if(dh&&$0q.autoSize.valign==2){var top=e.offsetTop+dh+e.offsetHeight;e.style.top=__px(this).getStyleTop(e,top)+"px";}};if($0q.autoSize.right>=0){var $0S=parent.offsetLeft+parent.offsetWidth;var $0T=e.offsetLeft+e.offsetWidth;var $0U=$0S-$0q.autoSize.right;var dw=$0U-$0T;if(dw&&$0q.autoSize.align==0){var $02=e.offsetWidth+dw;e.style.width=__px(this).getStyleWidth(e,$02)+"px";};if(dw&&$0q.autoSize.align==1){var $0V=e.offsetLeft+dw;e.style.left=__px(this).getStyleLeft(e,$0V)+"px";};if(dw&&$0q.autoSize.align==2){var $0V=e.offsetLeft+dw+e.offsetWidth;e.style.left=__px(this).getStyleLeft(e,$0V)+"px";}}};PXControl.prototype.processPostData=function($A,$0W){var ev=$A.events.eventArgs,cs=$A.autoCallBack,$0X=false,$0Y;if($A.autoPostBack){if(!ev.cancelPostBack){var name=$A.element.getAttribute("name");if($A.postBackUrl)__win(this).theForm.action=$A.postBackUrl;__px(this).doPost(name,$0W?$0W:"");return true;}}else if(cs&&cs.enabled&&cs.command){$0Y=__px_all(this)[cs.target];if(!ev.cancelCallBack)$0X=__px_callback(this).exec($A,cs);}else if($A.onValueChange){var cs=this.$46($A);if(cs){var $0Z=cs.target.getCommandState($A,cs.command);if($0Z.getEnabled()){$0Y=__px_all(this)[cs.target.ID];cs=__px_callback(this).createSettings(cs.target.ID,cs.command);$0X=__px_callback(this).exec($A,cs);}}};if($0X&&$0Y&&$0Y.commandCanceled)$0W.commandCanceled=true;return $0X;};PXControl.prototype.$46=function($A){var ds=this.findDataSource(),cs=null;if(ds&&$A.onValueChange){var $P,bc=__px_all(this)[$A.bindingContainer];switch($A.onValueChange){case 1:$P=bc?((ds=bc)&&"Save"):"Commit";break;case 2:$P="Cancel";break;};if($P){cs=new Object();cs.target=ds;cs.command=$P;}};return cs;};PXControl.prototype.findDataSource=function(){if(this.dataSource==null)for(var name in __px_all(this)){var $A=__px_all(this)[name];if(!$A||$A.__className!="PXBaseDataSource")continue;if($A.isDefault){this.dataSource=$A;break;}};return this.dataSource;};PXControl.prototype.notifyOwnerChanged=function($A){var $10=$A.bindingContainer;if($10){var bc=__px_all(this)[$10];if(bc&&bc.onFieldChanged)bc.onFieldChanged($A);}};PXControl.prototype.notifyOwnerTyping=function($A){var $10=$A.bindingContainer;if($10){var bc=__px_all(this)[$10];if(bc&&bc.onTextChanged)bc.onTextChanged($A);}};PXControl.prototype.notifyOwnerActivate=function($A){var $10=$A.bindingContainer;if($10){var bc=__px_all(this)[$10];if(bc){bc.activeControl=$A;if(bc.onControlActivated)bc.onControlActivated($A);}}};PXControl.prototype.notifyOwnerCreated=function($A){var $10=$A.bindingContainer;if($10){var bc=__px_all(this)[$10];if(bc&&bc.onControlCreated)bc.onControlCreated($A);}};PXControl.prototype.notifyFileUploaded=function($11,$R){var $12=__px_all(this);for(var i in $12){var $A=$12[i];if($A.fileUploaded)$A.fileUploaded($11,$R);}};PXControl.getHidden=function($A){if($A.getVisible)return $A.getVisible();return $A.element.style.display=="none";};PXControl.setHidden=function($A,v){if($A.setVisible)$A.setVisible(!v);else $A.element.style.display=v?"none":"";};PXControl.prototype.setEnabled=function($A,$13,$14){__px(this).setEnabled($A.element,$13);if($A.elemText&&$A.elemText.tagName!='A')__px(this).setEnabled($A.elemText,$13);if($14||$14==null)this.repaintEditState($A);};PXControl.prototype.setReadOnly=function($A,$15,$14){var $C=$A.elemText?$A.elemText:$A.element;if($C)__px(this).setReadOnly($C,$15);if($14||$14==null)this.repaintEditState($A);};PXControl.prototype.repaintEditState=function($A){var $16=$A.elemText?$A.elemText:$A.element;var $17=$A.getEnabled(),$15=$A.getReadOnly();var $18=new Array();$18.push($A.element);if($16!=$A.element)$18.push($16);for(var i=0;i<$18.length;i++){var $C=$18[i];var $19=__px(this).excludeCss($C,[PX.readOnlyCss,PX.disabledCss]);if(!$17)$19+=" "+PX.disabledCss;else if($15)$19+=" "+PX.readOnlyCss;$C.className=$19;}};PXControl.prototype.getResizeDiv=function(){if(!__win(this).theForm.resizeDiv){var $1a=__doc(this).createElement("DIV");var ds=$1a.style;ds.zIndex=20000;ds.position="absolute";ds.backgroundColor="transparent";ds.top=ds.left="0px";ds.display="none";ds.overflow="hidden";__win(this).theForm.appendChild($1a);__win(this).theForm.resizeDiv=$1a;var $1b=__doc(this).createElement("DIV");$1a.appendChild($1b);ds=$1b.style;ds.position="absolute";ds.borderWidth="1px";ds.borderColor="black";ds.borderStyle="solid";};return __win(this).theForm.resizeDiv;};PXControl.prototype.getLabelWrapper=function($A){var e=$A.elemWrapper?$A.elemWrapper:$A.element;if(e.parentNode){var $1a=e.parentNode;if($1a.tagName.toLowerCase()==="qp-editor-wrapper"){$1a=$1a.parentNode;};var $1c=$1a.parentNode;if($1a.className.startsWith("note-m"))return $1a;if($1c&&$1c.className.startsWith("fld-lc"))return $1c;};return null;};PXControl.prototype.getStackWrapper=function($A){var $C=$A.elemWrapper?$A.elemWrapper:$A.element;var w=this.getLabelWrapper($A),e=w?w:$C;if(e&&e.parentNode.className.startsWith("cell-w"))return e.parentNode;return w;};PXControl.prototype.getNoteElement=function($A){var $C=$A.elemWrapper?$A.elemWrapper:$A.element;var w=this.getLabelWrapper($A),e=w?w:$C;if(e&&(e=e.previousSibling)!=null)if(e.getAttribute&&e.getAttribute("note")!=null)return e;return null;};PXControl.prototype.setStackElements=function($A){$A.elemNote=this.getNoteElement($A);$A.stackWrapper=this.getStackWrapper($A);$A.labelWrapper=this.getLabelWrapper($A);};PXControl.prototype.setControlLabel=function($A,$1d){var $1e=$A.labelWrapper;if($1e){var $1f=$1e.getElementsByTagName("label")[0];if($1f)$1f.innerHTML=$1d;}};PXControl.prototype.setStackElementsVisible=function($A,$0y){var $1g=[$A.elemNote,$A.stackWrapper,$A.labelWrapper];var $1h=$0y?"":"none";for(var i=0;i<$1g.length;i++)if($1g[i]!=null)$1g[i].style.display=$1h;this.$47($A,$0y);if($0y&&$A.labelWrapper)__px_tm($A).register($A.labelWrapper);};PXControl.prototype.$47=function($A,$0y){var sw=$A.stackWrapper?$A.stackWrapper:$A.element;if(sw==null||sw.parentNode==null)return;var $1i=sw.parentNode.parentNode;if($1i&&$1i.className.indexOf("stack-")>=0){var $1j=$1i.className.indexOf("stack-h")>=0,$1k;var $1l=$1j?"cell-ph":"cell-pv",$1m="cell-pn";var $B=$1i.childNodes.length,$1n=NaN;for(var i=$1j?($B-1):0;$1j?(i>=0):(i<$B);i+=$1j?-1:1){var $1o=$1i.childNodes[i],ce;if(!$1o.className||$1o.className.indexOf("cell-p")<0)continue;var $1p=$1o.className.indexOf($1l);if($1p>=0){if(($1p+7)>=$1o.className.length)$1n="";else $1n=parseInt($1o.className[$1p+7]);};if($1k==null)for(var j=0;j<$1o.childNodes.length;j++){ce=$1o.childNodes[j];if(ce.style&&ce.style.display=="")$1k=$1o;};if($1k!=null&&!isNaN($1n))break;};if($1k==null&&$0y)$1k=sw.parentNode;for(var i=0;i<$B;i++){var $1o=$1i.childNodes[i],$19=$1o.className,$1q;if(!$19||$19.indexOf("cell-p")<0)continue;var $1r=$19.split(' ');$1q=($1o==$1k)?$1m:$1l;for(var j=0;j<$1r.length;j++)if($1r[j].indexOf("cell-p")==0){$1r[j]=$1q+(($1q==$1l&&!isNaN($1n))?$1n:"");break;};$19=$1r.join(' ');if($1o.className!=$19)$1o.className=$19;};var $0E=$1i.getAttribute("ownerShift"),$0v=$1i.parentNode;if($0E!=null){$0E=parseInt($0E)-1;while($0E-->0)$0v=$0v.parentNode;};var ds=$0v.style.display,$1s=$1k?"":"none";if(ds!=$1s){var $A=$0v.parentNode.object?$0v.parentNode.object:$0v.object;if($A){if($A.setVisible&&$A.__className=="PXFormView")$A.setVisible($1s=="");}else{if($0v.parentNode.getAttribute('data-panel')!=null)$0v=$0v.parentNode;var $1t=new Object();$1t.element=$0v;$1t.stackWrapper=this.getStackWrapper($1t);var $1h=$0v.style.display;if($1h=="none"||$1h=="")$0v.style.display=$1s;this.$47($1t,$1s=="");}}}};PXControl.prototype.getTabIndex=function($A){if($A.tabIndex!=null)return $A.tabIndex;var $C=$A.elemText?$A.elemText:$A.element;if($C&&$C.getAttribute("tabindex")!=null)return $A.tabIndex=$C.tabIndex;return -1;};PXControl.prototype.setFocus=function($0q,$0g){if(__px(this).IsTablet)return;if($0q.getVisible&&!$0q.getVisible())return;if($0q.getEnabled&&!$0q.getEnabled())return;var $C=$0q.focusElem;if($C==null){$C=__px(this).createFocusElem($0q);var h=Function.createDelegate($0q,$0g);var h2=Function.createDelegate(this,this.$48);__px(this).addEventHandler($C,"keydown",h);__px(this).addEventHandler($C,"keyup",h);__px(this).addEventHandler($C,"keypress",h);__px(this).addEventHandler($C,"focus",h);__px(this).addEventHandler($C,"blur",h);__px(this).addEventHandler($C,"blur",h2);$0q.focusElem=$C;};var de=__px(this).getDocScrollElem();$C.parentNode.style.top=de.scrollTop+1+"px";$C.parentNode.style.left=de.scrollLeft+"px";$C.style.display="";$C.focus();$0q.hasFocus=true;};PXControl.prototype.$48=function(e){switch(e.type){case "blur":__px(this).eventElem(e).style.display="none";break;}};PXControl.prototype.setPostState=function($0q,$13){var e=$0q.elemText?$0q.elemText:$0q.element;if(e!=null){if($13)e.removeAttribute("ignore");else e.setAttribute("ignore",true);};if($0q.viewState)$0q.viewState.setPostState($13);};PXControl.prototype.createSpriteOrImage=function($0v,$n,id){var ar=$n.split('@'),$1u;if(ar.length==2){var $1v=__doc(this).createElement("div");if(ar[0]==='fa'){$1u=__doc(this).createElement("i");$1u.className="ac ac-"+ar[1];}else{$1u=__doc(this).createElement("div");$1u.className="sprite-icon "+ar[0]+"-icon";$1v.className=ar[0]+"-icon-img "+ar[0]+"-"+ar[1];$1u.setAttribute("icon",ar[1]);};$1u.appendChild($1v);}else{$1u=__doc(this).createElement("img");$1u.src=$n;};if(id)$1u.id=id;if($0v)$0v.appendChild($1u);return $1u;};PXControl.prototype.resolveSpriteElement=function($C){if($C&&$C.parentNode&&$C.className.indexOf("-icon-img")>=0)$C=$C.parentNode;return $C;};PXControl.prototype.isSpriteOrImage=function($C){return $C!=null&&($C.tagName=="IMG"||($C.tagName=="DIV"&&$C.className.indexOf("sprite")>=0));};PXControl.prototype.repaintImage=function($C,$n){if($n==null||$n=="")return $C;var $1w=$n.indexOf('@')>0,$1x=$C.tagName=="DIV";if($1w!=$1x){var $0v=$C.parentNode,$1y=$C.nextSibling;if($0v)$0v.removeChild($C);$C=this.createSpriteOrImage(null,$n,$C.id);if($C.tagName=="IMG")$C.align="absmiddle";if($0v)$1y?$0v.insertBefore($C,$1y):$0v.appendChild($C);};if($C.tagName=="IMG"){if($C.src!=$n)$C.src=$n;}else if($C.tagName=="DIV"){if($C.className.indexOf("-icon-img")>0)$C=$C.parentNode;if($C.className.indexOf("sprite")>=0){var ar=$n.split('@'),$1z=$C.getElementsByTagName("div")[0];var $1A="sprite-icon "+ar[0]+"-icon",$19=$C.className;var $1q=ar[0]+"-icon-img "+ar[0]+"-"+ar[1];var i1=$19.indexOf("sprite-"),i2=$19.lastIndexOf("-icon");var $1B=[$19.substring(0,i1),$1A,$19.substring(i2+6)];$1B=$1B.join(" ").trim();if($1B!=$19)$C.className=$1B;$C.setAttribute("icon",ar[1]);if($1z&&$1z.className!=$1q)$1z.className=$1q;}};return $C;};PXControl.prototype.findSpriteOrImage=function($0v,$1C){var $1D=Array.clone($0v.getElementsByTagName("DIV")),$1v=null;if($1D==null)$1D=new Array();Array.addRange($1D,$0v.getElementsByTagName("IMG"));for(var i=0;i<$1D.length;i++){if(!this.isSpriteOrImage($1D[i]))continue;if($1C==null||$1D[i].getAttribute($1C)!=null){$1v=$1D[i];break;}};return $1v;};PXControl.prototype.registerCommandControl=function($0v,$0q,$1E){if($0v==null||$0q==null)return;if($0v.commandControls==null)$0v.commandControls=new Object();var $1F=$1E.toLowerCase(),$1G=$0v.commandControls[$1F];if($1G==null)$0v.commandControls[$1F]=$1G=new Array();$1G.push($0q);if($0v.getCommandState){var $0Z=$0v.getCommandState($0q,$1E);if($0q.commandStateCallback)$0q.commandStateCallback($0Z,$1E);if($0q.commandStateAutoCallback)$0q.commandStateAutoCallback($0Z,$1E);}};PXControl.prototype.registerCommandExecutor=function($0q){if($0q.commandSourceID&&$0q.commandName){var $1H=__px_all(this)[$0q.commandSourceID];if($1H&&$1H.registerCommandControl)$1H.registerCommandControl($0q,$0q.commandName);};var cs=$0q.autoCallBack;if(cs.enabled&&cs.command&&cs.target){$1H=__px_all(this)[cs.target];if($1H&&$1H.registerCommandControl)$1H.registerCommandControl($0q,cs.command);};cs=this.$46($0q);if(cs&&cs.target.registerCommandControl)cs.target.registerCommandControl($0q,cs.command);};PXControl.prototype.notifyCommandState=function($0v,$1I){if(!$0v.commandControls)return;var $1J=$1I;if($1J.length!=null){$1J=new Object();for(var i=0;i<$1I.length;i++)$1J[$1I[i]]=$1I[i];};for(var n in $1J){var name=$1J[n],$1G=$0v.commandControls[name.toLowerCase()];if($1G==null||$1G.length==0)continue;for(var i=0;i<$1G.length;i++){try{var $k=$1G[i];if($k){var $0Z=$0v.getCommandState($k,name);if($k.commandStateCallback)$k.commandStateCallback($0Z,name);if($k.commandStateAutoCallback)$k.commandStateAutoCallback($0Z,name);}}catch(ex){}}}};PXControl.prototype.addPopupHandler=function($0g){if($0g&&(typeof $0g=="function")){var $1K=this.popupHandlers;if($1K==null)$1K=this.popupHandlers=new Array();$1K.push($0g);}};PXControl.prototype.hasPopupHandlers=function(){var $1K=this.popupHandlers;return $1K!=null&&$1K.length>0;};PXControl.prototype.notifyPopupCommand=function($0q,$1L){var $1K=this.popupHandlers;if($1K){for(var i=0;i<$1K.length;i++)$1K[i]($0q,$1L);}};PXControl.prototype.registerControls=function($E){this.logMessage("registerControls start");for(var i=0;i<$E.length;i++){try{var cd=$E[i].split(":"),id=cd[0];var co=this.createControl(cd[1],id,null,true);if(co){__px_all(this)[id]=co;if(co.getDataChanges&&co.processRefresh)__px_data(this)[id]=co;}}catch(ex){alert(ex.type+": "+ex.message);}};this.logMessage("registerControls end");};PXControl.prototype.registerRequiresOnLoad=function($0q,id){if(id==null)id=$0q.ID;if(this.$3I==null)this.$3I=new Object();this.$3I[id]=$0q;};PXControl.prototype.registerAfterLoad=function($0g){if(!this.$3K)this.$3K=[];this.$3K.push($0g);};PXControl.prototype.unregisterAfterLoad=function($0g){if(this.$3K)Array.remove(this.$3K,$0g);};PXControl.prototype.registerRequiresOnReLoad=function($0q,id){if(id==null)id=$0q.ID;if(this.$40==null)this.$40=new Object();this.$40[id]=$0q;};PXControl.prototype.registerDragControl=function($0q,$1M,$1N,$1O){var $1P=null;if($1M){if(typeof($1M)=="string")$1P=__px(this).elemByID($1M);else $1P=$1M;};if($0q.dragManager!=null)$0q.dragManager.dispose();$0q.dragManager=new PXDragManager($0q,$1P,$1N,$1O);return $0q.dragManager;};PXControl.prototype.registerResizableControl=function($0q,$1Q){if($0q.resizeManager!=null)$0q.resizeManager.dispose();$0q.resizeManager=new PXResizeManager($0q,$1Q);return $0q.resizeManager;};PXControl.prototype.unregisterControl=function($0q){if($0q){var $1R=$0q.ID.split("_");delete __px_data(this)[$0q.ID];delete __px_all(this)[$0q.ID];delete __px_alls(this)[$1R[$1R.length-1]];$0q.element.parentNode.removeChild($0q.element);}};PXControl.prototype.processHtmlData=function($1S,$1T,parent){var $1a,$1c=parent?parent:__win(this).theForm,$1U=null;if($1T==null||typeof($1T)=="string"){$1a=__doc(this).createElement("div");$1a.id=$1T;$1a.style.display="none";}else{$1a=$1T;if($1a.parentNode){$1c=$1a.parentNode;$1U=$1a.nextSibling;}};if(__px(this).IsIE){if(!$1a.parentNode)$1c.appendChild($1a);$1a.innerHTML="";__px(this).registerCssRules($1S);$1a.innerHTML=$1S;}else{if($1a.parentNode)$1c.removeChild($1a);$1a.innerHTML=$1S;$1c.insertBefore($1a,$1U);if(__px(this).IsSafari)__px(this).registerCssRules($1S);};if(!__px(this).IsIE||__px(this).IsIE10){for(var i=0;i<$1a.childNodes.length;i++){var $1V=$1a.childNodes[i];if($1V.tagName=="SCRIPT")with(__win(this)){eval($1V.text);}}};var me=this;if(this.$3P)this.$3P.register($1a);setTimeout(function(){me.handleLoad();},0);return $1a;};PXControl.prototype.clearControl=function($A){var $1W=$A.element,$1X=$A.viewState&&$A.viewState.elemState;if($A.destructor)$A.destructor();if($1X==null)$1X=__px(this).elemByID($A.ID+"_state");if($1W&&$1W.parentNode)$1W.parentNode.removeChild($1W);if($1X&&$1X.parentNode)$1X.parentNode.removeChild($1X);};PXControl.prototype.storeControl=function($0q,$1Y){var ar=new Array(),$C=$0q.element,e;for(var $k in __px_all(this)){var $A=__px_all(this)[$k];if($A.ID.indexOf($0q.ID)==0){var $1Z=$A.viewState&&$A.viewState.elemState;if($1Z==null)$1Z=__px(this).elemByID($A.ID+"_state");if($1Z&&$1Z.parentNode)$1Z.parentNode.removeChild($1Z);var $20=new Object(),$1R=$A.ID.split("_");$20.control=$A;$20.state=$1Z;($A.ID==$0q.ID)?ar.unshift($20):ar.push($20);delete __px_alls(this)[$1R[$1R.length-1]];delete __px_all(this)[$k];if(Array.contains(this.$3H,$A)){Array.remove(this.$3H,$A);$20.resized=true;};if($A.ID!=$0q.ID&&!__px(this).contains($C,$A.element)){e=$A.element;$20.parent=e.parentNode;if(e.parentNode)e.parentNode.removeChild(e);}}};if($1Y){e=$0q.element;if(e.parentNode)e.parentNode.removeChild(e);};return ar;};PXControl.prototype.restoreControl=function($20,parent){for(var i=0;i<$20.length;i++){var $k=$20[i],$A=$k.control,$1R=$A.ID.split("_");if($k.state)__win(this).theForm.appendChild($k.state);if(i==0)parent.appendChild($A.element);else if($k.parent)$k.parent.appendChild($A.element);__px_alls(this)[$1R[$1R.length-1]]=$A;__px_all(this)[$A.ID]=$A;if($k.resized)this.registerRequiresOnResize($A);}};PXControl.prototype.createControl=function($21,id,$22,$23){var $elem=__px(this).elemByID(id),co=null,$24=null,$25=false;try{$24=eval($21);}catch(ex){$25=true;with(__win(this)){$24=eval($21);}};if($elem||$24.behavior!=null){var $props=null,$srcID=$22;if($srcID==null){if($elem)$srcID=$elem.getAttribute("sourceID");if($srcID==null)$srcID=id;};try{$props=__win(this)["_"+$srcID];}catch(ex){};if($props){var $26=__px_all(this)[id],$context=this.px_context;if($26&&$26.element!=$elem&&$23)this.clearControl($26);if($25)__win(this)[$21].__className=$21;else window[$21].__className=$21;var $0W="$context, "+($elem?"$elem":"id")+", $props, $srcID";if(!$25){co=eval("new "+$21+"("+$0W+")");}else{try{window.activeWin=__win(this);co=eval("new activeWin."+$21+"("+$0W+")");}finally{delete window.activeWin;}};co.element=$elem;co.ID=id;if($elem&&!$elem.object)$elem.object=co;co.__className=$21;if(co.bindingContainer)this.notifyOwnerCreated(co);if(co.events&&(co.events instanceof PXEventList))co.events.fireEvent(0,null,null);if(co.elemFocus&&co.elemFocus!=$elem){var fh=Function.createDelegate(this,this.$49);__px(this).addEventHandler(co.elemFocus,"focus",fh);__px(this).addEventHandler(co.elemFocus,"blur",fh);}}};if(co){var $1R=id.split("_");__px_all(this)[id]=co;__px_alls(this)[$1R[$1R.length-1]]=co;co.serverID=$1R[$1R.length-1];if(this.tabIndexer==null)this.tabIndexer=new Array();if(this.getTabIndex(co)>=0)this.tabIndexer.push(co);};return co;};PXControl.prototype.$49=function(e){var $C=__px(this).eventElem(e);if($C){do{$C=$C.parentNode;}while($C!=null&&$C.object==null);if($C){var id=$C.getAttribute("focusID");if(id)$C=__px(this).elemByID(id);if($C)switch(e.type){case "focus":if($C.className.indexOf(" focus")<0)$C.className+=" focus";break;case "blur":$C.className=$C.className.replace("focus","").trim();break;}}}};PXControl.prototype.indexProperties=function($27){if($27.constructor.indexedProperties)return;var p=$27.constructor;p.indexedProperties={};if(p.properties==null)return;for(var i=0;i<p.properties.length;i++){var v=p.properties[i];p.indexedProperties[v[0]]=v;};this.readPropertiesBase(p.prototype,null,null,null,true);};PXControl.prototype.CreateDescriptorObject=function($28){if(!$28.defObject){$28.defObject=this.readPropertiesBase({},{},$28,null,true);var $29={};for(var i=0;i<$28.length;i++){var v=$28[i];$29[v[0]]=v;};$28.indexedProperties=$29;};function F(){};F.indexedProperties=$28.indexedProperties;F.prototype=$28.defObject;var $0c=new F();$0c.constructor=F;return $0c;};PXControl.prototype.readPropertiesFast=function($27,$2a){for(var name in $2a){var pd=$27.constructor.indexedProperties[name];if(pd==null)continue;var $2b=pd[1];var $T=$2a[name];if($2b==JSType.Object){if($T==null)$T=new Object();var $2c=pd[2];if($2c!=null){var $l=this.CreateDescriptorObject($2c);$T=this.readPropertiesFast($l,$T,$2c);}}else if($2b==JSType.Array){var $2c=pd[2];if($T!=null&&$2c!=null){var $1G=new Array();for(var j=0;j<$T.length;j++){var $l=this.CreateDescriptorObject($2c);$1G.push(this.readPropertiesFast($l,$T[j],$2c));};$T=$1G;}}else{var $2d=pd[3],$2e=pd[4];if($2e!=null)name=$2e;if($2d!=null){if(typeof($2d)=="function")$T=$2d($27,$T,name);else if(typeof($2d)=="string"){var $2f=$27[$2d];if($2f!=null)$T=$2f.call($27,$T);}}else if($2b!=JSType.Empty&&$T!=null){switch($2b){case JSType.Date:$T=JSType.convert($T,$2b);break;case JSType.Bool:$T=$T?true:false;break;}}};if($T!==undefined)$27[name]=$T;};return $27;};PXControl.prototype.readProperties=function($27,$2a,$2g,$2h){return this.readPropertiesBase($27,$2a,$2g,$2h);};PXControl.prototype.readPropertiesBase=function($27,$2a,$2g,$2h,$2i){if($2g==null)$2g=$27.constructor.properties;if($2g==null)return;if($2h==null){var $2j=$27.constructor;if($2j&&$2j.__className!=null)$2h=__win(this)["__"+$2j.__className];};for(var i=0;i<$2g.length;i++){var pd=$2g[i],name=pd[0],$2b=pd[1];var $T=($2a!=null)?$2a[name]:undefined;if($T===undefined&&$2h)$T=$2h[name];if($2b==JSType.Object){if($T==null)$T=new Object();var $2k=$2h?$2h[name]:null;if(pd[2]!=null){var $l=new Object();$T=this.readProperties($l,$T,pd[2],$2k);}else if($2k){for(var n in $2k){if($T[n]==null)$T[n]=$2k[n];}}}else if($2b==JSType.Array){var $2c=pd[2],$2k=$2h?$2h[name]:null;if($T!=null&&$2c!=null){var $1G=new Array();for(var j=0;j<$T.length;j++){var $l=new Object(),$2l=($2k&&$2k.length)?$2k[j]:null;$1G.push(this.readProperties($l,$T[j],$2c,$2l));};$T=$1G;}}else{var $2m=pd[2],$2d=pd[3],$2e=pd[4];if($2e!=null)name=$2e;if($T===undefined)$T=$2m;if($2d!=null){if(!$2i){if(typeof($2d)=="function")$T=$2d($27,$T,name);else if(typeof($2d)=="string"){var $2f=$27[$2d];if($2f!=null)$T=$2f.call($27,$T);}}}else if($2b!=JSType.Empty&&$T!=null){switch($2b){case JSType.Date:$T=JSType.convert($T,$2b);break;case JSType.Bool:$T=$T?true:false;break;}}};if($T!==undefined)$27[name]=$T;};return $27;};PXControl.prototype.readXmlProperties=function($27,$2n,$2g,$2o){if($2g==null)$2g=$27.constructor.properties;if($2g==null)return;if($2o==null)$2o=true;for(var i=0;i<$2g.length;i++){var pd=$2g[i],name=pd[0],$2p=true;var $2b=pd[1],$2d=pd[3],$T=undefined;if(pd.length>4)$2p=pd[4];if(!$2p)continue;if($2b==JSType.Object){$2n=$2n?$2n.getElementsByTagName(name)[0]:null;if(($2o||$2n!=null)&&pd[2]!=null){if($2d!=null){$2o=Boolean($2d);$2d=null;};$T=this.readXmlProperties(new Object(),$2n,pd[2],$2o);}}else if($2b==JSType.Array){$2n=$2n?$2n.getElementsByTagName(name)[0]:null;if($2n!=null&&pd[2]!=null){var ar=$27[name],$2q=false;if(ar==null||ar.getItem==null){ar=new Array();$2q=true;};for(var j=0;j<$2n.childNodes.length;j++){var $1V=$2n.childNodes[j];if(!$2q){var $l=ar.getItem(parseInt($1V.nodeName.substr(1)));this.readXmlProperties($l,$1V,pd[2],$2o)}else ar.push(this.readXmlProperties(new Object(),$1V,pd[2],true));};$T=ar;}}else{$T=$2n?$2n.getAttribute(name):null;if($T==null)$T=undefined;if($2o||$T!=null){if($2o&&$T==null)$T=pd[2];if($2b!=JSType.Empty&&$T!=null)$T=JSType.convert($T,$2b);}};if($2d!=null&&$T!==undefined){if(typeof($2d)=="function")$T=$2d($27,$T);else if(typeof($2d)=="string"){var $2f=$27[$2d];if($2f!=null)$T=$2f.call($27,$T);}};if($T!==undefined)$27[name]=$T;};return $27;};PXControl.prototype.registerActiveDropDown=function($0q,on){if(on){var $2r=__doc(this).dropDownElem=this.$4a($0q);$2r.setAttribute("controlID",$0q.ID);}else{__doc(this).dropDownElem=null;}};PXControl.prototype.setDropDownVisible=function($0q,$0y,$2s){var $2r=this.$4a($0q);if($2r==null)return;if($0y){if($2r.id&&!__px(this).elemByID($2r.id))__win(this).theForm.appendChild($2r);var ds=$2r.style;var $2t=this.getNextZIndex($2s?$2s:11000);ds.position="absolute";ds.left=ds.top="-999px";ds.display="";ds.zIndex=$2t;$0q.dropDownOpen=true;}else{setTimeout(function(){$2r.style.display="none";},0);$0q.dropDownOpen=false;};this.registerActiveDropDown($0q,$0y);if(!$0y)this.restoreActiveDropDown($0q);};PXControl.prototype.getActiveDropDown=function(){var $2u=__doc(this).dropDownElem;return $2u?__px_all(this)[$2u.getAttribute("controlID")]:null;};PXControl.prototype.getNextZIndex=function($2s){var $1g=[__doc(this).dropDownElem],$2v=this.$4b;if($2v&&$2v.length>0){var $0q=$2v[$2v.length-1];$1g.push(this.$4a($0q));};if(__doc(this).activePanel)$1g.push(__doc(this).activePanel.element);for(var i=0;i<$1g.length;i++){if($1g[i]==null)continue;var $1p=parseInt($1g[i].style.zIndex)+10;if($2s==null||$1p>$2s)$2s=$1p;};return $2s;};PXControl.prototype.$4a=function($0q){if($0q.getDropDown)return $0q.getDropDown();return $0q.dropDown;};PXControl.prototype.closeActiveDropDown=function($0v){var $A=this.getActiveDropDown();if($A){var $2r=this.$4a($A);if($0v&&__px(this).contains($2r,$0v.element)){this.storeActiveDropDown($0v);}else if($A.hideDropDown)$A.hideDropDown();}};PXControl.prototype.closeActiveMenu=function(){var $2w=__px_all(this)[__doc(this).activeMenuID];if($2w)$2w.setActive(false);};PXControl.prototype.storeActiveDropDown=function($0v){var $A=this.getActiveDropDown();if($A){if(this.$4b==null)this.$4b=new Array();this.$4b.push($A);this.registerActiveDropDown($A,false);$0v.dropDownStored=true;}};PXControl.prototype.restoreActiveDropDown=function($0v){var ar=this.$4b;if(ar!=null&&ar.length>0&&$0v.dropDownStored){var $A=ar.pop();this.registerActiveDropDown($A,true);delete $0v.dropDownStored;}};PXControl.prototype.$3E=function(e){var se=__px(this).eventElem(e),$1a=__doc(this).dropDownElem;if($1a&&se!=__doc(this).waitDiv&&se!=$1a&&!__px(this).contains($1a,se)){var $A=__px_all(this)[$1a.getAttribute("controlID")];if($A!=null&&!__px(this).contains($A.element,se)){var $2f=$A.onDocumentHideDropDown;if($2f==null||$2f.call($A,e))$A.hideDropDown();}};var $j=__win(this).top,$2x;if($j&&$j!=__win(this)){try{$2x=$j.px_cm;}catch(ex){};if($2x){$2x.closeActiveDropDown();$2x.closeActiveMenu();}}};function PXEvent(){this.event=null;this.cancel=false;this.cancelPostBack=false;this.needPostBack=false;};PXEvent.prototype.reset=function(){this.event=null;this.cancel=false;this.cancelPostBack=false;this.needPostBack=false;};PXEvent.baseEvents={$keydown:1,$keypress:2,$keyup:3,$mousedown:4,$mouseup:5,$mousemove:6,$mouseover:7,$mouseout:8,$click:9,$focus:10,$blur:11};PXEvent.baseEventID=function(name){var id=PXEvent.baseEvents["$"+name.toLowerCase()];return id?id:-1;};PXControl.prototype.addBaseHandlers=function($C,h){for(var $2y in PXEvent.baseEvents)__px(this).addEventHandler($C,$2y.slice(1),h);};PXControl.prototype.removeBaseHandlers=function($C,h){for(var $2y in PXEvent.baseEvents)__px(this).removeEventHandler($C,$2y.slice(1),h);};function PXEventList($0v,$t,$1K){this.px_context=$0v.px_context;this.owner=$0v;this.count=0;this.events=new Object();this.handlers=new Array();this.appendEvents($t,$1K);};PXEventList.prototype.dispose=function(){delete this.px_context;delete this.owner;delete this.handlers;delete this.events;};PXEventList.prototype.appendEvents=function($t,$1K){if($t)for(var name in $t){this.events[name.slice(1)]=$t[name];this.count++;};if($1K)for(var hn in $1K){if(this.events.hasOwnProperty(hn)){var $2z=$1K[hn].startsWith('(')?[$1K[hn]]:$1K[hn].split(',');for(var i=0;i<$2z.length;i++){var hf=null,$c=__win(this);with($c){try{hf=eval($2z[i]);}catch(e){}};if(hf==null)try{hf=eval($2z[i]);}catch(e){};if(hf)this.addEventHandler(hn,hf);}}}};PXEventList.prototype.addEventHandler=function(id,$2f){var n=(typeof id=="number")?id:this.events[id];if(n==null||n<0)return;var e=this.handlers[n];if(e==null)e=this.handlers[n]=new Array();for(n=0;n<=e.length;n++){if(e[n]==null){e[n]=new Object();e[n].func=$2f;break;}else if(e[n].func==$2f)break;}};PXEventList.prototype.removeEventHandler=function(id,$2f){var n=(typeof id=="number")?id:this.events[id];if(n==null||n<0||n>=this.count)return;var e=this.handlers[n];if(e==null)return;for(n=0;n<e.length;n++)if(e[n]!=null&&e[n].func==$2f){delete e[n];e[n]=null;return;}};PXEventList.prototype.clearEventHandlers=function(id){var n=(typeof id=="number")?id:this.events[id];if(n==null||n<0||n>=this.count)return;var e=this.handlers[n];if(this.handlers[n]!=null)delete this.handlers[n];};PXEventList.prototype.fireEvent=function(id,ev,$0W){var n=(typeof id=="number")?id:this.events[id];var $2A=this.$4c(n,ev,$0W);var h=this.handlers[n];var i=(h==null)?0:h.length;if(i==0)return false;var $2B=false;try{while(i-->0){if(h[i]==null)continue;h[i].func(this.owner,$2A);if($2A.cancel)$2B=true;}}catch(ex){};if($2A.needPostBack){var $2C=$2A.postArg;var name=this.owner.element.getAttribute("name");__px(this).doPost(name,($2C!=null)?$2C:0);};return $2B;};PXEventList.prototype.$4c=function(id,ev,$0W){this.eventArgs=new PXEvent();this.eventArgs.event=ev;this.eventArgs.id=id;this.eventArgs.srcElement=this.owner.element;this.eventArgs.srcArgs=$0W;if($0W!=null)for(var pn in $0W)this.eventArgs[pn]=$0W[pn];return this.eventArgs;};function PXStateBag($0v,$2D,$22){this.px_context=$0v.px_context;this.typeName=$2D;this.elemState=__px(this).elemByID(($22?$22:$0v.ID)+"_state");this.stateBag=new PXXmlDoc($2D);this.$4d=this.stateBag.rootNode;if(this.elemState&&!this.elemState.object)this.elemState.object=$0v;};PXStateBag.prototype.dispose=function(){delete this.$4d;if(this.stateBag){delete this.stateBag.dispose();delete this.stateBag;};delete this.elemState;};PXStateBag.prototype.reload=function($2E){this.stateBag=new PXXmlDoc($2E?undefined:this.typeName);if($2E)this.stateBag.loadXML(decodeURIComponent($2E));this.$4d=this.stateBag.rootNode;this.elemState.value=$2E?$2E:"";};PXStateBag.prototype.select=function($2F,$T,$2G){if(this.elemState==null)return;var n=$2G?this.$4e($2G):this.$4d;return this.$4f(n,$2F);};PXStateBag.prototype.update=function($2F,$T,$2G){if(this.elemState==null)return;var n=$2G?this.$4e($2G):this.$4d;this.$4g(n,$2F,$T);};PXStateBag.prototype.remove=function($2F,$2G){if(this.elemState==null)return;var n=$2G?this.$4e($2G):this.$4d;this.stateBag.removeProperty(n,$2F);this.elemState.value=encodeURIComponent(this.stateBag.toString());};PXStateBag.prototype.updateListItem=function($2H,i,$2F,$T){if(this.elemState==null)return;var $0h=((typeof(i)=="number")?".i":".")+i;this.$4g(this.$4e($2H+$0h),$2F,$T);};PXStateBag.prototype.appendListItem=function($2H,$2G,$0r){if(this.elemState==null)return;var $2I=this.$4e($2H);var $1V=this.stateBag.addNode($2G,$2I);for(var $2F in $0r)this.$4g($1V,$2F,$0r[$2F],false);this.elemState.value=encodeURIComponent(this.stateBag.toString());};PXStateBag.prototype.removeNode=function($2G){var $1J=$2G.split("."),parent=null,n=null;for(var i=0;i<$1J.length;i++){parent=n;n=this.stateBag.findNode($1J[i],parent);if(n==null)return;};this.stateBag.removeNode($1J[$1J.length-1],parent);if(this.elemState!=null)this.elemState.value=encodeURIComponent(this.stateBag.toString());};PXStateBag.prototype.addNode=function($2G){this.$4e($2G);if(this.elemState!=null)this.elemState.value=encodeURIComponent(this.stateBag.toString());};PXStateBag.prototype.setPostState=function($13){if(this.elemState!=null){if($13)this.elemState.removeAttribute("ignore");else this.elemState.setAttribute("ignore",true);}};PXStateBag.prototype.forceOnReloadPost=function(){if(this.elemState!=null)this.elemState.setAttribute("postOnReload",true);};PXStateBag.prototype.$4e=function($2G,parent){var $1J=$2G.split("."),n=null,pn=parent;for(var i=0;i<$1J.length;i++){n=this.stateBag.findNode($1J[i],pn);if(n==null)n=this.stateBag.addNode($1J[i],pn);pn=n;};return n;};PXStateBag.prototype.$4g=function(n,$2F,$T,$2J){if($2J==null)$2J=true;if(typeof($T)=="boolean")$T=$T?"true":"false";var $1J=$2F.split("."),$1V=n;if($1J.length>1){$2F=$1J[$1J.length-1];$1J.length=$1J.length-1;$1V=this.$4e($1J.join("."),n);};if($T!=null)this.stateBag.setProperty($1V,$2F,$T);else this.stateBag.removeProperty($1V,$2F);try{if($2J&&this.elemState!=null)this.elemState.value=encodeURIComponent(this.stateBag.toString());}catch(ex){}};PXStateBag.prototype.$4f=function(n,$2F){var $1J=$2F.split("."),$1V=n;if($1J.length>1){$2F=$1J[$1J.length-1];$1J.length=$1J.length-1;$1V=this.$4e($1J.join("."),n);};return this.stateBag.getProperty($1V,$2F);};function PXCommandState($0y,$17,$2K,$2L){this.$4h=$0y==undefined?true:$0y;this.$4i=$17==undefined?true:$17;var $2M=function($2N){return($2N||$2N=="")?$2N:null;};this.$4j=$2M($2K);this.$4k=$2M($2L);};PXCommandState.empty=new PXCommandState(false,false,null,null);PXCommandState.prototype.getEnabled=function(){return this.$4i;};PXCommandState.prototype.setEnabled=function($b){this.$4i=$b;};PXCommandState.prototype.getVisible=function(){return this.$4h;};PXCommandState.prototype.setVisible=function($b){this.$4h=$b;};PXCommandState.prototype.getDisplayName=function(){return this.$4j;};PXCommandState.prototype.setDisplayName=function($b){this.$4j=$b;};PXCommandState.prototype.getTooltip=function(){return this.$4k;};PXCommandState.prototype.setTooltip=function($b){this.$4k=$b;};function PXExpandEffects($0v,$0r){__px_cm($0v).readProperties(this,$0r);};PXExpandEffects.properties=[["type",JSType.String,""],["duration",JSType.Int,300],["delay",JSType.Int,200],["opacity",JSType.Int,100],["shadowColor",JSType.String,"Gray"],["shadowWidth",JSType.Int,0],["shadowDirection",JSType.Int,135]];PXExpandEffects.prototype.setFilter=function($C,$2O){if($C!=null)this.element=$C;if(this.element==null)return;var es=this.element.style;if(es.filter!=null){var $2P=" progid:DXImageTransform.Microsoft.";es.filter="";if(this.type!="NotSet")es.filter+=$2P+this.type+"(duration="+this.duration/1000+");";if(this.opacity<100)es.filter+=$2P+"Alpha(Opacity="+this.opacity+");";if(this.shadowWidth>0){es.filter+=$2P+"Shadow(Direction="+this.shadowDirection+",Strength="+this.shadowWidth+",color="+this.shadowColor+");";};if($2O)this.play();}};PXExpandEffects.prototype.play=function(){if(this.element==null)return;var $2Q=this.element.filters&&this.element.filters[0];if($2Q!=null){$2Q.apply();this.element.style.display="";$2Q.play();}else this.element.style.display="";};function PXDragManager($2R,$1P,$1N,$1O){this.px_context=$2R.px_context;this.dragSource=$2R;this.dragHandle=$1P?$1P:$2R.element;this.showContent=($1N!=null)?$1N:true;this.contentElem=$1O;this.noMoveFlag=false;this.noLimitsFlag=false;this.$4l=Function.createDelegate(this,this.$4m);__px(this).addEventHandler(this.dragHandle,"mousedown",this.$4l);this.$4n=Function.createDelegate(this,this.$4o);this.$4p=Function.createDelegate(this,this.$4q);this.$4r=Function.createDelegate(this,this.$4s);};PXDragManager.disabledTags=['A','AREA','BUTTON','INPUT','SELECT','TEXTAREA','IMG'];PXDragManager.prototype.resetPlaceholder=function(){this.moveElement=null;};PXDragManager.prototype.dispose=function(){__px(this).removeEventHandler(this.dragHandle,"mousedown",this.$4l);};PXDragManager.prototype.startDrag=function(e){var $C=this.dragSource.element;var $2S={x:e.clientX,y:e.clientY};var $2T={x:$C.offsetLeft,y:$C.offsetTop};this.$4t=this.$4u($2S,$2T);if(!this.showContent&&$C.offsetParent){var $0N=$C.offsetParent,$2U=this.contentElem;var $1a=this.moveElement,ds=$1a?$1a.style:null;var $02=$C.offsetWidth,$03=$C.offsetHeight;var $2V=$C.getElementsByTagName("iframe")[0]!=null;if(this.dragSource.onBeforeDragStart)this.dragSource.onBeforeDragStart();$C.style.display="none";if(__px(this).IsIE78&&$2V)$C.parentNode.removeChild($C);if($1a==null){if($2U)$2U.style.visibility="hidden";this.moveElement=$1a=$C.cloneNode(true);if($2U)$2U.style.visibility="";var frames=$1a.getElementsByTagName("iframe");if(frames&&frames.length)frames[0].src="";ds=$1a.style;ds.position="absolute";ds.left=ds.top="-999px";ds.opacity=0.7;ds.filter="alpha(opacity="+70+")";};if($0N.tagName=="HTML")$0N=__doc(this).body;$0N.appendChild($1a);ds.zIndex=20000;ds.left=$2T.x+"px";ds.width=$02-1+"px";ds.top=$2T.y+"px";ds.height=$03-1+"px";ds.display="";if($1a.setCapture)$1a.setCapture();}else $C.style.position="absolute";this.$4v();if(this.dragSource.onDragStart)this.dragSource.onDragStart();};PXDragManager.prototype.stopDrag=function($2B){if(!this.showContent){var $1a=this.moveElement,$C=this.dragSource.element;$C.style.left=$1a.style.left;$C.style.top=$1a.style.top;$1a.style.display="none";if($1a.releaseCapture)$1a.releaseCapture();if(this.IsIE78)$1a.parentNode.appendChild($C);$C.style.display="";if(this.IsIE78){$C.style.display="none";$C.style.display="";};$1a.parentNode.removeChild($1a);};this.$4w();if(this.dragSource.onDragEnd)this.dragSource.onDragEnd($2B);};PXDragManager.prototype.$4x=function(e){var de=__doc(this).documentElement,$2S={x:e.clientX,y:e.clientY};var $2W=de.clientWidth-50,$2X=de.clientHeight-50;var $2Y=this.$4u($2S,this.$4t);if(this.step!=null){$2Y.x=this.$4y($2Y.x);$2Y.y=this.$4y($2Y.y);};if(!this.noLimitsFlag){var se=__px(this).getDocScrollElem();$2W+=de.scrollLeft;$2X+=se.scrollTop;if($2Y.x<0)$2Y.x=0;if($2Y.y<0)$2Y.y=0;if($2Y.x>$2W)$2Y.x=$2W;if($2Y.y>$2X)$2Y.y=$2X;};if(this.noMoveFlag!==true){var style=this.dragSource.element.style;if(!this.showContent)style=this.moveElement.style;style.left=$2Y.x+"px";style.top=$2Y.y+"px";};if(this.dragSource.onDrag)this.dragSource.onDrag(e);};PXDragManager.prototype.$4v=function(){__px(this).addEventHandler(__doc(this),"mousemove",this.$4n);__px(this).addEventHandler(__doc(this),"mouseup",this.$4p);__px(this).addEventHandler(__doc(this),"selectstart",this.$4r);__px(this).addEventHandler(__doc(this),"mousedown",this.$4r);};PXDragManager.prototype.$4w=function(){__px(this).removeEventHandler(__doc(this),"mousemove",this.$4n);__px(this).removeEventHandler(__doc(this),"mouseup",this.$4p);__px(this).removeEventHandler(__doc(this),"selectstart",this.$4r);__px(this).removeEventHandler(__doc(this),"mousedown",this.$4r);};PXDragManager.prototype.$4z=function(p1,p2){return{x:p1.x+p2.x,y:p1.y+p2.y};};PXDragManager.prototype.$4u=function(p1,p2){return{x:p1.x-p2.x,y:p1.y-p2.y};};PXDragManager.prototype.$4A=function(){this.dragSource.element.style.display="none";};PXDragManager.prototype.$4y=function($2Z){if(this.step!=null){var $30=$2Z%this.step,$31=this.step/2;if($30>0&&$30<$31)$30=$30+this.step;return($30>0)?($2Z+this.step-$30):$2Z;};return $2Z;};PXDragManager.prototype.$4m=function(e){var $N=this.dragHandle?this.dragHandle:this.dragSource.element;if(__px(this).eventButton(e)>0||$N.getAttribute("oldCursor")!=null)return;if(this.dragSource&&this.dragSource.awaitResize)return;if($N.offsetHeight<$N.scrollHeight||$N.offsetWidth<$N.scrollWidth)return;var se=__px(this).eventElem(e),$32=PXDragManager.disabledTags;if(se&&se.tagName&&!Array.contains($32,se.tagName)){var $C=se;while($C!=$N){if($C.object!=null)return;$C=$C.parentNode;};__px(this).cancelEvent(e);this.startDrag(e);}};PXDragManager.prototype.$4o=function(e){this.$4x(e);};PXDragManager.prototype.$4q=function(e){this.stopDrag(false);};PXDragManager.prototype.$4s=function(e){__px(this).cancelEvent(e,false);};function PXResizeManager($0q,$1Q){this.px_context=$0q.px_context;this.control=$0q;this.margin=$1Q?$1Q:5;this.element=$0q.element;this.minHeight=this.minWidth=100;this.resizeDirection=2;this.allowResizeY=this.allowResizeX=true;this.setPositionY=this.setPositionX=true;this.enabled=true;this.$4B=Function.createDelegate(this,this.$4m);__px(this).addEventHandler(this.element,"mousedown",this.$4B);this.$4C=Function.createDelegate(this,this.$4o);__px(this).addEventHandler(this.element,"mousemove",this.$4C);this.$4p=Function.createDelegate(this,this.$4D);this.$4n=Function.createDelegate(this,this.$4E);};PXResizeManager.prototype.dispose=function(){__px(this).removeEventHandler(this.element,"mousedown",this.$4B);__px(this).removeEventHandler(this.element,"mousemove",this.$4C);};PXResizeManager.prototype.setEnabled=function($b){this.enabled=$b;if(!$b)this.$4F();};PXResizeManager.prototype.$4G=function(e){var $1a=__px_cm(this).getResizeDiv(),$1b=$1a.firstChild;var ds=$1a.style,se=this.element,h;var de=__doc(this).documentElement,$33=__px(this).getDocScrollElem();ds.display="";ds.width="100%";ds.height=Math.max(de.offsetHeight,$33.offsetHeight)+"px";ds.cursor=se.style.cursor;this.$4H=__px(this).getElemLeftPos(se);this.$4I=__px(this).getElemTopPos(se);this.$4J=__px(this).getStyleWidth($1b,se.offsetWidth);this.$4K=__px(this).getStyleHeight($1b,se.offsetHeight);ds=$1b.style;ds.left=this.$4H+"px";ds.top=this.$4I+"px";ds.width=this.$4J+"px";ds.height=this.$4K+"px";__px(this).addEventHandler($1a,"mouseup",this.$4p,true);__px(this).addEventHandler($1a,"mousemove",this.$4n,true);if($1a.setCapture)$1a.setCapture();};PXResizeManager.prototype.$4L=function($34,$35){var $1a=__px_cm(this).getResizeDiv().firstChild;if(this.xResize==1){var $02=($34-this.$4H-1);$02=($02<this.minWidth)?this.minWidth:$02;if(this.step)$02=this.$4y($02);$1a.style.width=__px(this).getStyleWidth($1a,$02)+"px";}else if(this.xResize==2){if(this.step)$34=this.$4y($34);$1a.style.left=$34+"px";var $02=this.$4J+(this.$4H-$34);$02=($02<this.minWidth)?this.minWidth:$02;if(this.step)$02=this.$4y($02);$1a.style.width=__px(this).getStyleWidth($1a,$02)+"px";};if(this.yResize==1){var $03=($35-this.$4I-1);$03=($03<this.minHeight)?this.minHeight:$03;if(this.step)$03=this.$4y($03);$1a.style.height=__px(this).getStyleHeight($1a,$03)+"px";}else if(this.yResize==2){if(this.step)$35=this.$4y($35);$1a.style.top=$35+"px";var $03=this.$4K+(this.$4I-$35);$03=($03<this.minHeight)?this.minHeight:$03;if(this.step)$03=this.$4y($03);$1a.style.height=__px(this).getStyleHeight($1a,$03)+"px";};if(this.control.onResizeStep)this.control.onResizeStep($1a);};PXResizeManager.prototype.$4y=function($2Z){if(this.step!=null){var $30=$2Z%this.step,$31=this.step/2;if($30>0&&$30<$31)$30=$30+this.step;return($30>0)?($2Z+this.step-$30):$2Z;};return $2Z;};PXResizeManager.prototype.$4m=function(e){if(__px(this).eventButton(e)==0&&this.enabled&&(this.xResize||this.yResize)){this.$4G(e);__px(this).cancelEvent(e);}};PXResizeManager.prototype.$4o=function(e){if(!this.enabled)return;var se=this.element,$36;var $37=se.getBoundingClientRect();this.xResize=this.yResize=0;if(this.allowResizeX){if($37.right-e.clientX<this.margin)this.xResize=1;else if(this.resizeDirection>1&&e.clientX-$37.left<this.margin)this.xResize=2;};if(this.allowResizeY){if($37.bottom-e.clientY<this.margin)this.yResize=1;else if(this.resizeDirection>1&&e.clientY-$37.top<this.margin)this.yResize=2;};if(this.xResize||this.yResize){if(se.getAttribute("oldCursor")==null)se.setAttribute("oldCursor",se.style.cursor);if(this.xResize&&this.yResize){if(this.xResize==2&&this.yResize==2)$36="nw-resize";else if(this.xResize==2||this.yResize==2)$36="ne-resize";else $36="nw-resize";}else $36=this.yResize?"n-resize":"w-resize";se.style.cursor=$36;if(this.control)this.control.awaitResize=true;}else{this.$4F();if(this.control)delete this.control.awaitResize;}};PXResizeManager.prototype.$4F=function(e){var se=this.element,$36=se.getAttribute("oldCursor");if($36!=null){se.style.cursor=$36;se.removeAttribute("oldCursor");}};PXResizeManager.prototype.$4E=function(e){var $33=__px(this).getDocScrollElem();var $34=e.clientX+$33.scrollLeft;var $35=e.clientY+$33.scrollTop;this.$4L($34,$35);__px(this).cancelEvent(e);};PXResizeManager.prototype.$4D=function(e){var $1a=__px_cm(this).getResizeDiv(),$1b=$1a.firstChild;try{var top=$1b.offsetTop,$0V=$1b.offsetLeft;var $02=$1b.offsetWidth,$03=$1b.offsetHeight;__px(this).cancelEvent(e);$1a.style.display="none";var $A=this.control,$C=this.element,$38=$C;if(this.resizeDirection>1){while($38){var s=__px(this).getComputedStyle($38);if(s&&(s.position=="absolute"||s.position=="fixed"))break;$38=$38.offsetParent;}};if(this.resizeDirection>1&&$38&&$38.offsetParent!=__doc(this).body){$0V-=__px(this).getElemLeftPos($38.offsetParent);top-=__px(this).getElemTopPos($38.offsetParent);if($0V<0){$02+=$0V;$0V=0;};if(top<0){$03+=top;top=0;}};if(this.step){$0V=this.$4y($0V);top=this.$4y(top);$02=this.$4y($02);$03=this.$4y($03);};if(this.control.onResize)this.control.onResize(true);if(this.xResize){if($A.setWidth)$A.setWidth($02);else $C.style.width=__px(this).getStyleWidth($C,$02)+"px";if(this.xResize==2&&this.setPositionX&&$38)$38.style.left=$0V+"px";};if(this.yResize){if($A.setHeight)$A.setHeight($03);else $C.style.height=__px(this).getStyleHeight($C,$03)+"px";if(this.yResize==2&&this.setPositionY&&$38)$38.style.top=top+"px";};if(this.control.onAfterResize)this.control.onAfterResize(true);if(this.control.dragManager)this.control.dragManager.resetPlaceholder();}finally{__px(this).removeEventHandler($1a,"mouseup",this.$4p,true);__px(this).removeEventHandler($1a,"mousemove",this.$4n,true);if($1a.releaseCapture)$1a.releaseCapture();}};function PXColumnResizer($0q,element,$39){this.px_context=$0q.px_context;this.control=$0q;this.element=element;this.scrollDiv=$39;this.resizePadding=6;var h=this.$4M=Function.createDelegate(this,this.$4N);__px(this).addEventHandler(element,"mousemove",h,true);__px(this).addEventHandler(element,"mouseup",h,true);__px(this).addEventHandler(element,"mousedown",h,true);this.colResizeH=Function.createDelegate(this,this.$4O);};PXColumnResizer.prototype.dispose=function(){__px(this).removeEventHandler(this.element,"mousemove",this.$4M,true);__px(this).removeEventHandler(this.element,"mouseup",this.$4M,true);__px(this).removeEventHandler(this.element,"mousedown",this.$4M,true);};PXColumnResizer.prototype.$4P=function(e){var se=__px(this).eventElem(e);while(se&&se.tagName!="TH"&&se.tagName!="TD"&&se.tagName!="TR")se=se.parentNode;se=(se==null||(se.tagName!="TH"&&se.tagName!="TD"))?null:se;if(!__px(this).contains(this.element,se))return null;if(this.rowIndex!=null&&this.rowIndex!=se.parentNode.rowIndex)se=null;return se;};PXColumnResizer.prototype.$4Q=function(e,th){var $1a=__px_cm(this).getResizeDiv(),$1b=$1a.firstChild,ds=$1a.style;ds.display="";ds.cursor="w-resize";ds.width=__doc(this).documentElement.clientWidth-0.1+"px";ds.height=__doc(this).documentElement.clientHeight-0.1+"px";ds=$1b.style;ds.top=__px(this).getElemTopPos(this.element)+"px";ds.left=e.clientX+__doc(this).documentElement.scrollLeft+"px";ds.width="0px";ds.height=this.element.offsetHeight+this.scrollDiv.offsetHeight+"px";$1a.object=this;$1a.th=th;$1a.initX=e.clientX;__px(this).addEventHandler(__doc(this),"mouseup",this.colResizeH,true);__px(this).addEventHandler(__doc(this),"mousemove",this.colResizeH,true);if($1a.setCapture)$1a.setCapture();};PXColumnResizer.prototype.$4N=function(e){switch(e.type){case "mousedown":return this.$4R(e);case "mousemove":return this.$4S(e);}};PXColumnResizer.prototype.$4R=function(e){var se=this.$4P(e);if(se==null||__px(this).eventButton(e)>0)return;var $3a=true;if(e.clientX>(se.getBoundingClientRect().right-this.resizePadding)){this.$4Q(e,se);$3a=false;};if($3a)se.headerClicked=true;else __px(this).cancelEvent(e,false);};PXColumnResizer.prototype.$4S=function(e){var se=this.$4P(e);if(se==null)return;if(!se.headerClicked){if(e.clientX>(se.getBoundingClientRect().right-this.resizePadding)){if(se.oldHeaderCursor==null)se.oldHeaderCursor=se.style.cursor;se.style.cursor="w-resize";}else{if(se.oldHeaderCursor!=null){se.style.cursor=se.oldHeaderCursor;se.oldHeaderCursor=null;if(__px(this).IsIE){se.style.display="none";se.style.display="";}}};se.headerClicked=false;__px(this).cancelEvent(e,false);}};PXColumnResizer.prototype.$4O=function(e){switch(e.type){case "mousemove":this.$4T(e);break;case "mouseup":this.$4U(e);break;}};PXColumnResizer.prototype.$4T=function(e){var $1a=__win(this).theForm.resizeDiv;if($1a.initX!=e.clientX){var th=$1a.th,$3b=__doc(this).documentElement;if((th.clientWidth+e.clientX-$1a.initX)>0)$1a.firstChild.style.left=e.clientX+$3b.scrollLeft+"px";};__px(this).cancelEvent(e);};PXColumnResizer.prototype.$4U=function(e){var $1a=__win(this).theForm.resizeDiv;try{$1a.style.display="none";if($1a.initX!=e.clientX&&this.control.afterColResize){var $3c=$1a.th.clientWidth;var $0F=e.clientX-$1a.initX,$3d=$3c+$0F;if($3d<=0)$3d=1;if($3c!=$3d)this.control.afterColResize(this,$1a.th,$3d);};__px(this).cancelEvent(e);}finally{__px(this).removeEventHandler(__doc(this),"mouseup",this.colResizeH,true);__px(this).removeEventHandler(__doc(this),"mousemove",this.colResizeH,true);if($1a.releaseCapture)$1a.releaseCapture();$1a.object=null;$1a.th=null;}};function PXExcelExportManager($0q,$3e,$0g){if(!$0q||!$3e)return;this.control=$0q;this.callback=$3e;this.handler=$0g;};PXExcelExportManager.exportImagesDesc=[["normal",JSType.String,"main@Excel"],["cancel",JSType.String,"main@Fail"],["processing",JSType.String,""]];PXExcelExportManager.prototype.processExportExcel=function($0c,$d){if(!$0c)return;var $3f=this.exportButton;if($3f&&$3f.inprocess==null)$3f.inprocess=true;if($3f&&$3f.inprocess){var $3g=this.$4V($0c);if($3g.errors||String.compare($3g.status,"aborted",true)||String.compare($3g.status,"notexists",true)){this.$4W("aborted",$3g.seconds,$3g.errors);}else if(String.compare($3g.status,"completed",true)){this.$4W("success",$3g.seconds);var $H=location.href.split('?')[0],$3h="/export",i=$H.lastIndexOf('/');if(i>=0){if(this.control.currentDate){var $3i=this.control.currentDate();if($3i==this.control.xlsDate)this.control.xlsId+=1;else{this.control.xlsDate=$3i;this.control.xlsId=0;};$3h=__doc(this.control).title+" "+$3i;if(this.control.xlsId>0)$3h+="("+this.control.xlsId+")";};$H=$H.substring(0,i)+'/';};if(this.exportFrame==null){this.exportFrame=__doc(this.control).createElement("iframe");this.exportFrame.style.display="none";__doc(this.control).body.appendChild(this.exportFrame);};$3h=$3h.replace(/\.|&|#|\?|%|\(|\)|\[|\]|\\|\/|\||\^|<|>|,|:|;|=|@|~/g,'');var $3j=$H+"ExportExcel.axd?file="+$3h+".xlsx",$3k=$3g.type;if($3k=="xlsx")$3j=$H+"ExportXlsx.axd?file="+$3h+".xlsx";if($3k=="iqy")$3j=$H+"ExportIqy.axd?file="+$3h+".iqy";if(this.handler)$3j=$H+this.handler+"?file="+$3h+"."+($3k?$3k:"iqy");this.exportFrame.src=$3j;}else{this.$4W("inprocess",$3g.seconds,null,$3g.uid);var $3l=this.callback,me=this;setTimeout(function(){if(me.exportButton&&me.exportButton.inprocess){var $3m="checkstatus";if($3g.type)$3m+="$"+$3g.type;__px_callback(me.control).execI(me.control,$3l,$3m+"|"+$3g.uid,Function.createDelegate(me,me.processExportExcel));}},5000);}}};PXExcelExportManager.prototype.startExportExcel=function($2C,$3n,$3o){this.exportButton=$3n;this.exportImages=$3o;var $P=this.exportButton.inprocess?"abort|"+this.exportButton.uid:"start";$P=$P+"$"+$2C;delete $3n.inprocess;__px_callback(this.control).execI(this.control,this.callback,$P,Function.createDelegate(this,this.processExportExcel));};PXExcelExportManager.prototype.$4V=function($O){var $30=new Object();if($O){var $u=$O.split('|');if($u.length>0){var $P=$u[0].split('$');$30.command=$P[0];if($P.length>1)$30.type=$P[1];};if($u.length>1)$30.uid=$u[1];if($u.length>2)$30.status=$u[2];if($u.length>3)$30.seconds=$u[3];if($u.length>4)$30.errors=$u[4];};return $30;};PXExcelExportManager.prototype.$4W=function(status,$3p,$3q,$3r){if(!this.exportButton.origTooltip)this.exportButton.origTooltip=this.exportButton.getTooltip();if($3r)this.exportButton.uid=$3r;var $3s="";if($3p){var $3t=parseInt($3p);var $3u=Math.floor($3t/60);var $3v=$3t%60;if($3u<10)$3u="0"+$3u;if($3v<10)$3v="0"+$3v;$3s="Time "+$3u+":"+$3v;};var $3w=this.exportImages.normal;var $3x=this.exportImages.normal;var $2L=this.exportButton.origTooltip;this.exportButton.inprocess=false;switch(status){case "inprocess":$3w=this.exportImages.processing;$3x=this.exportImages.cancel;this.exportButton.inprocess=true;if($3s)$2L=$3s;break;case "aborted":$3w=this.exportImages.cancel;$3x=this.exportImages.normal;this.exportButton.inprocess=false;$2L=$3s.length>0?($3s+($3q?("; "+$3q):"")):$3q;break;case "success":$3w=this.exportImages.normal;$3x=this.exportImages.normal;this.exportButton.inprocess=false;break;};var $3y=this.exportButton.images;$3y.normal=$3w;$3y.disabled=$3w;$3y.hover=$3x;this.exportButton.setStyle();this.exportButton.setTooltip($2L);};



function PXCallbackManager($a){this.px_context=$a;this.popupLevel=0;this.popupPanels=new Array();this.theForm=__win(this).theForm;__doc(this).suppressCallbacks=__win(this).suppressCallbacks;this.__theFormPostData="";this.__theFormPostCollection=new Array();this.__callbackTextTypes=/^(text|password|hidden|search|tel|url|email|number|range|color|datetime|date|month|week|time|datetime-local)$/i;this.__pendingCallbacks=new Array();this.__synchronousCallBackIndex=-1;this.pendingCallbacks=new Array();};PXCallbackManager.commandDesc=[["name",JSType.String,""],["blockPage",JSType.Bool,false],["repaintControls",JSType.Int,0],["repaintControlsIDs",JSType.String,""],["selectControlsIDs",JSType.String,""],["commitChanges",JSType.Bool,false],["commitChangesIDs",JSType.String,""],["postData",JSType.Int,1],["postDataControls",JSType.Bool,true],["container",JSType.String,""],["closePopup",JSType.Bool,false],["hideText",JSType.Bool,false],["optimizePostData",JSType.Bool,true],["popupCommandTarget",JSType.String,null],["popupCommand",JSType.String,null],["popupCheckSave",JSType.Bool,true],["showProcessInfo",JSType.Bool,false]];PXCallbackManager.settingsDesc=[["enabled",JSType.Bool,true],["activeBehavior",JSType.Bool,false],["suppressOnReload",JSType.Bool,false],["fromUIOnly",JSType.Bool,false],["handler",JSType.String,""],["target",JSType.String,""],["command",JSType.String,""],["argument",JSType.String,""],["behavior",JSType.Object,PXCallbackManager.commandDesc]];PXCallbackManager.prototype.needSuppress=function(){try{if(__win(this).suppressCallbacks||__doc(this).suppressCallbacks)return true;}catch(ex){return true;};var $b=__doc(this).forms[0].action;return $b&&$b.indexOf("fileupload")>0;};PXCallbackManager.prototype.hasPreparedResult=function(){return !!this.preparedResult||!!this.preparedError;};PXCallbackManager.prototype.createCommand=function(name,$c,$d,$e,$f){var $g=new Object();$g.name=name;$g.repaintControls=($d!=null)?$d:0;$g.blockPage=($c!=null)?$c:false;$g.commitChanges=($e!=null)?$e:false;$g.postData=($f!=null)?$f:0;$g.postDataControls=true;$g.optimizePostData=true;return $g;};PXCallbackManager.prototype.copyCommand=function(name,$h){var $g=new Object();$g.name=name;$g.blockPage=$h.blockPage;$g.commitChanges=$h.commitChanges;$g.repaintControls=$h.repaintControls;$g.postData=$h.postData;$g.postDataControls=$h.postDataControls;$g.container=$h.container;$g.repaintControlsIDs=$h.repaintControlsIDs;$g.selectControlsIDs=$h.selectControlsIDs;$g.commitChangesIDs=$h.commitChangesIDs;$g.optimizePostData=$h.optimizePostData;return $g;};PXCallbackManager.prototype.createSettings=function($i,$j,$k){var cs=new Object();cs.enabled=true;cs.target=$i;cs.command=$j;cs.argument=$k;return cs;};PXCallbackManager.prototype.addHandler=function($l,$m){if($l&&(typeof $l=="function")){var $n=this.handlers;if($n==null)$n=this.handlers=new Array();if($m!=null)$n.splice($m,0,$l);else $n.push($l);}};PXCallbackManager.prototype.removeHandler=function($l){if($l&&(typeof $l=="function")){var $n=this.handlers;if($n)Array.remove($n,$l);}};PXCallbackManager.prototype.$1P=function($a,$o){var $n=this.handlers;if($n){$n=Array.clone($n);for(var i=0;i<$n.length;i++)try{$n[i]($a,$o);}catch(ex){}}};PXCallbackManager.prototype.isCancelCommand=function(){if(this.context!=null){var $i=__px_all(this)[this.context.controlID];if($i&&$i.cancelCommandName==this.context.info.name)return true;};return false;};PXCallbackManager.prototype.execI=function($p,$q,$r,$l,$a,$s,$t){if(__win(this).IsDesignMode===true&&$p.ID!=null&&$p.ID.indexOf("CustomizationDialogs")<0){return;};if(this.needSuppress())return;if($q.blockPage)__px(this).startWC();var $u=new Object(),pc=$s?$s:$p.popupCommandExt;$u.startTime=new Date();$u.initFunc=Function.createDelegate(this,this.$1Q);$u.getDataFunc=Function.createDelegate(this,this.$1R);$u.clearFunc=Function.createDelegate(this,this.$1S);$u.getParamsFunc=$a?$a.getParamsFunc:null;$u.popupCommand=(pc&&pc.enabled&&pc.command)?pc:null;$u.info=$q;$u.data=$r;$u.handler=$l;$u.context=$a;$u.controlID=$p.ID;$u.control=$p;$u.blockPage=$q.blockPage;$u.preProcessData=$p.preProcessData;$u.preProcessID=$p.preProcessID;var e=null;if($p.sourceEvent){e=$p.sourceEvent;$p.sourceEvent=null;}else if($p.events){e=$p.events.eventArgs.event;};if(e)try{$u.openFrameset=(e.shiftKey||e.ctrlKey||e.openFrameset);}catch(ex){};if(this.settings){var s=this.settings;if(String.compare(s.command,$q.name,true)&&$p.ID==s.target){$u.info=$q=s.behavior;$q.sendSettings=true;$q.name=s.command;};this.settings=null;};if(this.hasPreparedResult()){if(!__px_cm(this).awaitEnhanceOnReload){var $v=this.preparedResult,$w=this.preparedError;delete this.preparedResult;delete this.preparedError;$u.isPreparedResult=true;if($w)this.processCallbackErr($w,$u);else this.processCallback($v,$u);}}else{var $x=this.$1R($u);var name=$p.sourceName;if(!name&&$p.element)name=$p.element.getAttribute("name");this.$1Q($u);var hn=Function.createDelegate(this,this.processCallback);var he=Function.createDelegate(this,this.processCallbackErr);this.doCallback(name,$x,hn,$u,he,false,null,$t,null,$q.uploadCallback);}};PXCallbackManager.prototype.exec=function($y,$z,$s){if(!$z.enabled)return false;this.settings=null;if($z.target){var $i=__px_all(this)[$z.target];if($i&&$i.executeCallback){if($y&&$y.events)$i.sourceEvent=$y.events.eventArgs.event;if($z.activeBehavior)this.settings=$z;$i.popupCommandExt=$s;if($y&&$y.preProcessData&&$y!=$i){$i.preProcessID=$y.serverID;$i.preProcessData=$y.preProcessData;};try{$i.executeCallback($z.command,$z.argument);}finally{if($y)delete $y.preProcessData;delete $i.popupCommandExt;delete $i.preProcessID;delete $i.preProcessData;};return true;}}else if($z.command){var $l=null;if($z.handler){with(__win(this)){try{$l=eval($z.handler);}catch(e){}};if($l==null)try{$l=eval($z.handler);}catch(e){}};$z.behavior.name=$z.command;$z.behavior.sendSettings=true;this.execI($y,$z.behavior,$z.argument,$l,null,$s);return true;};return false;};PXCallbackManager.prototype.$1Q=function($a){this.windowHeight=__doc(this).documentElement.offsetHeight;this.__theFormPostData='';this.__theFormPostCollection.length=0;var $q=$a.info,$p=__px_all(this)[$a.controlID];var $A=this.theForm.elements.length,element;if($p.sourceID)$p=__px_all(this)[$p.sourceID];var $B=this.$1T();var $C=($a.info.name=="ReloadPage");for(var i=0;i<$A;i++){element=this.theForm.elements[i];if(!element.name||!element.id)continue;if($C&&!element.id.startsWith("__")&&!element.getAttribute("postOnReload"))continue;if(!this.$1U($p,$q,element,$B))continue;var $D=element.tagName.toLowerCase(),$E=false;if($D=="input"){var $F=element.type,$G;var $H=($F=="checkbox");if($F=="text"||$F=="password"||$F=="file"||$F=="hidden"||$F=="color"||($F=="radio"&&element.checked)||$H){$G=element.value;if($H&&!element.checked)$G="";this.WebForm_InitCallbackAddField(element.name,$G);}}else if($D=="select"){var $I=element.options.length;for(var j=0;j<$I;j++){var $J=element.options[j];if($J.selected==true){this.WebForm_InitCallbackAddField(element.name,element.value);}}}else if($D=="textarea"){this.WebForm_InitCallbackAddField(element.name,element.value);}}};PXCallbackManager.prototype.$1R=function($a){var $q=$a.info,$p=$a.control;this.$1V($q,$a);var $K=new PXXmlDoc($p.ID),$L=$K.rootNode;var $M=this.$1W(),$N=this.$1X();if($N>0)$L.setAttribute("PopupLevel",$N);if($M)$L.setAttribute("LoadedLevel",$M.length-1);if(this.$1Y!=null)$L.setAttribute("MessageLoaded",1);if(__win(this).parentPanel!=null)$L.setAttribute("IsPopupPage",1);if(this.$1Z!=null)$L.setAttribute("PaymentLoaded",1);if($a.preProcessID){$L.setAttribute("PreProcessID",$a.preProcessID);$L.setAttribute("PreProcessData",$a.preProcessData);};if($q.dialogResult){$L.setAttribute("DialogResult",$q.dialogResult);$L.setAttribute("DialogKey",$q.dialogKey);$L.setAttribute("Answers",$q.previousAnswers);$L.setAttribute("DataSource",$q.dataSource);$L.setAttribute("ViewName",$q.viewName);};if($q.sendSettings){$L.setAttribute("Repaint",$q.repaintControls);$L.setAttribute("RepaintIDs",$q.repaintControlsIDs);$L.setAttribute("SelectIDs",$q.selectControlsIDs);$L.setAttribute("Commit",__px(this).getInvariantText($q.commitChanges));};var $r=($a.data==null)?"":$a.data;if($a.getParamsFunc)$r=$a.getParamsFunc($a.context);if($q.commitChanges){this.$20($K,$p,$q);var $O=$K.xmlDoc.createElement($p.ID);$O.appendChild($K.xmlDoc.createCDATASection($r));$O.setAttribute("OwnerData",1);if($q.ownCommit)$O.setAttribute("Commit",1);$K.rootNode.appendChild($O);}else{$K.rootNode.appendChild($K.xmlDoc.createCDATASection($r));};return $q.name+"|"+$K.toString();};PXCallbackManager.prototype.$1S=function($a){var $q=$a.info;if($q&&$q.dialogResult){delete $q.dialogResult;}};PXCallbackManager.prototype.$1X=function(){var $P=this;if(__win(this).parentPanel!=null)$P=__win(this).parent.px_callback;return $P.popupLevel;};PXCallbackManager.prototype.$1W=function(){var $P=this;if(__win(this).parentPanel!=null)$P=__win(this).parent.px_callback;return $P.popupPanels;};PXCallbackManager.prototype.$1U=function($p,$q,element,$B){var $D=element.tagName.toLowerCase(),$E=false;var $Q=($D=="input"&&element.type=="hidden");var id=element.id,$R=$p.ID,$S=$R;var $T=$p.ownerID,$U=$p.sourceID;if($q.postData==2){var $V=[$q.container,$p.bindingContainer];for(var i=0;i<$V.length;i++)if($V[i]){$S=$V[i];break;}};if($B){for(var i=0;i<$B.length;i++)if(id.startsWith($B[i]+"_"))return false;};var $W=$q.optimizePostData;if($Q){if(id&&id.startsWith("__"))$E=true;else{var $X=[$R,$U,$T];for(var i=0;i<$X.length;i++)if($X[i]&&id==($X[i]+"_state")){$E=true;$W=false;break;}}}else{if(id==$R||id==$T){$E=true;$W=false;}};if(!$E){if(element.getAttribute("ignore")!=null||($Q&&!element.value))return false;switch($q.postData){case 1:$E=id.startsWith($R);break;case 2:$E=id.startsWith($S);break;case 3:$E=true;break;}};if(!$q.postDataControls)return $E;if(!$E){$E=this.$21(element);}else if($W){var $Y=false;for(var name in __px_data(this)){var $y=__px_data(this)[name];if($y){var $Z=this.$22($y,id);if($Z!==null){$E=$Z;$Y=true;break;};if($y.notNeedPostElement&&$y.notNeedPostElement(id))$E=false;}};var $00=($Q&&element.object)?element.object.element:element;if($E&&!$Y&&(!$Q||element.object)&&!__px(this).isVisible($00))$E=false;};return $E;};PXCallbackManager.prototype.$21=function(element){for(var name in __px_data(this)){var $y=__px_data(this)[name];if($y&&this.$22($y,element.id))return true;};return false;};PXCallbackManager.prototype.$22=function($01,id){var $02=$01.ID,$03=$01.ID+"_state";if(id==$02||id==$03){if($01.postVisibleOnly&&!__px(this).isVisible($01.element))return false;return true;};if($01.needPostElement&&$01.needPostElement(id))return true;return null;};PXCallbackManager.prototype.$1T=function(){var $X=new Array();for(var name in __px_data(this)){var $y=__px_data(this)[name];if($y==null||$y.excludeFromPostIDs==null)continue;Array.addRange($X,$y.excludeFromPostIDs());};return $X;};PXCallbackManager.prototype.$23=function($v){if($v[0]=='<'){return[$v];};var $04=$v.indexOf('<');if($04==-1){return[$v];};var $05=$v.substring(0,$04);var $06=$v.split($05);if($06.length%2==0){$06.shift();};var $07=$06.shift();var $08={};for(var i=0;i<$06.length;i+=2){$08[$06[i]]=$06[i+1];};return[$07,$08];};PXCallbackManager.prototype.getLargeProp=function($y,$09){if(this.context&&this.context.largeResult){return this.context.largeResult[$y.ID+':'+$09];}};PXCallbackManager.prototype.setAntiXsrfToken=function($0a){if($0a)__px(this).elemByID(PX.antiXsrfToken).value=$0a;};PXCallbackManager.prototype.processCallback=function($v,$a,$0b){if(!$v||!$a){if($a&&$a.blockPage)__px(this).stopWC();return;};this.context=$a;this.isReloadPage=($a.info.name=="ReloadPage");if(this.isReloadPage&&$0b)this.setAntiXsrfToken($0b.getResponseHeader(PX.antiXsrfHeader));var $0c=__px(this).getCookie("requestid");var $0d=__px(this).getCookie("requeststat");try{var $0e=this.$23($v);if($0e.length>1){$a.largeResult=$0e[1];$v=$0e[0];};this.targetCtrlID=$a.controlID;this.target=__px_all(this)[$a.controlID];this.command=$a.info;var $K=new PXXmlDoc("",$v),$L=$K.rootNode;var $0f=$L.getAttribute("HandlerID");if($0f!=null){var $y=__px_all(this)[$0f];if($y&&$y.processCallback)$y.processCallback($K,$a);return;};this.resultXml=$K;var $y=__px_all(this)[$a.controlID],$0g="";if($L.childNodes.length)$0g=this.processRepaint($L,$y);if($L.getAttribute("MessageBox"))this.$24($L,$a);else if($L.getAttribute("Popup"))this.processPopup($L,$a);else if($L.getAttribute("Dialog"))this.$25($L,$a);else if($L.getAttribute("Payment"))this.$26($L,$a);else if($L.getAttribute("DynamicPanel"))this.$27($L,$a);if($a.handler){var $u=$a.context;$a.handler($0g,$u?$u:$a.controlID);};$a.result=$v;this.$1P($a,false);var $0h=this.javaScript;if($0h)try{with(__win(this)){eval($0h);}}catch(ex){};delete this.javaScript;var $0i=__doc(this).documentElement.offsetHeight,me=this;if(this.windowHeight!=$0i||this.isReloadPage){if(__px_cm(this).delayedCallback==null)__px_cm(this).delayedCallback=0;__px_cm(this).delayedCallback++;__px_cm(this).registerTimeout(setTimeout(function(){__px_cm(me).notifyOnResize();if(__px_cm(me).delayedCallback)__px_cm(me).delayedCallback--;},0));}}catch(ex){alert(ex.type+": "+ex.message);}finally{if($a.blockPage)__px(this).stopWC();__px_cm(this).repaintStatusBar();__px_cm(this).recalcScrollSpacerSize();var $0j=($a.info&&$a.info.commitChangesIDs)?$a.info.commitChangesIDs.split(","):null;if($0j)for(var name in __px_data(this)){var $y=__px_data(this)[name];for(var i=0;i<$0j.length;i++)if($y.ID.endsWith($0j[i])){$y.dataChanged=false;break;}};this.targetCtrlID=null;this.target=null;this.command=null;};this.context=this.resultXml=null;delete this.isReloadPage;this.$28($a,$0c,$0d,$a.clientRequestTime);};PXCallbackManager.prototype.$28=function($a,$0c,$0d,$0k){var $0l=__px(this).topWin();var dt=0;var $g="ReloadPage";var id="ctl00$phDS$ds";if(!(typeof $a==='string')){dt=new Date()-$a.startTime;id=ck($a,"controlID");$g=ck($a,"info","name");}else if($0l.startTime!=null){dt=new Date()-$0l.startTime;};if(!(typeof $a==='string')&&$a)$a.isPerformanceHandled=true;if(!$a.isPreparedResult)__px_cm(this).logMessage("End callback "+id+" "+$g+" "+dt);var $0m=__px(this).getCookie("perfMonHandled");var $0n=[];if($0m){$0n=$0m.split(":");};if(!$0k)$0k=dt;if($0c){var $0o=(__px($0l).getCookie("perfMon")||"");if($a.isPreparedResult){if($0o){__px($0l).setCookie("perfMon",$0o+"+dt:"+dt,"/");}}else{var $0p="|cmd:"+$g+"+id:"+id+"+key:"+$0c;if($0d){$0p+="+dt:"+dt+"+ct:"+$0k;$0p+=$0d;};if($0o){var $0q=$0o.split("|");$0q=$0q.filter(function($0r){return !$0n.some(function(id){return $0r.includes("+key:"+id)});});$0o=$0q.join('|');};__px($0l).setCookie("perfMon",$0o+$0p,"/");__px($0l).setCookie("perfMonHandled","","/");}}};function ck(a){for(var i=1;i<arguments.length;i++){if(a==null)return null;var $0s=arguments[i];a=a[$0s];};return a;};PXCallbackManager.prototype.processCallbackErr=function($v,$a){var $y=__px_all(this)[$a.controlID],$0t=null;if($a.blockPage)__px(this).stopWC();this.context=$a;if($v){this.targetCtrlID=$a.controlID;this.target=__px_all(this)[$a.controlID];this.command=$a.info;var $0u=$v.indexOf("0|");if($0u>=0)$v=$v.substring(0,$0u);var ar=$v.split("@script:");if(ar.length>1){$v=ar[0];if(ar[1])try{with(__win(this)){eval((new PXHTMLEncoder).htmlDecode(ar[1]));}}catch(ex){}};var ri=$v.indexOf("Refresh");if(ri==0){var $0v=null;if($v.length>ri+7){$0v=$v.substr(ri+8);var si=$0v.indexOf("|");if(si>=0)$0v=$0v.substr(0,si);$0v=decodeURIComponent($0v);}else $0v=__win(this).top.location.href;__px(this).deleteCookie("lasturl","/");__win(this).suppressChanges=true;__win(this).top.location=$0v;}else if($v.indexOf("ClosePopup")==0){var ar=$v.split('|'),$0w=__win(this);if(ar.length>1){if(ar[1]=="ClearKey"){delete $0w.keyFields;$0w.clearKey=true;}else{var $0x=new PXHTMLEncoder();if($0w.keyFields==null)$0w.keyFields=new Object();var $0y=ar[1].split(',');for(var i=0;i<$0y.length;i++){var $0z=$0y[i].split('=');$0w.keyFields[$0z[0]]=$0x.htmlDecode($0z[1]);};delete $0w.clearKey;}};this.$1P($a);if(!__px_cm(this).hasPopupHandlers()){if(__win(this).allowAutoHide||__px(this).isPopupWindow(__loc(this).href)||__px(this).isPopupInlineWindow(__loc(this).href)){if(!__win(this).parentPanel)__px(this).closePopupWindow(true,true);}}else __px_cm(this).notifyPopupCommand($y,"ClosePopup");}else if($v.startsWith("Redirect")){this.$1P($a);this.processRedirect($v,$a);}else{this.$1P($a,true);$0t=$v;};this.targetCtrlID=null;this.target=null;this.command=null;}else{$0t=__px(this).getLocalMessage('unknownError',"Unspecified Error.");};if($0t){var $0x=new PXHTMLEncoder();alert($0x.htmlDecode($0t));};this.context=null;};PXCallbackManager.prototype.processRedirect=function($v,$a){if($a==null)$a=this.context;if(__win(this).parentPanel!=null){__win(this).parent.px_callback.processRedirect($v,$a);return;};var ar=$v.split('@',2),$0A=ar.length>1?ar[1]:null;$v=ar[0];var $0B=$v.lastIndexOf("$target="),$0C="",$0D=false;var px=($a.openFrameset&&__win(this).openerPX)?__win(this).openerPX:__px(this);if($0B>=0){$0C=$v.substring($0B+8);$v=$v.substring(0,$0B);if($a.openFrameset&&$0C=="_inline"){$0D=true;$0C=null;}};if($v.indexOf("Redirect:")==0){if(!$a.openFrameset&&!$0C)__px(this).startLC();px.openUrl($v.substring(9).replace(/&amp;/g,"&"),$0C,$a.openFrameset);return;};var $y=__px_all(this)[$a.controlID];var $0E=($v.indexOf("Redirect_Export:")==0);var $0F=($v.indexOf("GetFile.ashx")>=0);var $0G=($v.indexOf("Mobile/")>=0);if($0E||($v.indexOf(".ashx")>0&&!$0G&&!$0C)||($v.indexOf("Export.aspx")>0&&!$0C)){if(__px(this).exportFrame==null){__px(this).exportFrame=__doc(this).createElement("iframe");__px(this).exportFrame.style.display="none";__px(this).exportFrame.id="px_exportFrame";__doc(this).body.appendChild(__px(this).exportFrame);};if($a!=null&&$a.controlID&&$0F){if($y&&$y.notifyRedirect)$y.notifyRedirect($a,$0A);};var $0H=$v.substring($0E?16:10);__px(this).exportFrame.src=(new PXHTMLEncoder()).htmlDecode($0H);return;};var $0I=($v.indexOf("Redirect0:")==0)||__win(this).suppressChangesForReq||($v.indexOf("Redirect5:")==0)||($v.indexOf("Redirect7:")==0&&$0C!="_inline");var $0J=($v.indexOf("Redirect1:")==0)||($v.indexOf("Redirect6:")==0)||($v.indexOf("Redirect8:")==0);var $0K=($v.indexOf("Redirect3:")==0)||$0D;var $0L=($v.indexOf("Redirect4:")==0);var $0M=($v.indexOf("Redirect5:")==0)||($v.indexOf("Redirect6:")==0);var $0N=(($v.indexOf("Redirect7:")==0)||($v.indexOf("Redirect8:")==0))&&!$0D;if($0I||$0J||$0K||$0L||$0N){if($a!=null&&$a.controlID&&($0K||$0L||$0N||$0F)){if($y&&$y.notifyRedirect)$y.notifyRedirect($a,$0A);};var $0v=$v.substring(10),$0O=$0v.indexOf("|");var $0P=(__loc(this).href.indexOf($0v)>0),$0Q=__win(this).openerPX;px=(($0K||($0N&&$0P))&&$0Q)?$0Q:__px(this);if(__px(this).isPopupLayerWindow()&&!$0K&&!$0L&&!$0N&&!$0C){if($0Q)px=$0Q;};$0v=(new PXHTMLEncoder()).htmlDecode($0v);if($0O!=-1){px.openUrl($0v.substring($0O+1),$0M?"_blank":$0C,!$0M);$0v=$0v.substring(0,$0O);$0K=false;}else if(!$0L&&!$0K&&$a){if($a.openFrameset)$0K=true;else if($a.context)$0K=$a.context.openFrameset;};if($0K&&$0M){$0K=false;$0L=true;};var $s=$a.popupCommand;if(!$0K&&!$0N&&!$0L&&!$0C&&$0v.indexOf(".aspx")>0&&$0v.indexOf("isfiledialog")<0){px.startLC();if(!$s)$s=__win(this).popupCommand;};if(__px(this).isPopupLayerWindow()&&$0C=="_inline"){$0v+=($0v.indexOf("?")>0?"&":"?")+"InLayer=On";};if($0I||$a.info.commitChanges)__win(this).suppressChanges=true;px.openUrl($0v,$0L?"_blank":$0C,$0K,$0N,$s);}else{__px(this).stopWC();__px(this).stopLC();alert($v);if($y&&$y.notifyRedirectFailed)$y.notifyRedirectFailed($a);__px(this).setLayerShadowVisible(false);}};PXCallbackManager.prototype.processRepaint=function($L,$0R){var $0g="",me=this;for(var i=0;i<$L.childNodes.length;i++){var n=$L.childNodes[i];if(n.nodeType!=1)continue;if(n.tagName=="Script"){this.javaScript=n.childNodes[0].nodeValue;continue;};var c=__px_all(this)[n.tagName];if(c){var $props=n.getAttribute("Props");if($props!=null&&c.setProperties){$props=JSON.parse($props);c.setProperties($props);};if(n.childNodes.length){var n2=n.childNodes[0],$0S;var $0T=function($0U){return $0U.nodeType==4||$0U.nodeType==8};$0S=$0T(n2)?([].filter.call(n.childNodes,$0T).map(function($0U){return $0U.nodeValue}).join("")):PXXmlDoc.toString(n2);try{if(c.ID==$0R.ID||c.ID==$0R.sourceID)$0g=$0S;else if(c.processRefresh)c.processRefresh($0S);else if(c.repaint)c.repaint($0S);}catch(ex){window.console.log(ex.type+": "+ex.message);}}}};return $0g;};PXCallbackManager.prototype.$1V=function($q,$a){for(var $0r in __px_all(this)){try{var $0V=__px_all(this)[$0r];if($0V.onCallback)$0V.onCallback($q,$a);}catch(ex){alert(ex.message);}}};PXCallbackManager.prototype.$24=function($L,$a){var $0A=this.$1Y,$0W=$L.childNodes,me=this;if($0W.length>0&&$0W[0].nodeType==4){var $v=$0W[0].nodeValue;__px_cm(this).processHtmlData($v);}else if($0A){$0A.setText($L.getAttribute("Message"));$0A.setCaption($L.getAttribute("Caption"));$0A.setIcon(parseInt($L.getAttribute("Icon")));$0A.setButtonNames(JSON.parse($L.getAttribute("ButtonNames")));$0A.setButtons(parseInt($L.getAttribute("Buttons")));};$a.info.dataSource=$L.getAttribute("DataSource");$a.info.viewName=$L.getAttribute("ViewName");$a.info.previousAnswers=$L.getAttribute("Answers");$a.info.dialogKey=$L.getAttribute("DialogKey");if($0A){$0A.callbackContext=$a;$0A.show();}else{setTimeout(function(){me.$29($a);},0);}};PXCallbackManager.prototype.$29=function($a){var $0A=__px_all(this)["messageBox"];if($0A){this.$1Y=$0A;$0A.callbackContext=$a;$0A.show();}};PXCallbackManager.prototype.processPopup=function($L,$a){if(__win(this).parentPanel!=null){var $P=__win(this).parent.px_callback;var $m=$L.getAttribute("PopupLevel");if($m!=null){var $N=parseInt($m);if($N==-1){__px(__win(this).parent).openUrl($L.getAttribute("Url"));return;}else $P.popupLevel=$N;};$P.processPopup($L,$a);return;};var $0X=this.popupPanels[this.popupLevel];var $0W=$L.childNodes;if($0W.length>0&&$0W[0].nodeType==4){$0X=null;__px_cm(this).processHtmlData($0W[0].nodeValue);}else if($0X){$0X.setCaption($L.getAttribute("Caption"));$0X.setPageUrl($L.getAttribute("Url"));if(!$0X.loaded)$0X.setHeight(400);var pc=$a.popupCommand;if(pc&&pc.enabled)$0X.closeCallback=pc;if($L.getAttribute("Reload")&&$0X.loaded){var $0w=$0X.getInnerWindow(),$0Y=false;var $y=__px_cm($0w).findDataSource();if($y&&$y.callbacks){$0Y=true;__px_cm($0w).reloadPage();};if(!$0Y)$0X.loaded=false;}};if($0X){if($0X.getVisible())$0X.hide();if($0X.withLoadingDialog)$0X.startLC();$0X.show();}else{var me=this;__px(this).startLC();setTimeout(function(){me.$2a($a);},0);}};PXCallbackManager.prototype.$2a=function($a){var $0X=__px_all(this)["popupPanel"+this.popupLevel];if($0X){this.popupPanels[this.popupLevel]=$0X;$0X.events.addEventHandler("afterLoad",Function.createDelegate(this,this.$2b));$0X.events.addEventHandler("afterShow",Function.createDelegate(this,this.$2c));$0X.events.addEventHandler("afterHide",Function.createDelegate(this,this.$2d));$0X.withLoadingDialog=true;$0X.showAfterLoad=true;$0X.closeCallback=$a.popupCommand;$0X.show();}};PXCallbackManager.prototype.$2b=function($0X){var $0w=$0X.getInnerWindow(),$0Z=$0w?$0w.document.forms[0]:null;if($0Z){var h=$0Z.getAttribute("popupheight");var w=$0Z.getAttribute("popupwidth");if(h)$0X.setHeight(h);if(w){$0w.document.body.style.minWidth="";$0X.setWidth(w);};$0X.suppressPageChanges();}};PXCallbackManager.prototype.$2c=function($0X){__px(this).stopLC();var $0w=$0X.getInnerWindow(),cm=$0w&&__px_cm($0w);if($0w&&cm){cm.notifyReload();cm.notifyVisibleChanged(true);}};PXCallbackManager.prototype.$2d=function($0X){if(this.popupLevel>0)this.popupLevel--;};PXCallbackManager.prototype.$26=function($L,$a){var $0X=this.$1Z,$0W=$L.childNodes;if($0W.length>0&&$0W[0].nodeType==4){$0X=null;__px_cm(this).processHtmlData($0W[0].nodeValue);}else if($0X){$0X.setCaption($L.getAttribute("Caption"));this.$2e($L.getAttribute("Url"),$L.getAttribute("Token"));var pc=$a.popupCommand;if(pc&&pc.enabled)$0X.closeCallback=pc;};if($0X){$0X.setLoaded(false);if($0X.getVisible())$0X.hide();__px(this).startLC();$0X.show();}else{var me=this;__px(this).startLC();setTimeout(function(){me.$2f($a);},0);}};PXCallbackManager.prototype.$2f=function($a){var $0X=__px_all(this)["paymentPanel"],me=this;if($0X){$0X.events.addEventHandler("afterShow",function(){__px(me).stopLC();});this.$1Z=$0X;this.$2e($0X.innerPageUrl,$0X.key);$0X.showAfterLoad=false;$0X.suppressCloseAction=true;$0X.closeCallback=$a.popupCommand;$0X.show();}};PXCallbackManager.prototype.$2e=function($0v,$r){var f=this.paymentForm,ar=$0v.split('?'),$0X=this.$1Z;var $06=$r.split('|',2),$10=($06[0]=='GET'),$0a=$06[1];if($10){if($0a){if(ar.length<2)$0v+='?';else $0v+='&';$0v+='Token='+$0a;};$0X.htmlForm=null;$0X.setPageUrl($0v);}else{if(f==null){var f=this.paymentForm=$0X.htmlForm=__doc(this).createElement("form");f.style.display='none';__doc(this).body.appendChild(f);f.setAttribute('method','post');f.setAttribute('autocomplete','off');}else $0X.htmlForm=this.paymentForm;while(f.childNodes.length>0)f.removeChild(f.childNodes[0]);$0X.setPageUrl(ar[0]);if($0a)this.$2g(f,'Token',$0a);if(ar.length>1){var $11=ar[1].split('&');for(var i=0;i<$11.length;i++){var p=$11[i].split('=');this.$2g(f,p[0],p[1]);}}}};PXCallbackManager.prototype.$2g=function($0R,id,$12){var i=__doc(this).createElement('input');$0R.appendChild(i);i.setAttribute('type','text');i.setAttribute('name',id);i.setAttribute('value',$12);};PXCallbackManager.prototype.paymentCallback=function($13){var $14=[],ar=$13.split('&'),$0z;for(var i=0;i<ar.length;i++){$0z=ar[i].split('=');$14.push($0z[0]);$14[$0z[0]]=unescape($0z[1]);};var $0X=this.$1Z;switch($14["action"]){case "successfulSave":var $00=__px(this).elemByID("__CLOSECCHFORM");if($00!=null){$00.setAttribute("value","False");};$0X.execCloseAction();$0X.hide();break;case "transactResponse":var $00=__px(this).elemByID("__TRANID");if($00==null){var $15=__doc(this).createElement("input");$15.setAttribute("type","hidden");$15.setAttribute("name","__TRANID");$15.setAttribute("id","__TRANID");$15.setAttribute("value",$14["response"]);__win(this).theForm.appendChild($15);}else{$00.setAttribute("value",$14["response"]);};var $00=__px(this).elemByID("__CLOSECCHFORM");if($00!=null){$00.setAttribute("value","False");};$0X.execCloseAction();$0X.dialogResult=PXDialogResult.OK;$0X.hide();break;case "cancel":var $00=__px(this).elemByID("__CLOSECCHFORM");if($00==null){var $15=__doc(this).createElement("input");$15.setAttribute("type","hidden");$15.setAttribute("name","__CLOSECCHFORM");$15.setAttribute("id","__CLOSECCHFORM");$15.setAttribute("value","True");__win(this).theForm.appendChild($15);}else{$00.setAttribute("value","True");};$0X.execCloseAction();$0X.dialogResult=PXDialogResult.Cancel;$0X.hide();break;case "resizeWindow":var $16=parseInt($14["width"]);var $17=parseInt($14["height"]);if(isNaN($16)){if($17!=0){$0X.setHeight($17+5,true);}}else if(isNaN($17)){if($16!=0){$0X.setWidth($16,true);}}else{$0X.setSize($16,$17+5,true);};setTimeout(function(){$0X.layout(true);},1);break;}};PXCallbackManager.prototype.$27=function($L,$a){if(!this.$2h){for(var i in __px_all(this)){if(i.endsWith('pnlDynamic'))this.$2h=__px_all(this)[i];}};if(!this.$2h)return;this.$2h.setCaption($L.getAttribute("DynamicPanel").substring(1));$a.info.dataSource=$L.getAttribute("DataSource");$a.info.viewName=$L.getAttribute("ViewName");$a.info.previousAnswers=$L.getAttribute("Answers");$a.info.dialogKey=$L.getAttribute("DialogKey");$a.info.commitChanges=true;$a.info.sendSettings=true;this.$2h.callbackContext=$a;this.$2h.show();};PXCallbackManager.prototype.$25=function($L,$a){if(this.$2i==null)this.$2i=new Object();var $18=$L.getAttribute("ViewName");var $19=$18;var $1a=$L.getAttribute("DialogKey");if($1a){$19+="__"+$1a;};var $1b=this.$2i[$19];if($1b==null){for(var n in __px_all(this)){var $p=__px_all(this)[n];if(($p.__className=="PXSmartPanel"||$p.__className=="PXUploadDialog")&&String.compare($p.key,$19,true)){$1b=this.$2i[$19]=$p;break;}}};if($1b!=null){$a.info.dataSource=$L.getAttribute("DataSource");$a.info.dialogKey=$L.getAttribute("DialogKey");$a.info.viewName=$18;$a.info.previousAnswers=$L.getAttribute("Answers");var $1c=$L.getAttribute("Caption");if($1c){$1b.setCaption($1c);};$1b.callbackContext=$a;$1b.show();}};PXCallbackManager.prototype.$20=function($K,$1d,$q){var $1e=$q.commitChangesIDs;var $0j=$1e?$1e.split(","):null;this.$2j=new Array();for(var name in __px_data(this)){var $y=__px_data(this)[name];if($y==null||($y==$1d&&$q.ownCommit))continue;if($0j){var $1f=false;for(var i=0;i<$0j.length;i++){if($y.ID.endsWith($0j[i])){$1f=true;break;}};if(!$1f)continue;};var $1g=null,el=$y.element;var $1h=(el.offsetParent!=null&&el.offsetWidth>0);if($y.getChanged==null||$y.getChanged()||($y.hasError&&($y.errorStatus==null||$y.errorStatus>1)&&$1h)){$1g=$y.getDataChanges();$y.awaitCommit=true;this.$2j.push($y);};if($1g!=null){var $O=$K.xmlDoc.createElement($y.ID);$O.appendChild($K.xmlDoc.createCDATASection($1g));$K.rootNode.appendChild($O);}}};PXCallbackManager.prototype.$2k=function(){var $0j=this.$2j;if($0j){for(var i=0;i<$0j.length;i++)delete $0j[i].awaitCommit;delete this.$2j;}};PXCallbackManager.prototype.doCallback=function(id,$x,$l,$a,$1i,$1j,$1k,$t,$1l,$1m){if($1k==null)$1k=true;if($1j==null)$1j=true;if($1i==null)$1i=function($1n){alert($1n);};try{if($1l==null&&!$a.info.allowAsync)for(var i=0;i<this.__pendingCallbacks.length;i++){var $0V=this.__pendingCallbacks[i];if($0V!=null&&$0V.actionUrl==null&&!$0V.isLongPulling){var $q=new Object();$q.args=[id,$x,$l,$a,$1i,$1j];$q.postData=this.__theFormPostData;$q.postCollection=this.__theFormPostCollection;$q.async=$1k;$q.suspendErrors=$t;$q.uploadCallback=$1m;this.pendingCallbacks.push($q);return;}};if($1j){this.__theFormPostData='';this.__theFormPostCollection.length=0;if($1l!=null){var vs=__px(this).elemByID("__EVENTTARGET");if(vs)this.WebForm_InitCallbackAddField(vs.name,vs.value);var $0a=__px(this).GetAntiForgeryToken();if($0a)this.WebForm_InitCallbackAddField(PX.antiXsrfToken,$0a);}else this.WebForm_InitCallback();};var $u=new Object(),$y=$a&&$a.control;$u.eventCallback=$l;$u.errorCallback=$1i;$u.context=$a;$u.actionUrl=$1l;this.waitCallback=true;if($y)$y.callback=true;var hn=Function.createDelegate(this,this.$2l);var he=Function.createDelegate(this,this.$2m);this.WebForm_DoCallback(id,$x,hn,$u,he,$1k,$t,$1l,$1m);if($a&&$a.clearFunc)$a.clearFunc($a);}catch(ex){if(!$t)alert(ex.type+": "+ex.message);}};PXCallbackManager.prototype.$2l=function($v,$a,$0b){var $1o=$a.context,$y=$1o?$1o.control:null;this.waitCallback=false;var $0c=__px(this).getCookie("requestid");var $0d=__px(this).getCookie("requeststat");var $0k;if($a.requestEndTime&&$a.requestStartTime)$0k=$a.requestEndTime-$a.requestStartTime;if(__px_cm(this).awaitEnhanceOnReload){this.preparedResult=$v;if($y)$y.callback=false;if($0b)this.setAntiXsrfToken($0b.getResponseHeader(PX.antiXsrfHeader));this.$28($1o,$0c,$0d,$0k);return;};if(typeof $1o==="string"||(typeof $1o==="object"&&$1o))$1o.clientRequestTime=$0k;if($a.eventCallback)$a.eventCallback($v,$1o,$0b);if(typeof $1o==="string"||(typeof $1o==="object"&&$1o&&!$1o.isPerformanceHandled))this.$28($1o,$0c,$0d,$0k);if($a.actionUrl&&this.crossPageCallback){this.crossPageCallback($v,$1o);delete this.crossPageCallback;};this.$2k();if($y)$y.callback=false;__px(this).runCallbackTask();if(this.pendingCallbacks.length>0){var $q=this.pendingCallbacks.shift();var $1p=$q.args,$r=$1p[1],$1j=$1p[5],$u=$1p[3];if($u.getDataFunc)$r=$u.getDataFunc($u);if(!$1j&&$q.actionUrl==null){if($u.initFunc)$u.initFunc($u);else{this.__theFormPostData=$q.postData;this.__theFormPostCollection=$q.postCollection;}};this.doCallback($1p[0],$r,$1p[2],$u,$1p[4],$1j,$q.async,$q.suspendErrors,null,$q.uploadCallback);}};PXCallbackManager.prototype.$2m=function($v,$a){var $1q=__px_cm(this).awaitEnhanceOnReload;var $y=$a.context?$a.context.control:null;Array.clear(this.pendingCallbacks);this.waitCallback=false;__px(this).clearCallbackTask();var $0c=__px(this).getCookie("requestid");var $0d=__px(this).getCookie("requeststat");var $0k;if($a.requestEndTime&&$a.requestStartTime)$0k=$a.requestEndTime-$a.requestStartTime;this.$28($a.context,$0c,$0d,$0k);if($1q)this.preparedError=$v;else if($a.errorCallback)$a.errorCallback($v,$a.context);this.$2k();if($y)$y.callback=false;};PXCallbackManager.prototype.WebForm_DoCallback=function($1r,$1s,$1t,$a,$1u,$1v,$t,$1l,$1m){var $f=this.__theFormPostData+"__CALLBACKID="+this.WebForm_EncodeCallback($1r)+"&__CALLBACKPARAM="+this.WebForm_EncodeCallback($1s);if(this.theForm.__EVENTVALIDATION){$f+="&__EVENTVALIDATION="+this.WebForm_EncodeCallback(this.theForm.__EVENTVALIDATION.value);};var $0b,e;try{$0b=new XMLHttpRequest();}catch(e){try{$0b=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){}};var $1w=true;try{$1w=($0b&&$0b.setRequestHeader);}catch(e){};var $P=new Object();$P.theFormPostData=this.__theFormPostData;$P.eventTarget=$1r;$P.eventArgument=$1s;$P.eventCallback=$1t;$P.context=$a;$P.errorCallback=$1u;$P.async=$1v;$P.suspendErrors=$t;$P.uploadCallback=$1m;$P.actionUrl=$1l;var $1x=this.WebForm_FillFirstAvailableSlot(this.__pendingCallbacks,$P);if(!$1v){if(this.__synchronousCallBackIndex!=-1){this.__pendingCallbacks[this.__synchronousCallBackIndex]=null;};this.__synchronousCallBackIndex=$1x;};if($1w){$0b.onreadystatechange=Function.createDelegateExt(this,this.WebForm_CallbackComplete,$1x);if($0b.upload&&$1m){var px=__px(this),$u=$a.context;$0b.upload.addEventListener('progress',function(e){$1m(parseInt(e.loaded/e.total*100),$u&&$u.context);},false);};$P.xmlRequest=$0b;var $0v=$1l?$1l:this.theForm.action;$0v=PX.prototype.removeUrlParam($0v,"timeStamp=");$0b.open("POST",$0v,true);$0b.setRequestHeader("Content-Type","application/x-www-form-urlencoded");$0b.setRequestHeader("PXExtHeader","ResponseRequired");$a.requestStartTime=new Date();$0b.send($f);}};PXCallbackManager.prototype.WebForm_CallbackComplete=function(){var $m=arguments[arguments.length-1],$1y,$1z;if(typeof $m!="number")return;var $0V=this.__pendingCallbacks[$m];if($0V&&$0V.context){$0V.context.requestEndTime=new Date();};if($0V&&$0V.xmlRequest&&($0V.xmlRequest.readyState==3||$0V.xmlRequest.readyState==4)){$1y=$0V.xmlRequest.responseText;if($1y.startsWith("@")){var ar=$1y.split("\r\n"),$a=$0V.context.context;$1z=ar[0].substring(1);$1y=ar.slice(1).join("\r\n");if($0V.xmlRequest.readyState==3&&$1z&&!$1y){$0V.isLongPulling=true;if($a&&$a.control&&$a.control.processDirective)$a.control.processDirective($1z,$0V);}}};var status=$0V.xmlRequest.status;if(status==502&&$0V.counter==null)$1y=null;if($0V&&$0V.xmlRequest&&($0V.xmlRequest.readyState==4)){var $c=$0V.context.context&&$0V.context.context.blockPage,$1A=false;var $1B=($1y||"").trimStart();if($1y&&(($1y.charAt(0)!="s"&&$1y.charAt(0)!="e"&&$1y.indexOf("|")==-1)||(($1B.indexOf("<!DOCTYPE html")>=0)&&($1B.indexOf("<!DOCTYPE html")<4)))){if($c)__px(this).stopWC();$1A=true;if(!$0V.suspendErrors){var $1C="403 - Forbidden",fi=$1y.indexOf($1C);var $1D=/action=["][./]*Login.aspx[?]ReturnUrl=/mi.test($1y),$1E;if(fi>0){if(__loc(this).href.indexOf("PopupPanel")>0)$1y="eClosePopup";else{var $1F=window.top.location.href,i=$1F.indexOf('?');$1y="eRefresh|"+((i>0)?$1F.substr(0,i):$1F);};$1A=false;}else if($1D){if(confirm(__px(this).getLocalMessage('notLoggedIn'," You are currently logged off. Would you like to log in?"))){var $1F=__win(this).top.location.href,i1=$1F.indexOf("timeStamp=");if(i1>0){var i2=$1F.indexOf('&',i1+1);$1F=$1F.substring(0,i1)+(i2>0?$1F.substring(i2+1):"");};__win(this).top.location=$1F;}}else{var ti=$1y.indexOf("<title>"),$1E=$1y.indexOf("</title>");if(ti>0&&$1E>0)alert($1y.substring(ti+"<title>".length,$1E));else alert($1y);}}};if(!$0V.async)this.__synchronousCallBackIndex=-1;this.__pendingCallbacks[$m]=null;if(!$1y&&(status==0||status==12029||status==502)&&($0V.counter==null||$0V.counter>0)){if($0V.counter==null){$0V.counter=(status==502)?0:4;}else $0V.counter--;this.__theFormPostData=$0V.theFormPostData;this.WebForm_DoCallback($0V.eventTarget,$0V.eventArgument,$0V.eventCallback,$0V.context,$0V.errorCallback,$0V.async,$0V.suspendErrors,null,$0V.uploadCallback);}else if(!$1A)this.WebForm_ExecuteCallback($0V,$1y);var $0w=__win(this);if(__px_cm(this).delayedCallback==null)__px_cm(this).delayedCallback=0;__px_cm(this).delayedCallback++;setTimeout(function(){if($0w)$0w.suppressChangesForReq=undefined;if(__px_cm($0w).delayedCallback)__px_cm($0w).delayedCallback--;},0);}};PXCallbackManager.prototype.WebForm_ExecuteCallback=function($1G,$1y){if(this.needSuppress())return;var $1H=$1y?$1y:$1G.xmlRequest.responseText;if($1H.charAt(0)=="s"){if((typeof($1G.eventCallback)!="undefined")&&($1G.eventCallback!=null)){$1G.eventCallback($1H.substring(1),$1G.context,$1G.xmlRequest);}}else if($1H.charAt(0)=="e"){if((typeof($1G.errorCallback)!="undefined")&&($1G.errorCallback!=null)){$1G.errorCallback($1H.substring(1),$1G.context);}}else{var $1I=$1H.indexOf("|");if($1I!=-1){var $1J=parseInt($1H.substring(0,$1I));if(!isNaN($1J)){var $1K=$1H.substring($1I+1,$1I+$1J+1);if($1K!=""){var $1L=this.theForm["__EVENTVALIDATION"];if(!$1L){$1L=document.createElement("INPUT");$1L.type="hidden";$1L.name="__EVENTVALIDATION";this.theForm.appendChild($1L);};$1L.value=$1K;};if((typeof($1G.eventCallback)!="undefined")&&($1G.eventCallback!=null)){$1G.eventCallback($1H.substring($1I+$1J+1),$1G.context,$1G.xmlRequest);}}}}};PXCallbackManager.prototype.WebForm_EncodeCallback=function($1M){if(encodeURIComponent)return encodeURIComponent($1M);return escape($1M);};PXCallbackManager.prototype.WebForm_FillFirstAvailableSlot=function($1N,element){var i;for(i=0;i<$1N.length;i++)if(!$1N[i])break;$1N[i]=element;return i;};PXCallbackManager.prototype.WebForm_InitCallback=function(){var $A=this.theForm.elements.length;var element;for(var i=0;i<$A;i++){element=this.theForm.elements[i];var $D=element.tagName.toLowerCase();if($D=="input"){var $F=element.type;if((this.__callbackTextTypes.test($F)||(($F=="checkbox"||$F=="radio")&&element.checked))&&(element.id!="__EVENTVALIDATION")){this.WebForm_InitCallbackAddField(element.name,element.value);}}else if($D=="select"){var $I=element.options.length;for(var j=0;j<$I;j++){var $J=element.options[j];if($J.selected==true){this.WebForm_InitCallbackAddField(element.name,element.value);}}}else if($D=="textarea"){this.WebForm_InitCallbackAddField(element.name,element.value);}}};PXCallbackManager.prototype.WebForm_InitCallbackAddField=function(name,$G){var $1O=new Object();$1O.name=name;$1O.value=$G;this.__theFormPostCollection[this.__theFormPostCollection.length]=$1O;this.__theFormPostData+=this.WebForm_EncodeCallback(name)+"="+this.WebForm_EncodeCallback($G)+"&";};



var NetType={Empty:0,Object:1,DBNull:2,Boolean:3,Char:4,SByte:5,Byte:6,Int16:7,UInt16:8,Int32:9,UInt32:10,Int64:11,UInt64:12,Single:13,Double:14,Decimal:15,DateTime:16,String:18};NetType.isNumeric=function($a){return($a>=NetType.SByte&&$a<=NetType.Decimal);};NetType.equals=function($a,v1,v2){if((v1==null&&v2!=null)||(v2==null&&v1!=null))return false;if(v1==null&&v2==null)return true;if($a==NetType.DateTime&&v1.getTime&&v2.getTime)return v1.getTime()==v2.getTime();return v1==v2;};NetType.defaultValue=function($a){var $b=null;if($a==NetType.Boolean)$b=false;else if(NetType.isNumeric($a))$b=0;else if($a==NetType.DateTime)$b=new Date();else if($a==NetType.Char||$a==NetType.String)$b="";return $b;};NetType.convert=function(v,$a){if(v==null)return null;var $b=v;if($a==NetType.Boolean){if(typeof(v)!="boolean"){if(v&&typeof(v)=="string"){if(v=="0"||v.toLowerCase()=="false")v=false;};$b=Boolean(v);}}else if($a>=NetType.SByte&&$a<=NetType.UInt64){if(typeof(v)!="number"){$b=parseInt(v);if(isNaN($b))$b=0;}}else if($a>=NetType.Single&&$a<=NetType.Decimal){if(typeof(v)!="number"){$b=parseFloat(v);if(isNaN($b))$b=0.0;}}else if($a==NetType.DateTime){if(!(v instanceof Date)){if(v.constructor.name==="Date")$b=new Date(v);else{var ar=v.toString().split('.');var $c=ar[0],ms=ar.length>1?ar[1]:null;if(typeof(v)=="string"&&ar[0].startsWith('@'))$b=NaN;else $b=new Date(Date.parse(ar[0]));if(ms!=null&&($b instanceof Date)){ms=parseInt(ms);if(!isNaN(ms))$b.setMilliseconds(ms);}}}}else if($a==NetType.Char||$a==NetType.String)$b=String(v);return $b;};Date.prototype.format=function($d,$e){if($d.length==1)switch($d){case "d":$d=$e.shortDate;break;case "D":$d=$e.longDate;break;case "t":$d=$e.shortTime;break;case "T":$d=$e.longTime;break;case "g":$d=$e.shortDate+" "+$e.shortTime;break;case "G":$d=$e.shortDate+" "+$e.longTime;break;case "f":$d=$e.longDate+" "+$e.shortTime;break;case "F":$d=$e.longDate+" "+$e.longTime;break;};var $f="",$g=false;var $h=$e.monthNames.split(",");var $i=$e.dayNames.split(",");var $c=this;for(var i=0;i<$d.length;i++){if($g){$f+=$d.substr(i,1);$g=false;continue;};if($d.charAt(i)=="\\"){$g=true;continue;};var s=$d.substr(i,4),ok=false,v="";switch(s){case "MMMM":v=$h[$c.getMonth()];break;case "dddd":v=$h[$c.getMonth()];break;case "yyyy":v=$c.getFullYear();break;};if(v){$f+=v;i+=3;continue;};s=$d.substr(i,3);switch(s){case "MMM":v=$h[$c.getMonth()].substr(0,3);break;case "ddd":v=$i[$c.getDay()].substr(0,3);break;};if(v){$f+=v;i+=2;continue;};s=$d.substr(i,2);switch(s){case "MM":v=($c.getMonth()+1).toString();if(v.length==1)v="0"+v;break;case "dd":v=$c.getDate().toString();if(v.length==1)v="0"+v;break;case "yy":v=($c.getYear()%100).toString();if(v.length==1)v="0"+v;break;case "HH":v=$c.getHours().toString();if(v.length==1)v="0"+v;break;case "hh":v=$c.getHours();if(v==0)v=12;else if(v>12)v-=12;v=v.toString();if(v.length==1)v="0"+v;break;case "mm":v=$c.getMinutes().toString();if(v.length==1)v="0"+v;break;case "ss":v=$c.getSeconds().toString();if(v.length==1)v="0"+v;break;case "tt":v=$c.getHours();var pm=false;if(v>=12)pm=true;if(pm)v=$e.pm;else v=$e.am;break;};if(v){$f+=v;i+=1;continue;};s=$d.substr(i,1);switch(s){case "M":v=($c.getMonth()+1).toString();break;case "d":v=$c.getDate().toString();break;case "y":v=($c.getYear()%100).toString();break;case "H":v=$c.getHours().toString();break;case "h":v=$c.getHours();if(v==0)v=12;else if(v>12)v-=12;v=v.toString();break;case "m":v=$c.getMinutes().toString();break;case "s":v=$c.getSeconds().toString();break;};if(v){$f+=v;continue;};$f+=$d.substr(i,1);};return $f;};Number.prototype.formatCustom=function($d,$j){var $k=(this<0),$l=Math.abs(this);$l=Math.abs($l);var $m=$l.toString().split('.');var $n=parseInt($m[0]);var $o=($m.length>1)?$m[1]:"";var $p=$d.length-1,$q=$d.indexOf(".");if($q!=-1)$p=$q-1;var $r="",$s=false;for(var i=$p;i>=0;i--){var ch=$d.charAt(i);if(ch=="#"||ch=="0"){var $t=0,$u=true;if($n>0){$t=$n%10;$n=Math.floor($n/10);$u=false;};if(!$u){if($s)$r=$j.number.groupSeparator+$r;$r=$t.toString()+$r;$s=false;continue;}else if(ch=="0"){if($s)$r=$j.number.groupSeparator+$r;$r="0"+$r;$s=false;}}else if(ch==",")$s=true;else $r=ch+$r;};if($k&&$d.substr(0,1)=="+")$r=$j.negativeSign+$r.substr(1);else if($k)$r=$j.negativeSign+$r;if($q!=-1){$r+=$j.number.decimalSeparator;for(var i=$q,j=0;i<$d.length;i++){var ch=$d.charAt(i);if(ch=="#"||ch=="0"){var $t=0;if(j<$o.length){$t=parseInt($o.charAt(j));j++;};if($t!=0){$r+=$t.toString();continue;}else if(ch=="0")$r+="0";}else if(ch==","||ch==".")continue;else $r+=ch;};if($r.indexOf(".")==($r.length-1))$r=$r.substr(0,$r.length-1);};if($r=="")$r="0";return $r;};Number.prototype.formatStandard=function($d,$j){var $v=["n %","n%","%n"];var $w=["-n %","-n%","-%n"];var $x=["(n)","-n","- n","n-","n -"];var $y=["$n","n$","$ n","n $"];var $z=["($n)","-$n","$-n","$n-","(n$)","-n$","n-$","n$-","-n $","-$ n","n $-","$ n-","$ -n","n- $","($ n)","(n $)"];var $l=Math.abs(this),nf=$j;var $A=($d.length>1)?parseInt($d.slice(1)):-1;var $B;switch($d.charAt(0)){case "d":case "D":$B='n';if($A!==-1){var $C=""+$l;var $D=$A-$C.length;if($D>0){for(var i=0;i<$D;i++)$C='0'+$C;};$l=$C;};if(this<0)$l=-$l;break;case "c":case "C":if(this<0)$B=$z[nf.currency.negativePattern];else $B=$y[nf.currency.positivePattern];if($A===-1)$A=nf.currency.decimalDigits;$l=Number.expand(Math.abs(this),$A,nf.currency.groupSizes,nf.currency.groupSeparator,nf.currency.decimalSeparator);break;case "n":case "N":if(this<0)$B=$x[nf.number.negativePattern];else $B='n';if($A===-1)$A=nf.number.decimalDigits;$l=Number.expand(Math.abs(this),$A,nf.number.groupSizes,nf.number.groupSeparator,nf.number.decimalSeparator);break;case "f":case "F":if(this<0)$B=$x[nf.number.negativePattern];else $B='n';if($A===-1)$A=nf.number.decimalDigits;$l=Number.expand(Math.abs(this),$A,null,'',nf.number.decimalSeparator);break;case "p":case "P":if(this<0)$B=$w[nf.percent.negativePattern];else $B=$v[nf.percent.positivePattern];if($A===-1)$A=nf.percent.decimalDigits;$l=Number.expand(Math.abs(this),$A,nf.percent.groupSizes,nf.percent.groupSeparator,nf.percent.decimalSeparator);break;default:$B='n';$l=""+$l;};var $r="",$E=/n|\$|-|%/g;for(;;){var $F=$E.lastIndex;var ar=$E.exec($B);$r+=$B.slice($F,ar?ar.index:$B.length);if(!ar)break;switch(ar[0]){case "n":$r+=$l;break;case "$":$r+=nf.currencySymbol;break;case "-":$r+=nf.negativeSign;break;case "%":$r+=nf.percentSymbol;break;}};return $r;};Number.expand=function($l,$A,$G,$H,$I){var $J=$G?$G[0]:0,$K=1;var $L=$l.toString();var $M="",$N="";var $O=$L.split('.');if($O.length>1){$L=$O[0];$M=$O[1];var $P=$M.split(/e/i);if($P.length>1){$M=$P[0];$N="e"+$P[1];}};if($A>0){var $Q=$M.length-$A;if($Q>0){$M=$M.slice(0,$A);}else if($Q<0){for(var i=0;i<Math.abs($Q);i++)$M+='0';};$M=$I+$M;}else{$M="";};$M+=$N;var $R=$L.length-1;var $r="";while($R>=0){if($J===0||$J>$R){if($r.length>0)return $L.slice(0,$R+1)+$H+$r+$M;else return $L.slice(0,$R+1)+$M;};if($r.length>0)$r=$L.slice($R-$J+1,$R+1)+$H+$r;else $r=$L.slice($R-$J+1,$R+1);$R-=$J;if($G&&$K<$G.length){$J=$G[$K];$K++;}};return $L.slice(0,$R+1)+$H+$r+$M;};Number.prototype.format=function($d,$j){if(!$d||$d==='i')return this.toLocaleString();switch($d.charAt(0).toLowerCase()){case "d":case "c":case "n":case "f":case "p":return this.formatStandard($d,$j);};return this.formatCustom($d,$j);};



function PXTooltip($a,id,$b){this.px_context=$a;this.ID=id?id:"tooltip";__px_cm(this).readProperties(this,$b);this.$N=Function.createDelegate(this,this.$O);this.$P=Function.createDelegate(this,this.$Q);__px(this).addEventHandler(__doc(this),"mousedown",this.$P);this.$R=Function.createDelegate(this,this.$S);this.$T=Function.createDelegate(this,this.$U);if(__px(this).IsTablet){this.$V=Function.createDelegate(this,this.handleTouchStart);this.$W=Function.createDelegate(this,this.$X);};__px_cm(this).registerRequiresOnLoad(this,this.ID);};PXTooltip.behavior=true;PXTooltip.properties=[["attrName",JSType.String,"tooltip"],["newLine",JSType.String,"\r\n"],["maxWidth",JSType.Int,300],["delay",JSType.Int,500],["skipTags",JSType.Empty,{"link":1,"style":1}],["allowHtml",JSType.Bool,false]];PXTooltip.prototype.onLoad=function(e){var ho=Function.createDelegate(this,this.$Q);var hm=Function.createDelegate(this,this.$Y);__px(this).addEventHandler(__doc(this),"mousemove",hm);__px(this).addEventHandler(__win(this),"scroll",ho);this.$Z();__px_cm(this).registerTooltipManager(this);};PXTooltip.prototype.register=function($c){if($c==null)$c=__doc(this);var $d=$c.all?$c.all:$c.getElementsByTagName("*");for(var i=0;i<$d.length;i++){var e=$d[i];if(!e||this.skipTags[e.tagName.toLowerCase()]!=null)continue;if(e.tagName=="LABEL")this.registerOverflowTip(e);else this.registerElem(e,false);}};PXTooltip.prototype.registerContainerOverflowTip=function(e){if(e){__px(this).addEventHandler(e,"mouseover",this.$R);__px(this).addEventHandler(e,"mouseout",this.$T);}};PXTooltip.prototype.deregisterContainerOverflowTip=function(e){if(e){__px(this).removeEventHandler(e,"mouseover",this.$R);__px(this).removeEventHandler(e,"mouseout",this.$T);}};PXTooltip.prototype.registerOverflowTip=function(e,$e){var $f=e.textContent?e.textContent.trim():null;if(!$f)return;if($e){if(e.scrollWidth>e.offsetWidth)e.setAttribute(this.attrName,$f);else e.removeAttribute(this.attrName);return;};if(e.scrollWidth>e.offsetWidth){if(e.getAttribute("title")==null)e.setAttribute("title",$f);}else e.removeAttribute("title");};PXTooltip.prototype.registerOverflowTipMenu=function(e){var $g=e.querySelector(".text-tools");if(!$g)$g=e;var $h=e.querySelector("a.ac-add");var $i=$h?$h.scrollWidth+19:0;var $f=$g.textContent?$g.textContent.trim():null;if(!$f)return;if($g.scrollWidth>e.offsetWidth-$i){if(e.getAttribute("title")==null)e.setAttribute("title",$f);}else e.removeAttribute("title");};PXTooltip.prototype.deregisterOverflowTip=function(e){var $f=e.textContent?e.textContent.trim():null;if(!$f)return;this.$00(e);};PXTooltip.prototype.registerElem=function(e,$j){var title=e.getAttribute("title");var $k=e.getAttribute("alt");var $l=e.getAttribute(this.attrName);if(title){e.setAttribute(this.attrName,title);e.removeAttribute("title");if($k&&e.complete)e.removeAttribute("alt");if($l==null)this.$01(e);}else if($k&&e.complete){}else if($l!=null&&($j||$j==null)){e.removeAttribute(this.attrName);this.$00(e);}};PXTooltip.prototype.registerHandler=function($m){if(typeof $m=="function"){if(this.$02==null)this.$02=new Array();this.$02.push($m);}};PXTooltip.prototype.runHandlers=function(){if(this.$02!=null)for(var i=0;i<this.$02.length;i++)this.$02[i]();};PXTooltip.prototype.unregister=function($c){if($c==null)$c=__doc(this);var $d=$c.all?$c.all:$c.getElementsByTagName("*");for(var i=0;i<$d.length;i++){var e=$d[i];if(e)this.unregisterElem(e);}};PXTooltip.prototype.unregisterElem=function(e){var title=e.getAttribute(this.attrName);if(title){e.setAttribute("title",title);e.removeAttribute(this.attrName);this.$00(e);}};PXTooltip.prototype.showTooltip=function($n,$o,$p,$q,x,y,$r){if(__doc(this).tooltipSuppressed)return;if(!$r)$r=this.allowHtml;var $s=this.element,$t=this;this.trackPosition=true;var $u=function(){if($t.$03)clearTimeout($t.$03);if($t.newLine||$r){if(!$r){var $v=$t.$04($t.newLine)+"|%0A";$n=$t.$04($n);$n=$n.replace(new RegExp($v,"g"),"<br />");};$s.innerHTML=$n;}else{if($s.firstChild)$s.removeChild($s.firstChild);$s.appendChild(__doc($t).createTextNode($n));};if($o==2)$s.className="error";else if($o==1)$s.className="warn";else $s.className="";var $w=__doc(this).createElement("DIV");$s.appendChild($t.arrow=$w);$w.className="arrow top";$s.setAttribute("data-message",$n);if(!__win($t).__suppressTooltip)$s.style.visibility='visible';if(x&&y)$t.$05(x-$s.offsetWidth/2,y);else if($t.trackX!=null)$t.$05($t.trackX,$t.trackY);if($q)$t.$06=setTimeout(function(){$t.hideTooltip();},$q);if(!__win($t).__suppressTooltip)$t.visible=true;$t.trackPosition=false;};if(this.$07)clearTimeout(this.$07);if(this.$06)clearTimeout(this.$06);this.$07=setTimeout($u,$p);};PXTooltip.prototype.hideTooltip=function(){var $s=this.element;if($s){$s.style.visibility="hidden";if(!this.newLine&&$s.firstChild)$s.removeChild($s.firstChild);this.visible=false;this.$05(-100,-100,true);}};PXTooltip.prototype.suppress=function($x){if(this.$07)clearTimeout(this.$07);__doc(this).tooltipSuppressed=true;var me=this;setTimeout(function(){__doc(me).tooltipSuppressed=false;},$x);};PXTooltip.prototype.$05=function(x,y,$y){if(__doc(this)==null)return;var de=__doc(this).documentElement,style=this.element.style;var $z=__px(this).getDocScrollElem();var ww=de.clientWidth+$z.scrollLeft,wh=de.clientHeight+$z.scrollTop;style.width="";if(__doc(this).all&&__doc(this).all.item){var $A=(this.maxWidth&&this.element.offsetWidth>this.maxWidth);style.width=$A?(this.maxWidth+"px"):"auto";};if(this.element.offsetWidth>de.clientWidth)style.width=__px(this).getStyleWidth(this.element,de.clientWidth)+"px";var $B=-1,$C=x;var tw=this.element.offsetWidth,th=this.element.offsetHeight;y+=13;if((x+tw)>ww){x=ww-tw-(__px(this).IsIE?1:0);$B=$C-x;};if((y+th)>wh){y-=th+13*2+(this.target?this.target.offsetHeight:0);if(this.arrow)this.arrow.className="arrow bottom";};if(!$y&&this.arrow){var $D=this.arrow.offsetWidth/2+1,$E;if(x<0)$E=(x+tw/2);else $E=$B>0?($B+tw/2):-1;if($E>0&&$E<20)$E=20;if($E>(tw-$D))$E=tw-$D;this.arrow.style.left=($E>0)?($E+"px"):"";};style.left=((x<0&&!$y)?0:x)+"px";style.top=((y<0&&!$y)?0:y)+"px";};PXTooltip.prototype.$08=function(e){var de=__px(this).getDocScrollElem();this.$05(e.clientX+de.scrollLeft,e.clientY+de.scrollTop);};PXTooltip.prototype.$04=function($F){$F=$F.replace(/\&/g," &amp;");$F=$F.replace(/\</g,"&lt;");$F=$F.replace(/\>/g,"&gt;");return $F;};PXTooltip.prototype.$Z=function(){this.element=__doc(this).createElement("DIV");this.element.id=this.ID;var style=this.element.style;style.zIndex=20000;style.visibility="hidden";style.position="absolute";if(this.maxWidth>0)style.maxWidth=this.maxWidth+"px";__doc(this).body.appendChild(this.element);this.$05(-100,-100);var h1=Function.createDelegate(this,this.$09);var h2=Function.createDelegate(this,this.$0a);var h3=Function.createDelegate(this,this.$0b);__px(this).addEventHandler(this.element,"mouseover",h1);__px(this).addEventHandler(this.element,"mouseout",h2);__px(this).addEventHandler(this.element,"click",h3);};PXTooltip.prototype.$0c=function(e){var $c=__px(this).eventElem(e),title=null;do{if($c.getAttribute)title=$c.getAttribute(this.attrName);if(title==null)$c=$c.parentNode;}while(title==null&&$c!=null);return[title,$c,($c?$c.getAttribute("error"):null)];};PXTooltip.prototype.$01=function(e){__px(this).addEventHandler(e,"mouseover",this.$N);__px(this).addEventHandler(e,"mouseout",this.$P);if(__px(this).IsTablet){__px(this).addEventHandler(e,"touchstart",this.$V);__px(this).addEventHandler(e,"touchend",this.$W);}};PXTooltip.prototype.$00=function(e){__px(this).removeEventHandler(e,"mouseover",this.$N);__px(this).removeEventHandler(e,"mouseout",this.$P);if(__px(this).IsTablet){__px(this).removeEventHandler(e,"touchstart",this.$V);__px(this).removeEventHandler(e,"touchend",this.$W);}};PXTooltip.prototype.$0d=function(){var style=this.element.style;return parseInt(style.left)<0;};PXTooltip.prototype.$0e=function(e,$G){var x=e.pageX,y=e.pageY,$c=this.element;var $H=$c.offsetTop+$c.offsetHeight;var $I=$c.offsetLeft+$c.offsetWidth;return x<=$c.offsetLeft||x>=($I-2)||y>=$H||($G&&y<($c.offsetTop-21));};PXTooltip.prototype.$0f=function($c){var w=$c.offsetWidth,$J=$c.parentNode;if($J&&$J.scrollWidth>$J.offsetWidth&&w>$J.offsetWidth)w=$J.offsetWidth;return w;};PXTooltip.prototype.$O=function(e){var ar=this.$0c(e),title=ar[0],$c=ar[1];if(title&&!__px(this).IsTablet){var x=__px(this).getElemLeftPosAbs($c)+this.$0f($c)/2;var y=__px(this).getElemTopPosAbs($c)+$c.offsetHeight+__px(this).getDocScrollElem().scrollTop;this.target=$c;this.showTooltip(title,ar[2],this.delay,0,x,y);}};PXTooltip.prototype.$S=function(e){var $K=e.currentTarget;while($K&&!$K.object)$K=$K.parentNode;var $L=$K&&$K.object;if($L){if(e.target!=$L.lastHoverTarget){this.$Q(e.target);};var ar=this.$0c(e);var title=ar[0],$M=ar[2];if(title&&title.length&&!__px(this).IsTablet){var $c=e.target;$L.lastHoverTarget=e.target;var x=__px(this).getElemLeftPosAbs($c)+this.$0f($c)/2;var y=__px(this).getElemTopPosAbs($c)+$c.offsetHeight+__px(this).getDocScrollElem().scrollTop;this.target=$c;this.showTooltip(title,$M,this.delay,0,x,y);__px(this).cancelEvent(e);return false;}}};PXTooltip.prototype.$U=function(e){this.$Q(e.target);};PXTooltip.prototype.$Q=function(e){if(!this.$0d()&&!__doc(this).tooltipSuppressed&&this.$0e(e,true)){if(this.$03)clearTimeout(this.$03);var me=this;this.$03=setTimeout(function(){me.hideTooltip();},100);};if(this.$07){clearTimeout(this.$07);delete this.trackPosition;delete this.$07;}};PXTooltip.prototype.$Y=function(e){if(this.trackPosition){var de=__doc(this).documentElement;this.trackX=e.clientX+de.scrollLeft;this.trackY=e.clientY+de.scrollTop;};if(this.$07==null&&!this.$0d()&&this.$0e(e,true))this.hideTooltip();};PXTooltip.prototype.$09=function(e){__doc(this).tooltipSuppressed=true;if(this.$03){clearTimeout(this.$03);delete this.$03;};if(this.$07){clearTimeout(this.$07);delete this.$07;}};PXTooltip.prototype.$0a=function(e){__doc(this).tooltipSuppressed=false;if(this.$0e(e,false))this.hideTooltip();};PXTooltip.prototype.$0b=function(e){var $c=__px(this).eventElem(e);if($c&&$c.tagName=="A"){this.hideTooltip();__px(this).clipboardCopy(this.element.getAttribute("data-message"));}else __px(this).selectElementText(this.element);e.preventDefault();e.stopPropagation();};PXTooltip.prototype.handleTouchStart=function(e){var ar=this.$0c(e),me=this,title=ar[0],$c=ar[1];if(title){var x=e.touches[0].pageX,y=e.touches[0].pageY;this.target=$c;this.$07=setTimeout(function(){me.showTooltip(title,ar[2],0,0,x,y);},this.delay);}};PXTooltip.prototype.$X=function(e){if(this.$07)clearTimeout(this.$07);};



function PXCalendar($a,$b,$c){this.px_context=$a;this.ID=$b.id;this.element=$b;__px_cm(this).readProperties(this,$c);this.focusClass="";this.monthNames=_dateFormatInfo?_dateFormatInfo.monthNames.split(","):PXCalendar._MN;this.shortMonthNames=_dateFormatInfo?_dateFormatInfo.abbrMonthNames.split(","):PXCalendar.$0P;this.yearFix=_dateFormatInfo.yearFix?_dateFormatInfo.yearFix:0;var $d=this.ID+"DT";var $e=this.ID+"NPT";this.daysTable=__px(this).elemByID($d);this.nextPrev=__px(this).elemByID($e);this.todayCell=this.$0Q();this.monthSel=__px(this).elemByID(this.ID+"_ms");this.yearSel=__px(this).elemByID(this.ID+"_ys");this.customItems=__px(this).elemByID(this.ID+"_customItems");var h=PXCalendar.$0R;__px(this).addEventHandler(this.element,"mousedown",h);__px(this).addEventHandler(this.element,"selectstart",h);__px(this).addEventHandler(this.element,"contextmenu",h);__px(this).addEventHandler(this.element,"dblclick",h);__px(this).addEventHandler(this.element,"mousedown",PXCalendar.$0S);if(this.nextPrev!=null)__px(this).addEventHandler(this.nextPrev,"click",PXCalendar.$0T);__px(this).addEventHandler(this.daysTable,"click",PXCalendar.$0U);__px(this).addEventHandler(this.daysTable,"mousedown",PXCalendar.$0U);if(this.todayCell!=null)__px(this).addEventHandler(this.todayCell,"click",PXCalendar.$0V);if(this.customItems!=null)__px(this).addEventHandler(this.customItems,"click",PXCalendar.$0W);this.events=new PXEventList(this,PXCalendar.events,$c.clientEvents);this.viewState=new PXStateBag(this,"PXCalendar");this.pageStartDate=null;this.weeksToShow=6;this.$0X=null;this.hasFocus=false;this.focusDate=this.getSelectedDate();var h=Function.createDelegate(this,this.$0Y);if(this.monthSel){this.$0Z();__px(this).addEventHandler(this.monthSel,"change",h);this.monthSel.value=this.visibleDate.getMonth();};if(this.yearSel){this.$10();__px(this).addEventHandler(this.yearSel,"change",h);this.yearSel.value=this.visibleDate.getFullYear();}};PXCalendar.$11=1;PXCalendar.$12=2;PXCalendar.$13=7;PXCalendar._MN=["January","February","March","April","May","June","July","August","September","October","November","December"];PXCalendar.$0P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];PXCalendar.$14=0;PXCalendar.$15=1;PXCalendar.$16=2;PXCalendar.convertSelection=function($f,$g){var $h=new Array();if($g!=null){var $i=$g.split(";",500);var $j=0;for(var i=0;i<$i.length;i++){try{var dt=new Date($i[i]);}catch(ex){continue;};$h[$j]=dt;$j++;}};return $h;};PXCalendar.formatProperties=[["showDOWHeader",JSType.Bool,true],["showOtherMonthDays",JSType.Bool,true],["showWeekNumber",JSType.Bool,false],["nextPrevFormat",JSType.String,""]];PXCalendar.properties=[["enableMonthChange",JSType.Bool,true],["enableMultipleSelection",JSType.Bool,false],["weekColumnIndex",JSType.Int,0],["firstDayOfWeek",JSType.Int,0],["dayClass",JSType.String,""],["selectedClass",JSType.String,""],["weekEndClass",JSType.String,""],["todayClass",JSType.String,""],["otherMonthDayClass",JSType.String,""],["clickableClass",JSType.String,""],["visibleDate",JSType.Date,new Date()],["todayDate",JSType.Date,new Date()],["selection",JSType.Empty,"",PXCalendar.convertSelection],["formats",JSType.Object,PXCalendar.formatProperties]];PXCalendar.events={$initialize:0,$selectionChanging:1,$selectionChanged:2,$dayClick:3,$keyDown:4,$itemClick:5};PXCalendar.createDate=function(y,m,d){var $h=new Date(y,m,d);$h.setFullYear(y,m,d);return $h;};PXCalendar.prototype.getVisible=function(){return this.element.style.display!="none";};PXCalendar.prototype.setVisible=function($k){this.setVisible($k,true);};PXCalendar.prototype.setVisible=function($k,$l){this.element.style.display=($k?"":"none");if($l)this.viewState.update("Visible",$k);};PXCalendar.prototype.getEnabled=function(){return !this.element.getAttribute("disabled");};PXCalendar.prototype.setEnabled=function($m){this.element.setAttribute("disabled",$m?null:"disabled");this.viewState.update("Enabled",$m);};PXCalendar.prototype.setSelectedDate=function($n){this.resetSelection();if($n instanceof(Date)){var $o=PXCalendar.$17(this.daysTable,this.$18($n));this.$19(true,$n,$o);if(!this.$1a($n))this.setVisibleDate($n);this.focusDate=$n;}};PXCalendar.prototype.getSelectedDate=function(){if(this.selection.length>0)return this.selection[0];return null;};PXCalendar.prototype.resetSelection=function($l){var $p=this.selection.length;for(var i=0;i<$p;i++){var $q=this.$18(this.selection[i]);if($q!=null){var $r=PXCalendar.$17(this.daysTable,$q);this.$1b($r,this.selection[i],false);}};this.selection.length=0;if($l)this.$1c();};PXCalendar.prototype.$19=function(on,$n,$s){if(on){var $t=this.selection.length;this.selection[$t]=$n;if($s)PXCalendar.addClass($s,this.selectedClass);}else{var $t=this.findSelected($n);this.selection.splice($t,1);if($s)this.$1b($s,$n,false);};this.$1c();};PXCalendar.prototype.isSelected=function($n){var $t=this.findSelected($n);return($t>=0);};PXCalendar.prototype.findSelected=function($n){var $p=this.selection.length;for(var i=0;i<$p;i++){if(!($n<this.selection[i]||$n>this.selection[i])){break;}};return(i<$p)?i:-1;};PXCalendar.prototype.setVisibleDate=function($n){if(PXCalendar.compareMonthYear($n,this.visibleDate)==0)return;this.visibleDate=PXCalendar.createDate($n.getFullYear(),$n.getMonth(),1);this.pageStartDate=null;this.viewState.update("VisibleDate",this.visibleDate.printInvariant(false));this.renderCalendar();};PXCalendar.prototype.renderCalendar=function(){this.$1d();this.$1e();};PXCalendar.prototype.show=function($b,$u){this.calcPosition($b,$u);this.setVisible(true);};PXCalendar.prototype.showAt=function(X,Y){this.setPosition(X,Y,true);this.setVisible(true);};PXCalendar.prototype.setPosition=function(X,Y,$v){if($v){var e=this.element,de=__doc(this).documentElement;var $w=de.clientWidth,$x=de.clientHeight;var $y=de.scrollTop,$z=de.scrollLeft;this.setVisible(true,false);var $A=e.offsetWidth,$B=e.offsetHeight;this.setVisible(false,false);if((X+$A)>($w+$z)){X=$w-$A+$z;};if(X<$z){X=$z;};if((Y+$B)>($x+$y)){Y=$x-$B+$y;};if(Y<$y)Y=$y;};this.element.style.left=X+"px";this.element.style.top=Y+"px";};PXCalendar.prototype.calcPosition=function($b,$C){var e=this.element,de=__doc(this).documentElement;var $w=de.clientWidth,$x=de.clientHeight;var $y=de.scrollTop,$z=de.scrollLeft;var $D=0,$E=0,$F=0,$G=0;this.setVisible(true,false);var $A=e.offsetWidth,$H=$b.offsetParent;var $B=e.offsetHeight;$D=__px(this).getElemLeftPos($b,$H);$F=__px(this).getElemTopPos($b,$H)-$B;$G=__px(this).getElemTopPos($b,$H)+$b.offsetHeight;this.setVisible(false,false);var $I=__px(this).getElemTopPos($b,null);var $J=($I-$B>=$y);var $K=(($I+$b.offsetHeight+$B)<$x+$y);if($C){$E=$F;if($K&&(!$J))$E=$G;}else{$E=$G;if((!$K)&&$J)$E=$F;};if(e.parentNode!=$H)$H.appendChild(e);this.setPosition($D,$E,false);};PXCalendar.prototype.$1f=function($q){return($q.y==0);};PXCalendar.prototype.$1g=function($q){return(this.formats.showWeekNumber&&$q.x==this.weekColumnIndex&&$q.y!=0);};PXCalendar.prototype.$1c=function(){var $L=new String();for(var i=0;i<this.selection.length;i++)$L+=(i>0?";":"")+this.selection[i].printInvariant();this.viewState.update("Selection",$L);};PXCalendar.prototype.$1h=function($g){this.selection=PXCalendar.convertSelection(this,$g);};PXCalendar.prototype.$0Q=function(){var $q=new Object();$q.x=0;$q.y=2;return PXCalendar.$17(this.element,$q);};PXCalendar.prototype.$1i=function($q){if($q==null)return null;if(this.$1g($q))return null;var $M=new Object();$M.y=$q.y;$M.x=$q.x;if(this.formats.showDOWHeader)$M.y--;if(this.formats.showWeekNumber&&($q.x>this.weekColumnIndex))$M.x--;if($M.x<0||$M.x>=PXCalendar.$13)return null;if($M.y<0||$M.y>=this.weeksToShow)return null;var $N=$M.y*PXCalendar.$13+$M.x;var $O=this.$1j();var $h=PXCalendar.createDate($O.getFullYear(),$O.getMonth(),$O.getDate()+$N);return $h};PXCalendar.prototype.$18=function($P){if($P==null||!($P instanceof(Date)))return null;var $q=new Object();var $n=PXCalendar.createDate($P.getFullYear(),$P.getMonth(),$P.getDate());var $N=Math.round(($n.valueOf()-this.$1j().valueOf())/(24*60*60*1000));var $Q=this.weeksToShow*PXCalendar.$13-1;if($N<0||$N>$Q)return null;$q.x=($N%PXCalendar.$13);$q.y=Math.floor($N/PXCalendar.$13);if(this.formats.showWeekNumber&&($q.x>=this.weekColumnIndex))$q.x++;if(this.formats.showDOWHeader)$q.y++;return $q;};PXCalendar.prototype.$1j=function(){if(this.pageStartDate==null){var $n=PXCalendar.createDate(this.visibleDate.getFullYear(),this.visibleDate.getMonth(),1);var $N=-($n.getDay()+7-this.firstDayOfWeek)%7;$n.setDate($n.getDate()+$N);this.pageStartDate=$n;};return this.pageStartDate;};PXCalendar.prototype.$1e=function(){var $R=this.daysTable.rows.length;var $S=this.formats.showWeekNumber?(PXCalendar.$13+1):PXCalendar.$13;var $q=new Object();var $T=new Date();var $U=this.isSelected.length>15;for($q.y=0;$q.y<$R;$q.y++){if($q.y==0&&this.formats.showDOWHeader)continue;for($q.x=0;$q.x<$S;$q.x++){if(this.formats.showWeekNumber&&$q.x==this.weekColumnIndex)continue;$T=this.$1i($q);if($T){var $r=PXCalendar.$17(this.daysTable,$q);var $V=$T.getDate();if(!this.formats.showOtherMonthDays)if($T.getMonth()!=this.visibleDate.getMonth())$V="";__px(this).setElemText($r,$V);this.$1b($r,$T,$U);if(this.formats.showWeekNumber){if($T.getDay()==4){var $W=this.daysTable.rows.item($q.y).cells.item(this.weekColumnIndex);var YWD=$T.getWeekNumber();__px(this).setElemText($W,YWD);}}}}};if(!$U)this.$1k();};PXCalendar.prototype.$1d=function(){if(this.nextPrev.rows.length<=0)return;var $X=this.nextPrev.rows.item(0),title;var $Y=new Array();if(this.enableMonthChange){if($X.cells.length==5){var $Z=new Object();$Z.cell=$X.cells.item(0);$Z.increment=-1;$Y.push($Z);var $00=new Object();$00.cell=$X.cells.item(1);$00.yearIncrement=-1;$Y.push($00);var $01=new Object();$01.cell=$X.cells.item(3);$01.yearIncrement=1;$Y.push($01);var $02=new Object();$02.cell=$X.cells.item(4);$02.increment=1;$Y.push($02);}else{var $Z=new Object();$Z.cell=$X.cells.item(0);$Z.increment=-1;$Y.push($Z);var $02=new Object();$02.cell=$X.cells.item(2);$02.increment=1;$Y.push($02);}}else title=$X.cells.item(0);for(var $03=0;$03<$Y.length;$03++){var $04=$Y[$03];if($04.increment){var $t=((12+this.visibleDate.getMonth()+$04.increment)%12);__px(this).setTitle($04.cell,this.monthNames[$t]);if(this.formats.nextPrevFormat==PXCalendar.$12)__px(this).setElemText($04.cell,this.monthNames[$t]);if(this.formats.nextPrevFormat==PXCalendar.$11)__px(this).setElemText($04.cell,this.shortMonthNames[$t]);};if($04.yearIncrement)__px(this).setTitle($04.cell,(this.visibleDate.getFullYear()+$04.yearIncrement).toString());};if(title){var $05=this.visibleDate.getFullYear()+this.yearFix;var $06=this.monthNames[this.visibleDate.getMonth()]+" "+$05;__px(this).setElemText(title,$06);};if(this.monthSel)this.monthSel.value=this.visibleDate.getMonth();if(this.yearSel){var $05=this.visibleDate.getFullYear();this.yearSel.value=$05;if(this.yearSel.selectedIndex!=5||this.yearSel.value!=$05)this.$10();this.yearSel.value=$05;}};PXCalendar.prototype.$0Z=function(){if(this.monthSel==null)return;var $07=parseInt(this.monthSel.value),$08=this.monthSel.options;for(var i=0;i<this.monthNames.length;i++){if(!this.monthNames[i])continue;$08[i]=new Option(this.monthNames[i],i,false,i==$07);}};PXCalendar.prototype.$10=function(){if(this.yearSel==null)return;var $07=parseInt(this.yearSel.value),$08=this.yearSel.options;var $05=this.visibleDate.getFullYear()+this.yearFix;for(var i=$05-5,j=0;i<=($05+5);i++,j++)$08[j]=new Option(i,i,false,i==$07);};PXCalendar.prototype.$0Y=function(e){var $09=PXCalendar.createDate(parseInt(this.yearSel.value),parseInt(this.monthSel.value),1);this.setVisibleDate($09);};PXCalendar.prototype.$1k=function(){var $0a=this.selection.length;for(var i=0;i<$0a;i++){var $q=this.$18(this.selection[i]);if($q){var $r=PXCalendar.$17(this.daysTable,$q);if($r)this.$1b($r,this.selection[i],true);}}};PXCalendar.prototype.$1b=function($r,$n,$0b){if(!$r)return;var $0c=this.dayClass;$0c+=" "+this.clickableClass;if($n.getDay()==0||$n.getDay()==6)$0c+=" "+this.weekEndClass;if($n.getMonth()!=this.visibleDate.getMonth())$0c+=" "+this.otherMonthDayClass;if(PXCalendar.compareDate($n,this.todayDate)==0)$0c+=" "+this.todayClass;if($0b){if(this.isSelected($n)){$0c+=" "+this.selectedClass;}};$r.className=$0c;};PXCalendar.$1l=function($b){var $r=$b;function isCellElement($0d){return($0d.tagName=="TD");}while($r!=null&&!isCellElement($r))$r=$r.parentNode;return $r;};PXCalendar.$17=function($0e,$q){if(!$q||!$0e)return null;try{var $b=$0e.rows.item($q.y).cells.item($q.x);}catch(ex){return null;};return $b;};PXCalendar.$1m=function($0f){try{var $q=new Object();$q.x=$0f.cellIndex;$q.y=$0f.parentNode.rowIndex;if(($q.x==null)||($q.y==null))throw("Invalid item");return $q;}catch(ex){return null;}};PXCalendar.compareDate=function($0g,$0h){var $0i=$0g.getFullYear()-$0h.getFullYear();if($0i!=0)return $0i<0?-1:1;$0i=$0g.getMonth()-$0h.getMonth();if($0i!=0)return $0i<0?-1:1;$0i=$0g.getDate()-$0h.getDate();if($0i!=0)return $0i<0?-1:1;return 0;};PXCalendar.compareMonthYear=function($0g,$0h){var $0i=$0g.getFullYear()-$0h.getFullYear();if($0i!=0)return $0i<0?-1:1;$0i=$0g.getMonth()-$0h.getMonth();if($0i!=0)return $0i<0?-1:1;return 0;};PXCalendar.removeClass=function(el,$0j){if(!(el&&el.className))return;var $0k=el.className.split(" ");var ar=new Array();for(var i=$0k.length;i>0;){if($0k[--i]!=$0j){ar[ar.length]=$0k[i];}};el.className=ar.join(" ");};PXCalendar.addClass=function(el,$0j){PXCalendar.removeClass(el,$0j);el.className+=" "+$0j;};Date.prototype.getWeekNumber=function(){var d=PXCalendar.createDate(this.getFullYear(),this.getMonth(),this.getDate());var DoW=d.getDay();d.setDate(d.getDate()-(DoW+6)%7+3);var ms=d.valueOf();d.setMonth(0);d.setDate(4);return Math.round((ms-d.valueOf())/(7*864e5))+1;};Date.prototype.printInvariant=function($0l){var $h;$h=(this.getMonth()+1)+"/"+this.getDate()+"/"+this.getFullYear();if($0l)$h+=" "+this.getHour()+":"+this.getMinutes()+":"+$0m(this.getSeconds())+"."+this.getMilliseconds();return $h;};PXCalendar.$0R=function(e){switch(e.type){case "selectstart":case "contextmenu":return __px(this).cancelEvent(e,false);case "mousedown":if(!PXCalendar.$1n(__px(this).eventElem(e)))return __px(this).cancelEvent(e,false);break;case "dblclick":return __px(this).cancelEvent(e,false);}};PXCalendar.prototype.fireEvent=function(id,ev,$0n){return this.events.fireEvent(id,ev,$0n);};PXCalendar.$0T=function(e){var se=__px(this).eventElem(e);var $0o=__px(this).eventObject(e,PXCalendar);if($0o)if(e.type=="click"){$0o.$1o(se,e);return __px(this).cancelEvent(e,false);}};PXCalendar.$0V=function(e){var se=__px(this).eventElem(e);var $0o=__px(this).eventObject(e,PXCalendar);var $s=se;if($0o){if(e.type=="click"){$0o.$1p();return __px(this).cancelEvent(e,false);}}};PXCalendar.$0U=function(e){var se=__px(this).eventElem(e);var $0o=__px(this).eventObject(e,PXCalendar);var $s=se;if($0o){if(e.type=="click"){$0o.$1q($s,e);return __px(this).cancelEvent(e,false);};if(e.type=="mousedown"){if($0o)$0o.focus();$0o.$1r($s,e);return __px(this).cancelEvent(e,false);}}};PXCalendar.$0W=function(e){var se=__px(this).eventElem(e);var $0o=__px(this).eventObject(e,PXCalendar);if($0o){var $0p=new Object();$0p["value"]=__px(this).getInnerText(se);$0o.fireEvent(5,e,$0p);__px(this).cancelEvent(e,false);}};PXCalendar.$0S=function(e){if(!PXCalendar.$1n(__px(this).eventElem(e))){var $0o=__px(this).eventObject(e,PXCalendar);if($0o)$0o.focus();}};PXCalendar.$1n=function($b){var $0q=($b&&$b.tagName)?$b.tagName.toLowerCase():"";return $0q=="select"||$0q=="option";};PXCalendar.prototype.$1s=function(e){switch(e.type){case "focus":this.$1t();break;case "blur":this.hasFocus=false;break;case "keydown":this.$1u(e);break;};__px(this).cancelEvent(e,false);};PXCalendar.prototype.$1r=function($s,e){if(!$s)return;var parent=$s.parentNode;while(parent!=null&&parent!=this.daysTable&&parent!=this.element)parent=parent.parentNode;var $0r=(parent==this.daysTable);if($0r){var $q=PXCalendar.$1m($s);var $n=this.$1i($q);if(!$n)return;this.$1v($n);var $0s=e.shiftKey?PXCalendar.$16:(e.ctrlKey?PXCalendar.$15:PXCalendar.$14);this.$1w($0s);if(this.enableMonthChange){if(!this.enableMultipleSelection)this.setVisibleDate($n);}}};PXCalendar.prototype.$1q=function($s,e){var $q=PXCalendar.$1m($s);var $n=this.$1i($q);if(!$n)return;var $0p=new Object();$0p["value"]=$n;if(this.fireEvent(3,e,$0p))return;};PXCalendar.prototype.$1p=function(){if(this.enableMonthChange&&!this.$1a(this.todayDate)){this.setVisibleDate(this.todayDate);}};PXCalendar.prototype.$1o=function($s,$0t){var $r=PXCalendar.$1l($s);if($r){var $0u=$r.parentNode,$0v=0,$0w=0;if($0u.cells.length==5){$0v=($r.cellIndex==0)?-1:(($r.cellIndex==4)?1:0);$0w=($r.cellIndex==1)?-1:(($r.cellIndex==3)?1:0);}else{$0v=($r.cellIndex==0)?-1:(($r.cellIndex==2)?1:0);};if($0v!=0||$0w!=0){var $09=PXCalendar.createDate(this.visibleDate.getFullYear()+$0w,this.visibleDate.getMonth()+$0v,1);this.setVisibleDate($09);}}};PXCalendar.prototype.focus=function(){__px_cm(this).setFocus(this,this.$1s);};PXCalendar.prototype.$1t=function(){if(this.getVisible()&&this.getEnabled()){this.hasFocus=true;}};PXCalendar.prototype.$1u=function(ev){var $0p=new Object();$0p.key=ev.keyCode;if(this.fireEvent(4,ev,$0p)){__px(this).cancelEvent(ev);return;};var $N=new Object();$N.x=0;$N.y=0;$N.isMonth=false;$N.isYear=false;var $0x=false;var $0s=ev.shiftKey?PXCalendar.$16:PXCalendar.$14;switch(ev.keyCode){case 36:$N.x=-1;$N.isYear=true;break;case 35:$N.x=1;$N.isYear=true;break;case 33:$N.x=-1;$N.isMonth=true;break;case 34:$N.x=1;$N.isMonth=true;break;case 37:$N.x--;break;break;case 38:$N.y--;break;break;case 39:$N.x++;break;break;case 40:$N.y++;break;case 32:var $0s=PXCalendar.$14;$0x=true;break;default:};if(($N.x!=0)||($N.y!=0)){var $0y=0,$0z=0,$0A=0;var $T=this.$1x();if($T==null){$T=this.getSelectedDate();if($T==null){if(this.$1a(this.todayDate))$T=this.todayDate;else $T=PXCalendar.createDate(this.visibleDate.getFullYear(),this.visibleDate.getMonth(),1);}};if($N.isMonth){$0z=$N.x;}else{if($N.isYear)$0A=$N.x;else $0y=$N.x+($N.y*PXCalendar.$13);};var $n=PXCalendar.createDate($T.getFullYear()+$0A,$T.getMonth()+$0z,$T.getDate()+$0y);var $0B=!(this.enableMultipleSelection?this.$1y($n):this.$1a($n));if($0B)this.setVisibleDate($n);this.$1v($n);$0x=true;};if($0x)this.$1w($0s)};PXCalendar.prototype.$1w=function($0s){var $n=this.$1x();var $s=PXCalendar.$17(this.daysTable,this.$18($n));var $0p=new Object();$0p["value"]=$n;$0p["on"]=true;if(!this.enableMultipleSelection){if(!this.isSelected($n)){if(this.fireEvent(1,null,$0p))return;this.resetSelection();this.$19(true,$n,$s);this.fireEvent(2,null,$0p);}}else{var $0C=this.getSelectedDate();if(($0s==PXCalendar.$16)&&this.$1y($0C)){var $0D=Math.round(($n.valueOf()-$0C.valueOf())/(24*60*60*1000));this.resetSelection();var $0E=($0D>=0)?1:-1;$0D=Math.abs($0D);for(var $0F=0;$0F<=$0D;$0F++){var $0G=PXCalendar.createDate($0C.getFullYear(),$0C.getMonth(),($0C.getDate()+($0F*$0E)));var $0H=PXCalendar.$17(this.daysTable,this.$18($0G));if(this.fireEvent(1,null,$0p))continue;this.$19(true,$0G,$0H);this.fireEvent(2,null,$0p);}}else{if($0s!=PXCalendar.$15)this.resetSelection();var on=($0s==PXCalendar.$15)?!this.isSelected($n):true;if(this.fireEvent(1,null,$0p))return;this.$19((on),$n,$s);this.fireEvent(2,null,$0p);}}};PXCalendar.prototype.$1x=function(){return this.focusDate;};PXCalendar.prototype.$1y=function($P){return(this.$18($P)!=null);};PXCalendar.prototype.$1a=function($P){return(PXCalendar.compareMonthYear($P,this.visibleDate)==0);};PXCalendar.prototype.onFocusPosChange=function($0I,$0J){if($0I==null)return;var $0K=this.focusClass;if($0J!=null){if($0I.x==$0J.x&&$0I.y==$0J.y)return;var $0L=PXCalendar.$17(this.daysTable,$0J);PXCalendar.removeClass($0L,$0K);};var $0M=PXCalendar.$17(this.daysTable,$0I);if($0M!=null){PXCalendar.addClass($0M,$0K);}};PXCalendar.prototype.$1v=function($0N){var $0J=null;var $0O=this.$1x();if($0O!=null){$0J=this.$18($0O);};$0I=this.$18($0N);this.focusDate=$0N;this.onFocusPosChange($0I,$0J);};PXCalendar.$1z=function($q){if($q!=null)return("("+$q.x+","+$q.y+")");return "null";};



function PXButton($a,$b,$c){this.px_context=$a;this.element=$b;this.ID=$b.id;__px_cm(this).readProperties(this,$c);this.hideEnterKey=true;__px_cm(this).setStackElements(this);var $d=$b.className;if(!this.getEnabled())$d=$d.replace(this.styles.disabled,"");if(this.pushed)$d=$d.replace(this.styles.pushed,"");this.styles.normal=$d;this.elemImage=__px(this).elemByID($b.id+"_im");this.elemCont=($b.tagName=="TABLE")?$b.rows[0].cells[0]:$b;this.dropCell=__px(this).elemByID($b.id+"_drop");this.hasMenu=(this.dropCell!=null);__px_cm(this).addBaseHandlers($b,PXButton.$K);var hs=PXButton.$L;__px(this).addEventHandler($b,"mouseover",hs);__px(this).addEventHandler($b,"mouseout",hs);__px(this).addEventHandler($b,"mousedown",hs);__px(this).addEventHandler($b,"mouseup",hs);__px(this).addEventHandler($b,"click",hs);$b.object=this;this.viewState=new PXStateBag(this,"PXButton");this.events=new PXEventList(this,PXButton.events,$c.clientEvents);__px_cm(this).registerRequiresOnLoad(this,$b.id);if(this.rightButtonMenu)__px(this).addEventHandler(this.element,"contextmenu",Function.createDelegate(this,function(e){__px(this).cancelEvent(e,true);return false;},true));};PXButton.properties=[["autoPostBack",JSType.Bool,false],["navigateUrl",JSType.String,""],["target",JSType.String,""],["openFrameset",JSType.Bool,false],["queryString",JSType.String,""],["commandName",JSType.String,""],["commandArgument",JSType.String,""],["commandSourceID",JSType.String,""],["popupPanel",JSType.String,""],["dialogResult",JSType.Int,0],["toggleMode",JSType.Bool,false],["pushed",JSType.Bool,false],["syncVisible",JSType.Bool,true],["autoCallBack",JSType.Object,PXCallbackManager.settingsDesc],["popupCommand",JSType.Object,PXCallbackManager.settingsDesc],["images",JSType.Object,null],["pushedImages",JSType.Object,null],["styles",JSType.Object,null],["key",JSType.String,""],["dependOnGrid",JSType.String,""],["stateColumn",JSType.String,""],["syncText",JSType.Bool,true],["rightButtonMenu",JSType.Bool,""],["captureClick",JSType.Bool,false]];PXButton.callbackProps=[["hidden",JSType.Bool,false,PXControl.setHidden],["enabled",JSType.Bool,true,"setEnabledSyncState"],["queryString",JSType.String,""]];PXButton.prototype.setProperties=function($c){__px_cm(this).readProperties(this,$c,PXButton.callbackProps);};PXButton.events={$initialize:0,$keyDown:1,$keyPress:2,$keyUp:3,$mouseDown:4,$mouseUp:5,$mouseMove:6,$mouseOver:7,$mouseOut:8,$click:9,$focus:10,$blur:11};PXButton.prototype.focus=function(){try{this.element.focus();}catch(e){}};PXButton.prototype.getVisible=function(){return this.element.style.display!="none";};PXButton.prototype.setVisible=function(v){if(v!=this.getVisible()){var $e=v?"":"none";this.element.style.display=$e;__px_cm(this).setStackElementsVisible(this,v);}};PXButton.prototype.getEnabled=function(){return __px(this).getEnabled(this.element);};PXButton.prototype.setEnabled=function($f){if($f!=this.getEnabled()){__px(this).setEnabled(this.element,$f);this.$M=this.$N=false;this.$O();}};PXButton.prototype.getPushed=function(){if(this.toggleMode)return this.pushed;return false;};PXButton.prototype.setPushed=function($g){if(this.toggleMode&&$g!=this.getPushed()){this.pushed=$g;this.$O();this.viewState.update("Pushed",$g);}};PXButton.prototype.getText=function(){return __px(this).getElemText(this.elemCont);};PXButton.prototype.setText=function(v){if(this.text!=v){__px(this).setElemText(this.elemCont,v);this.text=v;}};PXButton.prototype.getTooltip=function(){return __px(this).getTitle(this.element);};PXButton.prototype.setTooltip=function(v){if(this.tooltip!=v){__px(this).setTitle(this.element,v);this.tooltip=v;}};PXButton.prototype.setImage=function($h){this.images.normal=$h;this.$O();};PXButton.prototype.getMenu=function(){if(this.$P==null){var $i=this.ID+"_menu";this.$P=PXMenu.createMenuControl($i,this.px_context);if(this.$P){var $j=this.$P.events;$j.addEventHandler("deactivate",PXButton.$Q);this.$P.linkedButton=this;}};return this.$P;};PXButton.prototype.$R=function($k,$g){var im=$g?this.pushedImages:this.images,$l;switch($k){case 0:$l=im.normal;break;case 1:$l=im.disabled;break;case 2:$l=im.hover;break;};if(!$l){if($k>0)$l=this.$R(0,$g);else if($g)$l=this.$R(0,false);};return $l;};PXButton.prototype.$O=function(){var $m,$d,im=this.elemImage,$g=this.getPushed();var $n=this.styles,$o=new Array();if(!this.getEnabled()){$d=$n.disabled;if(im)$m=this.$R(1,$g);}else if(this.$N){$d=this.$S?$n.dropDown:$n.pushed;if(im)$m=this.$R(2,$g);}else if(this.$M){$d=$n.hover;if(im)$m=this.$R(2,$g);}else if($g){$d=$n.pushed;};if($n.normal)$o.push($n.normal);if($d)$o.push($d);this.element.className=$o.join(" ");if(this.hasMenu){$d=(this.$M&&!this.$N)?$n.dropH:$n.dropN;this.dropCell.className=$d;};if(im){if(!$m)$m=this.$R(0,$g);this.elemImage=__px_cm(this).repaintImage(im,$m);}};PXButton.prototype.fireEvent=function(id,ev){var $p=new Object();return this.events.fireEvent(id,ev,$p);};PXButton.prototype.onLoad=function(){__px_cm(this).registerCommandExecutor(this);if(this.dependOnGrid){var $q=this.linkedGrid=__px_all(this)[this.dependOnGrid];if($q){this.setEnabled(this.$T());var h=Function.createDelegate(this,this.$U);$q.events.addEventHandler("afterRepaint",h);$q.events.addEventHandler("afterRepaintRow",h);}}};PXButton.prototype.setEnabledSyncState=function($f){if($f&&(this.commandState||this.linkedGrid))this.setEnabled(this.$T());else this.setEnabled($f);};PXButton.prototype.commandStateCallback=function($r,$s){this.setEnabled(this.$T($r));if(this.syncVisible)this.setVisible($r.getVisible());var $t=$r.getDisplayName();if($t!=null){var $u=$t.indexOf("action")==0;if(!$u&&this.syncText)this.setText($t);};var $v=$r.getTooltip();if($v!=null)this.setTooltip($v);};PXButton.prototype.$T=function($r){if($r!=null)this.commandState=$r;var $w=(this.commandState!=null)?this.commandState.getEnabled():null;if(this.linkedGrid&&($w==null||$w==true)){var $x=(this.linkedGrid.rows.length>0),ar=this.linkedGrid.activeRow;if(this.stateColumn&&ar){var $y=ar.getCell(this.stateColumn);if($y)$x=Boolean($y.getValue());};$w=$x;};return $w;};PXButton.prototype.$U=function($q,ev){if(this.linkedGrid==$q)this.setEnabled(this.$T());};PXButton.prototype.callbackButton=function(){if(this.autoCallBack&&this.autoCallBack.enabled){return !this.navigateUrl&&!this.autoPostBack;};return false;};PXButton.prototype.exec=function(e){var ev=this.events.eventArgs,cs=this.autoCallBack;if(this.navigateUrl){if(!ev.cancelPostBack){var qs=this.queryString;var $m=qs?(this.navigateUrl+"?"+qs):this.navigateUrl;if(this.popupPanel){var $z=__px_all(this)[this.popupPanel];if($z.getVisible()&&$m==$z.getPageUrl())$z.hide();else{$z.setPageUrl($m);$z.show(this);}}else{var $A=(e.shiftKey||e.ctrlKey);__px(this).openUrl($m,this.target,$A||this.openFrameset);}}}else if(this.autoPostBack){if(!ev.cancelPostBack)__px(this).doPost(this.element.getAttribute("name"),"click");}else if(cs&&cs.enabled&&cs.command){e.openFrameset=this.openFrameset;var $B=__px_all(this)[cs.target];if($B&&$B.__className=="PXBaseDataSource"){$B.callbackFromUI=true;this.viewState.update("CallbackFromUI",true);};if(!ev.cancelCallBack)__px_callback(this).exec(this,this.autoCallBack,this.popupCommand);}else if(this.commandSourceID&&this.commandName){var $C=__px_all(this)[this.commandSourceID];if($C&&$C.executeCommand){$C.sourceEvent=e;if($C.__className=="PXBaseDataSource"){$C.callbackFromUI=true;this.viewState.update("CallbackFromUI",true);};$C.executeCommand(this.commandName,this.commandArgument,this.popupCommand);}};if(this.popupPanel&&!this.autoPostBack&&!this.navigateUrl){var $z=__px_all(this)[this.popupPanel];if($z){if(!$z.getVisible()){$z.closeCallback=this.popupCommand;$z.show(this);}else $z.hide();}}};PXButton.$K=function(e){var $D=__px(this).eventObject(e,PXButton);var $k=PXEvent.baseEventID(e.type);if($D){if($D.fireEvent($k,e)){__px(this).cancelEvent(e);return;};if(!$D.$S){if($k==4)$D.$V(e);if($k==9)$D.$W(e);}}};PXButton.prototype.$V=function(e){var $D=__px(this).eventObject(e,PXButton);if($D.getEnabled())__px(this).registerWaitTask(this,this.$W,e);};PXButton.prototype.$W=function(e){var $D=__px(this).eventObject(e,PXButton);if($D.getEnabled()){__px(this).unregisterWaitTask(this);if(this.captureClick)__px(this).cancelEvent(e);this.exec(e);}};PXButton.$L=function(e){var $D=__px(this).eventObject(e,PXButton);var $b=$D?$D.element:null;if($b&&$D.getEnabled()){if($D.rightButtonMenu&&e.button==2){if(e.type=="mousedown"){$E=$D.getMenu();if($E){__px(this).unregisterWaitTask($D);var de=__doc(this).documentElement;var $F=de.scrollTop,$G=de.scrollLeft;$E.showAt(e.clientX+$G+5,e.clientY+$F+5);$D.$S=true;__px(this).cancelEvent(e,true);return false;}}};switch(e.type){case "mouseover":$D.$M=true;$D.$O();break;case "mouseout":$D.$M=false;if(!$D.$S)$D.$N=false;$D.$O();break;case "mousedown":$D.$N=true;var $E=null;if($D.$X(e)){$E=$D.getMenu();}else{var cs=$D.autoCallBack;var $H=(cs&&cs.enabled&&cs.command)||$D.commandName||$D.autoPostBack||$D.navigateUrl||$D.popupPanel||$D.toggleMode;if(!$H&&$D.getMenu()&&$D.getEnabled())$E=$D.getMenu();else{if($D.toggleMode)$D.setPushed(!$D.getPushed());}};if($E){if($D.$S)$E.setActive(false,true);else{$E.show($b,true);$D.$S=true;}};$D.$O();break;case "mouseup":if(!$D.$S)$D.$N=false;$D.$O();break;}}};PXButton.prototype.$X=function(e){var $b=__px(this).eventElem(e),$I=false;while($b&&$b.object==null){if($b.tagName=="TD"){$I=Boolean($b.id);break;};$b=$b.parentNode;};return $I;};PXButton.$Q=function($J,e){var $D=$J.linkedButton;if(e.id==2&&$D){$D.$N=false;$D.$O();setTimeout(function(){$D.$Y($D.ID);},300);}};PXButton.prototype.$Y=function(id){this.$S=false;};



function PXSplitter($a,$b,$c){this.px_context=$a;this.element=$b;this.normalClass=$b.className;__px_cm(this).readProperties(this,$c);this.dockElem=this.getOuterTable();if(this.orientation){this.$Z=this.$00(false);this.$01=this.$00(true);}else{this.$Z=this.$02(false);this.$01=this.$02(true);};this.$03=this.$04();var h=PXSplitter.$05;__px(this).addEventHandler($b,"mouseover",h);__px(this).addEventHandler($b,"mouseout",h);__px(this).addEventHandler($b,"mousedown",h);__px(this).addEventHandler($b,"mouseup",h);__px(this).addEventHandler($b,"selectstart",h);__px(this).addEventHandler($b,"contextmenu",h);this.events=new PXEventList(this,PXSplitter.events,$c.clientEvents);this.autoSize=new Object();__px_cm(this).readProperties(this.autoSize,null,PXControl.autoSizeDesc);if(!this.dockElem.style.height.endsWith('%'))this.autoSize.enabled=true;if($c.autoSize!=null){var $d=this.autoSize=new Object();__px_cm(this).readProperties($d,$c.autoSize,PXControl.autoSizeDesc);};__px_cm(this).registerRequiresOnResize(this);if(this.savePosition)__px_cm(this).registerRequiresOnLoad(this,$b.id);};PXSplitter.properties=[["orientation",JSType.Int,0],["collapseDirection",JSType.Int,0],["savePosition",JSType.Bool,true],["saveSizeUnits",JSType.Bool,false],["allowCollapse",JSType.Bool,true],["allowResize",JSType.Bool,true],["fixPanel1Size",JSType.Bool,false],["panel1MinSize",JSType.Int,10],["panel2MinSize",JSType.Int,10],["activeClass",JSType.String,""],["hoverClass",JSType.String,""],["restoreImage",JSType.String,""],["lastSize",JSType.Int,-1]];PXSplitter.events={$initialize:0,$beforeResize:1,$afterResize:2};PXSplitter.prototype.onResize=function(){var $e=this.$06(),e=this.element;try{if($e.offsetHeight&&this.orientation){e.style.height="10px";if(!this.autoSize.enabled)this.onAfterResize();}}catch(ex){}};PXSplitter.prototype.onAfterResize=function(){var $e=this.$06(),e=this.element;if($e.offsetHeight){if(this.orientation)e.style.height=__px(this).getStyleHeight(e,$e.offsetHeight)+"px";};if(this.lastSize>0&&this.getEnabled()){this.$07(this.lastSize);this.lastSize=-1;}};PXSplitter.prototype.onLoad=function(){__px_cm(this).createPersistentCookie();if(this.lastSize>0&&this.getEnabled())this.$07(this.lastSize);};PXSplitter.prototype.getVisible=function(){return this.element.style.display!="none";};PXSplitter.prototype.setVisible=function($f){this.element.style.display=($f?"":"none");};PXSplitter.prototype.getEnabled=function(){return __px(this).getEnabled(this.element);};PXSplitter.prototype.setEnabled=function($g){__px(this).setEnabled(this.element,$g);};PXSplitter.prototype.getOuterTable=function(){return this.$06().parentNode.parentNode.parentNode;};PXSplitter.prototype.setHeight=function($h){var h=__px(this).getStyleHeight(this.dockElem,parseInt($h));this.dockElem.style.height=h+"px";if(this.orientation){this.$Z[0].style.height=h+"px";this.$01[0].style.height=h+"px";this.element.style.height=h+"px";}};PXSplitter.prototype.collapse=function(){this.$08=this.$09();if(this.collapseDirection)this.$0a(this.panel2MinSize);else this.$07(this.panel1MinSize);var im=this.$0b();if(im){if(this.collapseImage==null)this.collapseImage=im.src;im.src=this.restoreImage;};__px_cm(this).notifyOnResize(true,this.element);};PXSplitter.prototype.restore=function(){if(this.isCollapsed()){this.$07(this.$08);delete this.$08;var im=this.$0b();if(im)im.src=this.collapseImage;__px_cm(this).notifyOnResize(true,this.element);}};PXSplitter.prototype.isCollapsed=function(){return this.$08!=null;};PXSplitter.prototype.$00=function($i){var $j=this.$06();if($j==null)return;var $k=$j.parentNode,$e;var $l=$j.cellIndex+($i?1:-1);var $m=new Array();if($l>=0&&$l<$k.cells.length){$m[0]=$e=$k.cells[$l];if($i&&$j.rowSpan>1)$l-=1;var $n=$e.rowSpan,$o=$k.rowIndex;var $p=$k.parentNode.parentNode;while($n<$j.rowSpan){$o+=$e.rowSpan;if($o<$p.rows.length){$m.push($e=$p.rows[$o].cells[$l]);if($e==null)break;$n+=$e.rowSpan;}else break;}};return $m;};PXSplitter.prototype.$02=function($i){var $j=this.$06();if($j==null)return;var $k=$j.parentNode,$l=$j.cellIndex;var $o=$k.rowIndex+($i?1:-1);var $p=$k.parentNode.parentNode;var $m=new Array();if($l>=0&&$l<$p.rows.length){$k=$p.rows[$o];var $q=0,$e;while($l<$k.cells.length&&$q<$j.colSpan){$e=$k.cells[$l];if(($q+$e.colSpan)<=$j.colSpan){$m.push($e);$q+=$e.colSpan;$l+=1;var $r=$e.contentDiv=__doc(this).createElement("div");$r.style.height="100%";$r.style.position="relative";var $s=__doc(this).createElement("div");$s.style.height=$s.style.width="100%";$s.style.position="absolute";$r.style.overflow="hidden";$r.appendChild($s);while($e.childNodes.length>0)$s.appendChild($e.childNodes[0]);$e.appendChild($r);}}};return $m;};PXSplitter.prototype.$06=function(){if(this.$0c==null){var e=this.element.parentNode;while(e!=null&&e.tagName!="TABLE"){if(e.tagName=="TD")return(this.$0c=e);e=e.parentNode;}};return this.$0c;};PXSplitter.prototype.$0b=function(){var ar=this.element.getElementsByTagName("IMG");return ar?ar[0]:null;};PXSplitter.prototype.$04=function(){var ar=new Array(),$t=0;ar[0]=this.$06();ar[1]=this.$Z[0];ar[2]=this.$01[0];var $u=this.orientation?"width":"height";for(var i=0;i<ar.length;i++)if(ar[i])$t+=PXSplitter.$0d(ar[i],$u);return $t;};PXSplitter.$0d=function($e,$u){var $v=$e.style[$u],$w=0;if($v&&$v.indexOf("%")>0)$w=parseFloat($v);return $w;};PXSplitter.prototype.$0e=function(){var $x="div_"+this.ID;var $y=__win(this).theForm?__win(this).theForm:__doc(this).body;if($y[$x]==null){var $r=__doc(this).createElement("DIV");var ds=$r.style;ds.zIndex=20000;ds.position="absolute";ds.cursor=this.orientation?"w-resize":"n-resize";ds.backgroundColor="transparent";ds.top=ds.left="0px";ds.display="none";$y.appendChild($r);$y[$x]=$r;var $z=__doc(this).createElement("DIV"),$b=this.element;$r.appendChild($z);$z.className=this.activeClass?this.activeClass:this.normalClass;ds=$z.style;ds.position="absolute";ds.fontSize="0pt";};return $y[$x];};PXSplitter.prototype.$0f=function(e){var $r=this.$0e(),$z=$r.firstChild;var ds=$r.style;ds.display="";ds.width=__doc(this).documentElement.clientWidth-1+"px";ds.height=__doc(this).documentElement.clientHeight-1+"px";ds=$z.style;ds.top=__px(this).getElemTopPos(this.element,null,false)+"px";ds.left=__px(this).getElemLeftPos(this.element,null,false)+"px";ds.width=__px(this).getStyleWidth(this.element)+"px";ds.height=__px(this).getStyleHeight(this.element)+"px";$r.object=this;$r.initX=e.clientX;$r.initY=e.clientY;__doc(this).body.$0g=$r;var h=PXSplitter.$0h;__px(this).addEventHandler(__doc(this),"mouseup",h,true);__px(this).addEventHandler(__doc(this),"mousemove",h,true);if($r.setCapture)$r.setCapture();};PXSplitter.prototype.$0i=function(e,$r){try{var c1=this.$Z[0],$A;if(__px(this).isRTL())c1=this.$01[0];if(this.orientation){$A=c1.offsetWidth+(e.clientX-$r.initX);if($r.initX!=e.clientX)__px(this).isRTL()?this.$0a($A):this.$07($A);}else{$A=c1.offsetHeight+(e.clientY-$r.initY);if($r.initY!=e.clientY)__px(this).isRTL()?this.$0a($A):this.$07($A);};delete this.$08;__px_cm(this).notifyOnResize();}finally{$r.style.display="none";var h=PXSplitter.$0h;__px(this).removeEventHandler(__doc(this),"mouseup",h,true);__px(this).removeEventHandler(__doc(this),"mousemove",h,true);if($r.releaseCapture)$r.releaseCapture();$r.object=null;}};PXSplitter.prototype.$07=function($v){var $B,$C,$u,$D,$E,$F;if(this.orientation){$B="offsetWidth";$C="clientWidth";$u="width";$E="minWidth";$F="maxWidth";$D=__px(this).getStyleWidth;}else{$B="offsetHeight";$C="clientHeight";$u="height";$E="minHeight";$F="maxHeight";$D=__px(this).getStyleHeight;};var c1,c2,$G;if(this.orientation||$v<this.$Z[0][$B]){c1=this.$Z[0];c2=this.$01[0];$G=this.panel1MinSize;}else{c1=this.$01[0];c2=this.$Z[0];$v=c2[$B]+(c1[$B]-$v);$G=this.panel2MinSize;};var $H=PXSplitter.$0d(c1,$u);var $I=PXSplitter.$0d(c2,$u),$J=$H>0||$I>0;if(this.fixPanel1Size){c1.style[$E]=c1.style[$F]="";if(!$J)c2.style[$u]="";};var $K=c1[$B],$L=c2[$B];var $M=($v>$G)?$v:$G;var $N=$L+($K-$M);if(this.orientation&&$N<this.panel2MinSize){$M+=this.panel2MinSize-$N;$N=this.panel2MinSize;};if($M>0&&$N>0){var $p=c1.parentNode.parentNode.parentNode;var $O=$p[$C];c1.style[$u]=$D.call(__px(this),c1,$M)+"px";if(!this.fixPanel1Size||$J)c2.style[$u]=$D.call(__px(this),c2,$N)+"px";if(this.saveSizeUnits){if($H>0){$H=Math.round(this.$03*(c1[$B]/$O));c1.style[$u]=$H+"%";};if($I>0){$I=Math.round(this.$03*(c2[$B]/$O));c2.style[$u]=$I+"%";};if($H>0&&$I>0){var $P=this.$04();if($P!=this.$03){var $Q=$P-this.$03;c2.style[$u]=$I-$Q+"%";}}};if(this.fixPanel1Size&&$J)c1.style[$E]=c1.style[$F]=this.$09()+"px";if(this.savePosition&&__px_cm(this).cookieP)__px_cm(this).cookieP[this.ID]=this.$09();}};PXSplitter.prototype.$0a=function($v){var $K=this.$09(),$L=this.$0j();this.$07($K+($L-$v));};PXSplitter.prototype.$09=function(){var $B=this.orientation?"offsetWidth":"offsetHeight";return this.$Z[0][$B];};PXSplitter.prototype.$0j=function(){var $B=this.orientation?"offsetWidth":"offsetHeight";return this.$01[0][$B];};PXSplitter.$05=function(e){switch(e.type){case "selectstart":case "contextmenu":return __px(this).cancelEvent(e,false);};var se=__px(this).eventElem(e);var $R=__px(this).eventObject(e,PXSplitter);if($R&&$R.getEnabled())switch(e.type){case "mouseover":return $R.$0k(e);case "mouseout":return $R.$0l(e);case "mousedown":return $R.$0m(e);case "mouseup":if(se.tagName=="IMG")$R.isCollapsed()?$R.restore():$R.collapse();break;}};PXSplitter.$0h=function(e){var $R=__doc(this).body.$0g.object;if($R instanceof PXSplitter)switch(e.type){case "mousemove":$R.$0n(e);break;case "mouseup":$R.$0o(e);break;}};PXSplitter.prototype.$0k=function(e){if(this.hoverClass){this.element.className=this.hoverClass;this.$0p=true;}};PXSplitter.prototype.$0l=function(e){if(this.$0p){this.element.className=this.normalClass;this.$0p=false;}};PXSplitter.prototype.$0m=function(e){if(__px(this).eventButton(e)==0){var se=__px(this).eventElem(e);if(se.tagName!="IMG"&&this.allowResize){this.$0l(e);this.$0f(e);}};__px(this).cancelEvent(e,false);};PXSplitter.prototype.$0n=function(e){var $r=__doc(this).body.$0g;var $R=$r?$r.object:null;if($R){var $z=$r.firstChild,$S=__doc(this).documentElement;var c1=this.$Z[0],c2=this.$01[0];if(__px(this).isRTL()){var $T=c1;c1=c2;c2=$T;};if($R.orientation){var $U=__px(this).getElemLeftPos(c1,null,false);var $V=__px(this).getElemLeftPos(c2,null,false);$V+=c2.clientWidth-$z.offsetWidth;var $W=e.clientX+$S.scrollLeft-$z.offsetWidth/2;if($W>=$U&&$W<=$V)$z.style.left=$W+"px";}else{var $X=__px(this).getElemTopPos(c1,null,false);var $Y=__px(this).getElemTopPos(c2,null,false);$Y+=c2.clientHeight-$z.offsetHeight;var top=e.clientY+$S.scrollTop-$z.offsetHeight/2;if(top>=$X&&top<=$Y)$z.style.top=top+"px";}};__px(this).cancelEvent(e);};PXSplitter.prototype.$0o=function(e){var $r=__doc(this).body.$0g;var $R=$r?$r.object:null;if($R){$R.$0i(e,$r);__px(this).cancelEvent(e);}};



var PXMenuStyle={Menu:0,MenuItem:1,ItemHover:2,ItemDisabled:3,Spacer:4,ItemChecked:5};var PXMenuImage={Checked:0,Unchecked:1,ScrollDown:2,ScrollUp:3};function PXMenu($a,$b,$c){this.px_context=$a;this.props=$c;this.ID=$b.id;__px_cm(this).readProperties(this,$c);this.expandEffects=new PXExpandEffects(this,$c.expandEffects);this.items=new PXMenuItems($b,this,null);this.activeItems=this.items;this.events=new PXEventList(this,PXMenu.events,$c.clientEvents);this.viewState=new PXStateBag(this,"PXMenu");var $d=[PXMenuImage.ScrollDown,PXMenuImage.ScrollUp];for(var i=0;i<$d.length;i++){var $e=this.$0O(-1,$d[i]);if($e&&$e.indexOf('@')<0){var im=new Image();im.src=$e;}};__px_cm(this).registerRequiresOnLoad(this,$b.id);};PXMenu.stylesDesc=[["menu",JSType.String,""],["item",JSType.String,""],["hover",JSType.String,""],["disabled",JSType.String,""],["checked",JSType.String,""],["topSel",JSType.String,""],["spacer",JSType.String,""]];PXMenu.imagesDesc=[["checked",JSType.String,"control@MenuCheck"],["unchecked",JSType.String,"control@MenuUncheck"],["scrollDown",JSType.String,"control@ScrollDown"],["scrollUp",JSType.String,"control@ScrollUp"]];PXMenu.levelDesc=[["autoPostBack",JSType.Bool,null],["target",JSType.String,""],["styles",JSType.Object,PXMenu.stylesDesc],["images",JSType.Object,PXMenu.imagesDesc]];PXMenu.properties=[["menuStyle",JSType.Int,1],["autoPostBack",JSType.Bool,null],["autoOpen",JSType.Bool,false],["target",JSType.String,""],["commandSourceID",JSType.String,""],["allowFocus",JSType.Bool,true],["renderCheckImage",JSType.Bool,true],["styles",JSType.Object,PXMenu.stylesDesc],["images",JSType.Object,PXMenu.imagesDesc],["levels",JSType.Array,PXMenu.levelDesc],["multiSelect",JSType.Bool,false]];PXMenu.events={$initialize:0,$activate:1,$deactivate:2,$subMenuShow:3,$itemClick:4,$itemCheck:5,$beforeItemDown:6};PXMenu.prototype.setProperties=function($c){this.$0P(this.items,$c?$c.items:null);};PXMenu.prototype.$0P=function($f,$c){for(var i=0;i<$f.length;i++){var $g=$f.getItem(i);if($g){var ip=$c?$c["i"+$g.hashCode()]:null;if(ip){__px_cm(this).readProperties($g,ip,PXMenuItem.callbackProps);if($g.syncText)$g.setText(ip.text);if($g.hasChild)this.$0P($g.childItems,$c);}}}};PXMenu.prototype.getVisible=function(){return this.element.style.display!="none";};PXMenu.prototype.setVisible=function($h){this.element.style.display=($h?"":"none");};PXMenu.prototype.getEnabled=function(){return __px(this).getEnabled(this.element);};PXMenu.prototype.setEnabled=function($i){__px(this).setEnabled(this.element,$i);this.viewState.update("Enabled",$i);};PXMenu.prototype.getItemByID=function(id){id=id.substr(this.ID.length+1);var ar=id.split("_"),$f=this.items,$g;for(var i=1;i<ar.length;i++){$g=$f.getItem(parseInt(ar[i]));if($g&&$g.hasChild&&i<(ar.length-1))$f=$g.childItems;else if(i<(ar.length-1)){$g=null;break;}};return $g;};PXMenu.prototype.focus=function(){if(this.allowFocus)__px_cm(this).setFocus(this,this.$0Q);};PXMenu.prototype.setActive=function(v,$j){if(this.getActive()==v)return;if($j==null)$j=true;var eh=PXMenu.$0R,$k=PXMenu.$0S;if(v){if(__doc(this).activeMenuID){var $l=__px_all(this)[__doc(this).activeMenuID];if($l)$l.setActive(false,$j);};__doc(this).activeMenuID=this.ID;__px(this).addEventHandler(__doc(this),"mousedown",eh);__px(this).addEventHandler(__doc(this),"mouseover",$k);if($j)this.fireEvent("activate");}else{if(this.$0T){clearTimeout(this.$0T);delete this.$0T;};var ai=this.items.activeItem;if(ai!=null){ai.hideSubMenu(true);ai.setActive(false);};if(this.items.horizontal&&!this.autoOpen)this.items.autoOpenItems=false;if(this.menuStyle==2)this.items.setVisible(false);if(this.$0U){__px(this).removeEventHandler(__win(this),"scroll",this.$0U);delete this.$0U;};__px(this).removeEventHandler(__doc(this),"mousedown",eh);__px(this).removeEventHandler(__doc(this),"mouseover",$k);__doc(this).activeMenuID=null;if($j)this.fireEvent("deactivate");}};PXMenu.prototype.getActive=function(v){var $m=__doc(this).activeMenuID;return $m!=null&&$m==this.ID;};PXMenu.prototype.show=function($b,$n){var $f=this.items;$f.calcPosition($b,$n);__px(this).lockMouseEvents();$f.setVisible(true);this.setActive(true);this.focus();this.$0U=function(){clearTimeout($f.$0V);$f.$0V=setTimeout(function(){$f.calcPosition($b,$n);},20);};__px(this).addEventHandler(__win(this),"scroll",this.$0U);};PXMenu.prototype.showAt=function(X,Y){this.mouseX=X;this.mouseY=Y;this.items.setPosition(X,Y,true);__px(this).lockMouseEvents();this.items.setVisible(true);this.setActive(true);this.focus();};PXMenu.createMenuControl=function($m,$a){var $b=__px($a).elemByID($m),$o=null;if($b){if($b.parentNode!=__win($a).theForm){$b.style.left=$b.style.top="-999px";__win($a).theForm.appendChild($b);};$o=__px_cm($a).createControl("PXMenu",$m);if($o){__px_all($a)[$m]=$o;$o.onLoad();}};return $o;};PXMenu.prototype.$0W=function($p,$q){var $r=this.$0X($p);var $s="";switch($q){case PXMenuStyle.Menu:$s=$r.styles.menu;break;case PXMenuStyle.MenuItem:$s=$r.styles.item;break;case PXMenuStyle.ItemHover:$s=$r.styles.hover;break;case PXMenuStyle.ItemDisabled:$s=$r.styles.disabled;break;case PXMenuStyle.ItemChecked:$s=$r.styles.checked;break;case PXMenuStyle.Spacer:$s=$r.styles.spacer;break;};return $s;};PXMenu.prototype.$0O=function($p,$t){var $r=this.$0X($p),im="";switch($t){case PXMenuImage.Checked:im=$r.images.checked;break;case PXMenuImage.Unchecked:im=$r.images.unchecked;break;case PXMenuImage.ScrollDown:im=$r.images.scrollDown;break;case PXMenuImage.ScrollUp:im=$r.images.scrollUp;break;};if(!im&&$r!=this)im=this.$0O(-1,$t);return im;};PXMenu.prototype.$0Y=function($p){var $r=this.$0X($p);return $r.target?$r.target:this.target;};PXMenu.prototype.$0Z=function($p){var $r=this.$0X($p);return $r.autoPostBack;};PXMenu.prototype.$0X=function($p){var $r=this;if(this.levels!=null&&($p>=0&&$p<this.levels.length))$r=this.levels[$p];return $r;};PXMenu.prototype.fireEvent=function(id,ev,$u){return this.events.fireEvent(id,ev,$u);};PXMenu.prototype.onLoad=function(){this.registerItemsCommands(this.items);};PXMenu.prototype.registerItemsCommands=function($f){for(var i=0;i<$f.length;i++){var $g=$f.getItem(i),$v=$g.commandSourceID;if(!$v)$v=this.commandSourceID;if($v){var $w=__px_all(this)[$v];if($w&&$w.registerCommandControl){var $x=$g.commandName;if($x)$w.registerCommandControl(this,$x);}};if($g.autoCallBack&&$g.autoCallBack.command&&$g.autoCallBack.target){var $y=__px_all(this)[$g.autoCallBack.target];if($y&&$y.registerCommandControl)$y.registerCommandControl(this,$g.autoCallBack.command);};if($g.dependOnGrid)$g.$10();if($g.hasChild)this.registerItemsCommands($g.childItems);}};PXMenu.setItemState=function($g,$z){var $A=$g.getText();if($g.syncText||!$A||!$A.trim())$g.setText($z.getDisplayName());$g.setEnabled($g.getCommandState());if($g.syncVisible)$g.setVisible($z.getVisible());};PXMenu.prototype.commandStateCallback=function($z,$B){if(this.cmdState==null)this.cmdState=new Object();var $C=$z.getEnabled();this.cmdState[$B]=$C;for(var i=0;i<this.items.length;i++){var $g=this.items.getItem(i);if($g&&$g.commandName==$B){PXMenu.setItemState($g,$z);}};this.$11();};PXMenu.prototype.commandStateAutoCallback=function($z,$B){if(this.cmdState==null)this.cmdState=new Object();var $C=$z.getEnabled();this.cmdState[$B]=$C;for(var i=0;i<this.items.length;i++){var $g=this.items.getItem(i),ac=$g.autoCallBack;if(!$g.popupPanel&&ac&&ac.command&&String.compare(ac.command,$B,true)){PXMenu.setItemState($g,$z);break;}};this.$11();};PXMenu.prototype.$11=function($z,$B){var $D=this.linkedButton;if($D&&$D.hasAction!=null&&!$D.hasAction()){var $E=false;for(var i=0;i<this.items.length;i++)if(this.items.getItem(i).getVisible()){$E=true;break;};var $z=$D.commandState;if($z)$E=$E&&$z.getVisible();if(!$E){$D.setVisible($E);$D.hiddenFromMenu=true;}else if($D.hiddenFromMenu){$D.setVisible($E);delete $D.hiddenFromMenu;}}};PXMenu.prototype.$12=function($F,ev){for(var i=0;i<this.items.length;i++){var $g=this.items.getItem(i);if($g!=null&&$g.linkedGrid==$F)$g.setEnabled($g.getCommandState());}};function PXMenuItems($b,$o,$G){this.px_context=$o.px_context;this.element=$b;this.menu=$o;this.parentItem=$G;this.tableElem=$b.getElementsByTagName("UL")[0];this.level=($G!=null)?($G.level+1):0;this.horizontal=($o.menuStyle==0&&this.level==0);this.activeItem=null;this.autoOpenItems=!this.horizontal||$o.autoOpen;this.items=new Array();this.length=parseInt($b.getAttribute("itemsCount"));$b.object=this;if(this.tableElem){var h=PXMenu.$13;__px(this).addEventHandler(this.tableElem,"mouseover",h);__px(this).addEventHandler(this.tableElem,"mouseout",h);__px(this).addEventHandler(this.tableElem,"mousedown",h);__px(this).addEventHandler(this.tableElem,"mouseup",h);__px(this).addEventHandler(this.tableElem,"selectstart",h);__px(this).addEventHandler(this.tableElem,"contextmenu",h);}};PXMenuItems.prototype.getVisible=function(){return this.element.style.display!="none";};PXMenuItems.prototype.setVisible=function($h){if(this.getVisible()==$h)return;var e=this.element,es=this.element.style;if($h){es.zIndex=12000;if(__px(this).IsIE&&es.filter!=null)this.menu.expandEffects.setFilter(this.element,true);else es.display="";if(this.horizontal)es.width=this.tableElem.offsetWidth+"px";else this.$14();}else{if(this.activeItem)this.activeItem.setActive(false);es.display="none";}};PXMenuItems.prototype.$14=function(){var $s=this.tableElem.className,e=this.element;var $H=(this.menu.menuStyle==2||this.level>0);if(!$H||($s&&$s.indexOf("auto-size")>=0))return;var $I=this.tableElem.childNodes,$J=0;for(var i=0;i<$I.length;i++)if($I[i].offsetWidth>$J)$J=$I[i].offsetWidth;e.style.width=__px(this).getStyleWidth(e,$J)+"px";this.tableElem.className+=" auto-size";};PXMenuItems.prototype.$15=function(){var $H=(this.menu.menuStyle==2||this.level>0);if($H)this.tableElem.className=this.tableElem.className.replace(" auto-size","");};PXMenuItems.prototype.setPosition=function(X,Y,$K){this.$16();var e=this.element,de=__doc(this).documentElement,se=__px(this).getDocScrollElem();if($K){var $L=de.clientWidth,$M=de.clientHeight;var $N=se.scrollTop,$O=se.scrollLeft;var $P=(e.style.display=="none");if($P){e.style.top="-999px";e.style.display="";};this.$14();var $Q=e.offsetWidth,$R=e.offsetHeight;if($P)e.style.display="none";if((X+$Q)>($L+$O))X=$L-$Q+$O;if(X<$O)X=$O;if((Y+$R)>($M+$N))Y=$M-$R+$N;if(Y<$N)Y=$N;};e.style.left=X+"px";e.style.top=Y+"px";};PXMenuItems.prototype.getItemID=function($S){var id=[this.menu.ID,"item"];if(this.parentItem!=null)id.push(this.parentItem.hashCode());id.push($S.toString());return id.join("_");};PXMenuItems.prototype.hasOpenSubMenu=function(){var i=this.activeItem;return i!=null&&i.hasChild&&i.childItems.getVisible();};PXMenuItems.prototype.nextItem=function(){var i=this.activeItem?(this.activeItem.index+1):0,$g;if(i>=this.length)i=0;do{$g=this.getItem(i);}while(++i<this.length&&!this.$17($g));return $g;};PXMenuItems.prototype.prevItem=function(){var i=this.activeItem?(this.activeItem.index-1):this.length,$g;if(i<0)i=this.length-1;do{$g=this.getItem(i);}while(--i>=0&&!this.$17($g));return $g;};PXMenuItems.prototype.firstItem=function(){var i=0,$g;do{$g=this.getItem(i);}while(++i<this.length&&!this.$17($g));return $g;};PXMenuItems.prototype.lastItem=function(){var i=this.length-1,$g;do{$g=this.getItem(i);}while(--i>=0&&!this.$17($g));return $g;};PXMenuItems.prototype.$17=function($g){return $g&&$g.getVisible()&&$g.getEnabled();};PXMenuItems.prototype.getItem=function($S){if($S<0||$S>=this.length)return null;if($S>=this.items.length)this.items[this.length-1]=null;if(!this.items[$S]){var $b=__px(this).elemByID(this.getItemID($S));if($b)this.items[$S]=new PXMenuItem($b,this,$S);};return this.items[$S];};PXMenuItems.prototype.getItemByCommand=function($T){if(this.$18==null)this.$18=new Object();if(this.$18[$T]==null){for(var i=0;i<this.length;i++){var $g=this.getItem(i);if($g&&$g.commandName==$T){this.$18[$T]=$g;break;}}};return this.$18[$T];};PXMenuItems.prototype.calcPosition=function($b,$n){var e=this.element,de=__doc(this).documentElement,$U=e.offsetParent;var $L=de.clientWidth,$M=de.clientHeight,se=__px(this).getDocScrollElem();var $O=se.scrollLeft,$N=se.scrollTop,$P=(e.style.display=="none");this.$16();if($P)e.style.display="";this.$14();this.ensureScroller($M);var $Q=e.offsetWidth,$R=e.offsetHeight;if($P)e.style.display="none";var $V=0,$W=0;if(!$n){var $X=__px(this).getElemLeftPos($b,$U);$V=$X+$b.offsetWidth;$W=__px(this).getElemTopPos($b,$U);if(($V+$Q)>($L+$O))$V=$X-$Q;}else if($n==2){var $Y=__px(this).getDropDownPos($b,e,2,true);$V=$Y.left;$W=$Y.top;}else{var $Y=__px(this).getDropDownPos($b,e,2);$V=$Y.left;$W=$Y.top;};this.setPosition($V,$W,true);};PXMenuItems.prototype.ensureScroller=function($Z){if(this.tableElem.offsetHeight>($Z-4)){var e=this.element,$00=this.scroller;var $01=e.offsetHeight-__px(this).getStyleHeight(e);if($00==null)this.scroller=$00=new PXMenuScroller(this);$00.show();$00.setScrollHeight($Z-$00.getScrollDivsHeight()-$01);}else{if(this.scroller)this.scroller.hide();}};PXMenuItems.prototype.removeItem=function($02){var $g=null,$03=null;if(typeof($02)=="number")$g=this.getItem($02);else $g=this.getItemByCommand($02);if($g){var $S=$g.index;$03=new Object();$03.text=$g.getText();$03.value=$g.value;$03.image=$g.images.normal;$03.imageD=$g.images.disabled;$03.enabled=$g.getEnabled();$03.checkGroup=$g.checkGroup;$03.checkBox=$g.showCheckBox;$03.checked=$g.checked;this.tableElem.removeChild($g.element);if($g.childItems){var $04=$g.childItems.element;$04.parentNode.removeChild($04);};for(var i=$S+1;i<this.length;i++){var mi=this.getItem(i);if(mi){mi.index=i-1;mi.element.id=this.getItemID(i-1);}};this.items.splice($S,1);this.length--;this.$15();if($g.commandName&&this.$18)delete this.$18[$g.commandName];};return $03;};PXMenuItems.prototype.insertItemFromStore=function($S,sp){var $g=this.insertItem($S,sp.text,sp.image,sp.imageD,sp.enabled,sp.checkBox,sp.checked);$g.value=sp.value;$g.checkGroup=sp.checkGroup;return $g;};PXMenuItems.prototype.clear=function(){if(this.length>0){var $I=this.tableElem.childNodes;while($I.length)this.tableElem.removeChild($I[0]);this.items.length=this.length=0;this.$15();}};PXMenuItems.prototype.refresh=function($f){this.clear();for(var i=0;i<$f.length;i++){var ip=$f[i],im=ip.images,$g;$g=this.insertItem(i,ip.text,im?im.normal:null,im?im.disabled:null,ip.enabled,ip.showCheckBox,ip.checked);__px_cm(this).readProperties($g,ip,PXMenuItem.properties);}};PXMenuItems.prototype.insertItem=function($S,$A,$05,$06,$C,$07,$08,$09){if($S<0||$S>this.length)$S=this.length;if($C==null)$C=true;var $0a=($S==0)?this.tableElem.childNodes[0]:null;for(var i=this.length-1;i>=$S;i--){var mi=this.getItem(i);if(mi){mi.index=i+1;if($S>0)$0a=mi.element;mi.element.id=this.getItemID(i+1);}};var $0b=$C?PXMenuStyle.MenuItem:PXMenuStyle.ItemDisabled;var $s=this.menu.$0W(this.level,$0b);if($07&&$08){var $0c=this.menu.$0W(this.level,PXMenuStyle.ItemChecked);if($0c)$s+=" "+$0c;};var $0d=PXMenuItems.$19(this.tableElem,this.getItemID($S),$s,$0a);if($05||$07){var $e="",$0e=false;if($05&&(!$07||!this.menu.renderCheckImage))$e=(!$C&&$06)?$06:$05;else if(this.menu.renderCheckImage){var $0f=$08?PXMenuImage.Checked:PXMenuImage.Unchecked;$0e=true;$e=this.menu.$0O(this.level,$0f);};if($e){var im=this.$1a($e);if($0e)im.setAttribute("check",1);$0d.appendChild(im);}};var $0g=__doc(this).createElement("div");$0g.className=this.menu.$0W(this.level,PXMenuStyle.Spacer);$0d.appendChild($0g);if($09){$0g.appendChild(__doc(this).createTextNode($A));}else{var $0h=__doc(this).createElement("nobr");$0g.appendChild($0h);$0h.appendChild(__doc(this).createTextNode($A));};var $c=new Object();$c.showCheckBox=$07;$c.checked=$08;$c.images=new Object();$c.images.normal=$05;$c.images.disabled=$06;var $g=new PXMenuItem($0d,this,$S,$c);this.items.splice($S,0,$g);this.length++;this.$15();$g.setEnabled($C);$g.contentElem=$0h;return $g;};PXMenuItems.prototype.$16=function(){var e=this.element;if(e.parentNode!=__win(this).theForm){e.style.left=e.style.top="-999px";__win(this).theForm.appendChild(e);}};PXMenuItems.prototype.$1a=function($e){var $0i=__px_cm(this).createSpriteOrImage(null,$e);if($0i.tagName=="IMG"){$0i.style.borderWidth="0px";$0i.align="left";$0i.className="menuImage";};return $0i;};PXMenuItems.$19=function($0j,id,$s,$0a){var li=__doc($0j).createElement("li");li.id=id;li.className=$s;if($0a)$0j.insertBefore(li,$0a);else $0j.appendChild(li);return li;};function PXMenuItem($b,$f,$S,$c){this.px_context=$f.menu.px_context;this.element=$b;this.collection=$f;this.level=$f.level;this.index=$S;var $o=$f.menu,$0k=this.hashCode();if($c==null&&$o.props.items)$c=$o.props.items["i"+$0k];__px_cm(this).readProperties(this,$c);var $0l=$b.childNodes[0],im=this.images;if(__px_cm(this).isSpriteOrImage($0l)&&!$0l.getAttribute("subMenu")){if(!im.hover)im.hover=im.normal;if(!im.disabled)im.disabled=im.normal;this.elemImage=$0l;};this.childID=$o.ID+"_itemsDiv_"+$0k;var $04=__px(this).elemByID(this.childID);if($04!=null){this.hasChild=true;this.childItems=new PXMenuItems($04,$o,this);}else this.hasChild=false;this.$10();$b.object=this;};PXMenuItem.properties=[["text",JSType.String,""],["enabled",JSType.Bool,true],["autoPostBack",JSType.Bool,null],["navigateUrl",JSType.String,""],["accessKey",JSType.Int,0],["openFrameset",JSType.Bool,false],["target",JSType.String,""],["value",JSType.String,""],["commandSourceID",JSType.String,""],["commandName",JSType.String,""],["commandArgument",JSType.String,""],["dependOnGrid",JSType.String,""],["popupPanel",JSType.String,""],["syncText",JSType.Bool,false],["syncVisible",JSType.Bool,true],["itemCss",JSType.String,""],["showCheckBox",JSType.Bool,null],["checked",JSType.Bool,false],["checkGroup",JSType.String,""],["images",JSType.Object,null],["autoCallBack",JSType.Object,PXCallbackManager.settingsDesc],["popupCommand",JSType.Object,PXCallbackManager.settingsDesc]];PXMenuItem.callbackProps=[["visible",JSType.Bool,true,"setVisible"],["enabled",JSType.Bool,true,"setEnabled"]];PXMenuItem.prototype.hashCode=function(){var ar=new Array();ar[0]=this.index;var pr=this.collection.parentItem;while(pr){ar[ar.length]=pr.index;pr=pr.collection.parentItem;};ar=ar.reverse();return ar.join("_");};PXMenuItem.prototype.$10=function(){if(this.dependOnGrid&&__px_all(this)[this.dependOnGrid]){var $F=this.linkedGrid=__px_all(this)[this.dependOnGrid];this.setEnabled(this.getCommandState());if(!$F.menuAttached){var $o=this.collection.menu;var h=Function.createDelegate($o,$o.$12);$F.menuAttached=true;$F.events.addEventHandler("afterRepaint",h);}}};PXMenuItem.prototype.scrollToView=function(){__px(this).scrollToView(this.collection.element,this.element);};PXMenuItem.prototype.getCommandState=function(){var $o=this.collection.menu,$z=null;if($o.cmdState){var $T=this.commandName,cs=this.autoCallBack;if(cs&&cs.enabled&&cs.command)$T=cs.command;$z=$o.cmdState[$T];};if(this.linkedGrid){var $0m=(this.linkedGrid.rows.length>0);if($z==null||$z==true)$z=$0m;};return $z;};PXMenuItem.prototype.getVisible=function(){return this.element.style.display!="none";};PXMenuItem.prototype.setVisible=function($h){var s=($h?"":"none");this.element.style.display=s;var $U=this.element.parentNode;if($U!=null&&$U.tagName=="TR")$U.style.display=s;};PXMenuItem.prototype.getEnabled=function(){return __px(this).getEnabled(this.element);};PXMenuItem.prototype.setEnabled=function($i){if(this.getEnabled()!=$i){__px(this).setEnabled(this.element,$i);this.$1b(false);}};PXMenuItem.prototype.getText=function(){return __px(this).getElemText(this.element);};PXMenuItem.prototype.setText=function(v){__px(this).setElemText(this.element,v,false);};PXMenuItem.prototype.getTooltip=function(){return __px(this).getTitle(this.element);};PXMenuItem.prototype.setTooltip=function(v){__px(this).setTitle(this.element,v);};PXMenuItem.prototype.getChecked=function(){return this.checked;};PXMenuItem.prototype.setChecked=function($08,$0n){if(this.showCheckBox&&this.getChecked()!=$08){var $o=this.collection.menu;if($08){this.checked=true;if(this.checkGroup&&!$0n){var $f=this.collection;for(var i=0;i<$f.length;i++){var mi=$f.getItem(i);if(mi&&mi!=this&&mi.checkGroup==this.checkGroup)mi.setChecked(false);}}}else this.checked=false;if($o.renderCheckImage){var $e=$o.$0O(this.level,this.checked?PXMenuImage.Checked:PXMenuImage.Unchecked);__px_cm(this).repaintImage(this.elemImage,$e);};var $0c=$o.$0W(this.level,PXMenuStyle.ItemChecked);if($0c)this.$1b();}};PXMenuItem.prototype.$1c=function(){var $f=this.collection,$0o=$f.length;var $0p=$f.lastSelected?$f.lastSelected.index:0;var $0q=Math.min(this.index,$0p),end=Math.max(this.index,$0p);for(var i=0;i<$0o;i++){var $g=$f.getItem(i);if($g.showCheckBox)$g.setChecked($g.index>=$0q&&$g.index<=end,true);}};PXMenuItem.prototype.exec=function(e){var $f=this.collection,$o=$f.menu,$0r=e&&$o.multiSelect;if(this.showCheckBox){var $0s=new Object();$0s.item=this;$0s.checked=this.getChecked();if($o.fireEvent("itemCheck",e,$0s)){__px(this).cancelEvent(e);return;};if($0r&&e.shiftKey)this.$1c();else{this.setChecked(!this.getChecked(),$0r&&e.ctrlKey);$f.lastSelected=$0r?this:null;}};var $0s=new Object();$0s.item=this;if($o.fireEvent("itemClick",e,$0s)){__px(this).cancelEvent(e);return;};var $0t=(this.level>0||$o.menuStyle==2);if($0t)$o.setActive(false);var ev=$o.events.eventArgs,$0u=this.autoPostBack;if($0u==null)$0u=$o.$0Z(this.level);var $v=this.commandSourceID,cs=this.autoCallBack;if(!$v)$v=$o.commandSourceID;if(this.navigateUrl){if(!ev.cancelPostBack){if(this.popupPanel){var $0v=__px_all(this)[this.popupPanel];if($0v.getVisible()&&this.navigateUrl==$0v.getPageUrl())$0v.hide();else{$0v.setPageUrl(this.navigateUrl);$0v.show($o.linkedButton?$o.linkedButton:$o);}}else{var $0w=(e.shiftKey||e.ctrlKey);__px(this).openUrl(this.navigateUrl,this.target,$0w||this.openFrameset);}}}else if($0u){if(!ev.cancelPostBack){var name=$o.element.getAttribute("name");__px(this).doPost(name,"click|"+(this.value?("val|"+this.value):this.element.id));}}else if(cs&&cs.enabled&&cs.command){e.openFrameset=this.openFrameset;ev.event=e;if(!ev.cancelCallBack)__px_callback(this).exec($o,this.autoCallBack,this.popupCommand);}else if($v&&this.commandName){var $w=__px_all(this)[$v];if($w&&$w.executeCommand){$w.sourceEvent=e;$w.executeCommand(this.commandName,this.commandArgument,this.popupCommand);}};if(this.popupPanel&&!$0u&&!this.navigateUrl){var $0v=__px_all(this)[this.popupPanel];if($0v){if(!$0v.getVisible()){$0v.closeCallback=this.popupCommand;$0v.show($o.linkedButton?$o.linkedButton:this);}else $0v.hide();}}};PXMenuItem.prototype.getActive=function(){return this==this.collection.activeItem;};PXMenuItem.prototype.setActive=function($0x){if(this.getActive()==$0x||!this.getEnabled())return;if($0x){var $o=this.collection.menu;if($o.$0T){clearTimeout($o.$0T);delete $o.$0T;};var $0y=this.collection.activeItem;if($0y!=null)$0y.setActive(false);this.collection.activeItem=this;this.$1b(true);}else{this.hideSubMenu(this.collection.horizontal);this.collection.activeItem=null;this.$1b(false);if(PXMenu.$1d==this)this.$1e();}};PXMenuItem.prototype.showSubMenu=function($0z){if(!this.hasChild||this.childItems.getVisible())return false;var $o=this.collection.menu;var $0A=new Object();$0A.item=this;if($o.fireEvent("subMenuShow",null,$0A))return false;var ai=$o.activeItems,$0B=PXMenu.$1f;if(ai!=null&&ai!=this.collection&&($0B==null||$0B.collection!=this.collection)){var $f=ai;while($f.level>0&&$f!=this.collection){$f.setVisible(false);$f=$f.parentItem.collection;$o.activeItems=$f;}};if(!this.collection.getVisible()){var ar=new Array(),$f=this.collection;while(!$f.getVisible()){if($f.parentItem)ar.push($f.parentItem);$f=$f.parentItem.collection;};ar.reverse();for(var i=0;i<ar.length;i++){ar[i].setActive(true);ar[i].$1g();$o.activeItems=ar[i].childItems;}};this.setActive(true);var $0C=$o.expandEffects;if($0C.delay>0&&!$0z){if(PXMenu.$1h!=null)this.$1e();if(PXMenu.$1f==this)this.$1i();PXMenu.$1d=this;PXMenu.$1h=setTimeout(function(){PXMenu.$1g();},$0C.delay);}else{this.$1g();$o.activeItems=this.childItems;};return true;};PXMenuItem.prototype.hideSubMenu=function($0z){if(!this.hasOpenSubMenu())return;if(this.childItems.activeItem!=null)this.childItems.activeItem.hideSubMenu(true);var $o=this.collection.menu,$0C=$o.expandEffects;if($0C.delay>0&&!$0z){PXMenu.$1f=this;PXMenu.$0T=setTimeout(function(){PXMenu.$1j();},$0C.delay);}else{this.childItems.setVisible(false);$o.activeItems=this.collection;}};PXMenuItem.prototype.hasOpenSubMenu=function(){return this.hasChild&&this.childItems.getVisible();};PXMenuItem.prototype.$1e=function(){if(PXMenu.$1h!=null){clearTimeout(PXMenu.$1h);PXMenu.$1h=null;PXMenu.$1d=null;}};PXMenuItem.prototype.$1i=function(){if(PXMenu.$0T!=null){clearTimeout(PXMenu.$0T);PXMenu.$0T=null;PXMenu.$1f=null;}};PXMenuItem.prototype.$1g=function(){var ch=this.childItems;if(this.hasChild&&!ch.getVisible()){var $o=this.collection.menu;if($o.cmdState){for(var i=0;i<this.childItems.length;i++){var $g=this.childItems.getItem(i);if($g&&$g.commandName){var $z=$o.cmdState[$g.commandName];if($z!=null)$g.setEnabled($z);}}};ch.calcPosition(this.element,this.collection.horizontal);ch.setVisible(true);}};PXMenuItem.prototype.$1b=function($0D){var ic=this.collection,$o=ic.menu,$s="",$0c;if(this.getEnabled()){if($0D&&ic.horizontal&&ic.autoOpenItems&&$o.styles.topSel)$s=$o.styles.topSel;else{$0b=$0D?PXMenuStyle.ItemHover:PXMenuStyle.MenuItem;$s=$o.$0W(this.level,$0b);}}else $s=$o.$0W(this.level,PXMenuStyle.ItemDisabled);if(this.showCheckBox&&this.getChecked()){$0c=$o.$0W(this.level,PXMenuStyle.ItemChecked);if($0c)$s+=" "+$0c;};if(this.itemCss)$s+=" "+this.itemCss;if(this.getActive())$s+=" active";if(this.element.className!=$s)this.element.className=$s;if(this.elemImage&&!this.showCheckBox){var $e=this.getEnabled()?($0D?this.images.hover:this.images.normal):this.images.disabled;__px_cm(this).repaintImage(this.elemImage,$e);}};function PXMenuScroller($f){this.items=$f;this.element=$f.element;this.tableElem=$f.tableElem;this.menu=$f.menu;this.active=false;this.px_context=this.menu.px_context;var $0E=__doc(this);this.scrollDiv=$0E.createElement("DIV");this.topDiv=$0E.createElement("DIV");this.bottomDiv=$0E.createElement("DIV");this.css=this.menu.$0W($f.level,PXMenuStyle.MenuItem);this.topDiv.isTop=true;this.topDiv.className=this.bottomDiv.className=this.css;this.topDiv.align=this.bottomDiv.align="center";var $e=this.menu.$0O(this.level,PXMenuImage.ScrollUp);__px_cm(this).createSpriteOrImage(this.topDiv,$e);var $e=this.menu.$0O(this.level,PXMenuImage.ScrollDown);__px_cm(this).createSpriteOrImage(this.bottomDiv,$e);this.scrollDiv.appendChild(this.tableElem);this.element.appendChild(this.scrollDiv);this.element.insertBefore(this.topDiv,this.element.firstChild);this.element.appendChild(this.bottomDiv);var h1=Function.createDelegate(this,this.$1k);var h2=Function.createDelegate(this,this.$1l);__px(this).addEventHandler(this.topDiv,"mouseover",h1,true);__px(this).addEventHandler(this.bottomDiv,"mouseover",h1,true);__px(this).addEventHandler(this.topDiv,"mouseout",h2,true);__px(this).addEventHandler(this.bottomDiv,"mouseout",h2,true);};PXMenuScroller.prototype.show=function(){this.scrollDiv.scrollTop=0;this.scrollDiv.style.overflow="hidden";this.topDiv.style.display="";this.bottomDiv.style.display="";this.active=true;};PXMenuScroller.prototype.hide=function(){this.topDiv.style.display="none";this.bottomDiv.style.display="none";this.scrollDiv.style.overflow="";this.scrollDiv.style.height="";this.active=false;};PXMenuScroller.prototype.setScrollHeight=function($0F){if($0F>=0)this.scrollDiv.style.height=$0F+"px";};PXMenuScroller.prototype.getScrollHeight=function(){return this.scrollDiv.style.height;};PXMenuScroller.prototype.getScrollDivsHeight=function(){return this.topDiv.offsetHeight+this.bottomDiv.offsetHeight;};PXMenuScroller.prototype.eventInScroll=function(e){var se=__px(this).eventElem(e);while(se&&se.className!=this.css)se=se.parentNode;return(se==this.topDiv)||(se==this.bottomDiv);};PXMenuScroller.prototype.$1k=function(e){var se=__px(this).eventElem(e);while(se&&se.className!=this.css)se=se.parentNode;if(se){var $s=this.menu.$0W(this.items.level,PXMenuStyle.ItemHover);if($s!=se.className)se.className=$s;this.scrollInc=se.isTop?-4:4;clearInterval(this.scrollProcessId);var h=Function.createDelegate(this,this.$1m);this.scrollProcessId=setInterval(h,10);}};PXMenuScroller.prototype.$1l=function(e){var se=__px(this).eventElem(e);while(se&&se.className!=this.css)se=se.parentNode;if(se){var $s=this.menu.$0W(this.items.level,PXMenuStyle.MenuItem);if($s!=se.className)se.className=$s;delete this.scrollInc;clearInterval(this.scrollProcessId);}};PXMenuScroller.prototype.$1m=function(){if(this.scrollInc==null)return;var $0g=this.scrollDiv,$0G=$0g.scrollTop;$0g.scrollTop+=this.scrollInc;var $0H=false;if($0g.scrollTop==0)$0H=true;if($0G==$0g.scrollTop&&$0G>0)$0H=true;if($0H){clearInterval(this.scrollProcessId);delete this.scrollProcessId;}};var $0I,$0J;PXMenu.$1g=function(){var $g=PXMenu.$1d;if($g==null||!($g instanceof PXMenuItem))return;var $o=$g.collection.menu;$g.$1g();$o.activeItems=$g.childItems;PXMenu.$1d=null;PXMenu.$1h=null;};PXMenu.$1j=function(){var $g=PXMenu.$1f;if($g==null||!($g instanceof PXMenuItem))return;var $o=$g.collection.menu;$g.childItems.setVisible(false);$o.activeItems=$g.collection;PXMenu.$1f=null;PXMenu.$0T=null;};PXMenu.prototype.$1n=function(){var $o=__px_all(this)[__doc(this).activeMenuID];if($o!=null)$o.setActive(false);};PXMenu.$13=function(e){var li=__px(this).eventElem(e);while(li!=null&&li.tagName!="LI")li=li.parentNode;PXMenu.$1o(e,li,__px_context(this));};PXMenu.$1o=function(e,$0K,$a){switch(e.type){case "selectstart":case "contextmenu":return __px($a).cancelEvent(e,false);};var $f=__px($a).eventObject(e,PXMenuItems),$o=$f.menu;if($0K==null||$f==null){__px($a).cancelEvent(e);return;};switch(e.type){case "mouseover":if(!$o.hasFocus)$o.focus();return $o.$1p($f,$0K,e);case "mouseout":return $o.$1l($f,$0K,e);case "mousedown":if(!__px($a).mouseLocked){if(!$o.hasFocus)$o.focus();return $o.$1q($f,$0K,e);};break;case "mouseup":if(!__px($a).mouseLocked)return $o.$1r($f,$0K,e);break;}};PXMenu.prototype.$1p=function($f,$0d,e){__px(this).cancelEvent(e);if($0d.id){var $g=this.getItemByID($0d.id);if($g==null)return;this.setActive(true);if($g.getEnabled()){if(!$g.getActive())$g.setActive(true);if($f.autoOpenItems&&$g.hasChild&&!$g.hasOpenSubMenu()){$g.showSubMenu($f.horizontal);}}else{if($f.activeItem)$f.activeItem.setActive(false);}}};PXMenu.prototype.$1l=function($f,$0d){var ai=$f.activeItem;if(ai!=null&&!ai.hasOpenSubMenu())ai.setActive(false);};PXMenu.prototype.$1q=function($f,$0d,e){this.fireEvent("beforeItemDown",e);__px(this).cancelEvent(e);if($0d.id){var $g=this.getItemByID($0d.id);if($g==null)return;if($f.horizontal&&$g.getEnabled()){if($g.hasChild){if(!$g.hasOpenSubMenu()){$f.autoOpenItems=true;$g.$1b(true);this.setActive(true);$g.showSubMenu(true);}else{$g.hideSubMenu(true);if(!this.autoOpen)$f.autoOpenItems=false;$g.$1b(true);}}}}};PXMenu.prototype.$1r=function($f,$0d,e){if(e.originalTarget&&e.originalTarget.nodeName=='A'||e.srcElement&&e.srcElement.nodeName=='A')return;if($0d.id){var $g=this.getItemByID($0d.id);if($g&&$g.getActive()){var $0u=$g.autoPostBack;if($0u==null)$0u=this.$0Z($g.level);var $0L=($g.autoCallBack&&$g.autoCallBack.enabled)||$g.commandName||$0u||$g.navigateUrl||$g.popupPanel;if($0L||!$g.hasChild)$g.exec(e);}}};PXMenu.$0R=function(e){if(!__px(this).mouseLocked){var $o=__px_all(this)[__doc(this).activeMenuID];if($o!=null){var $f=$o.activeItems;if($f.scroller&&$f.scroller.eventInScroll(e))return;$o.setActive(false);}}};PXMenu.$0S=function(e){if(!__px(this).mouseLocked){var $o=__px_all(this)[__doc(this).activeMenuID];if($o!=null&&$o.autoOpen){if($o.$0T){clearTimeout($o.$0T);delete $o.$0T;};$o.$0T=setTimeout(function(){$o.$1n();},300);}}};PXMenu.prototype.$0Q=function(e){switch(e.type){case "focus":if(this.getVisible()&&this.getEnabled())this.hasFocus=true;break;case "blur":this.hasFocus=false;break;case "keydown":this.$1s(e);break;}};PXMenu.prototype.$1s=function(e){var $02=e.keyCode,$0M,$f=this.activeItems;var $g=$f?$f.activeItem:null,$0N;switch($02){case 13:if($g){$g.exec(e);__px(this).cancelEvent(e);};break;case 35:$0M=$f?$f.lastItem():null;break;case 36:$0M=$f?$f.firstItem():null;break;case 38:$0M=$f?$f.prevItem():null;break;case 40:$0M=$f?$f.nextItem():null;break;case 37:if($g&&$g.hasOpenSubMenu()){$g.hideSubMenu(true);}else if($f){if($f.parentItem){$g=$f.parentItem;$g.hideSubMenu(true);$f=$g.collection;};if($f.horizontal){$g=$f.prevItem();$0N=true;}};break;case 39:if($g&&$g.hasChild&&!$g.hasOpenSubMenu()){$0N=true;}else if($f){while($f.parentItem)$f=$f.parentItem.collection;if($f.horizontal){$g=$f.nextItem();$0N=true;}};break;default:if($f)for(var i=0;i<$f.length;i++){$g=$f.getItem(i);if($g&&$g.accessKey==$02){if($g.hasChild)$0N=true;else $g.exec(e);__px(this).cancelEvent(e);break;}};break;};if($0N){if($g&&$g.hasChild){$g.showSubMenu(true);$0M=$g.childItems.firstItem()}else $0M=$g;};if($0M){$0M.setActive(true);__px(this).cancelEvent(e);}};



var PXTreeStyle={Leaf:0,Parent:1,Root:2,Disabled:3,Selected:4,Hover:5};var PXTreeNodeType={Leaf:0,Parent:1,Root:2};var PXTreeArea={Empty:0,Text:1,NodeImage:2,StateImage:3};var PXTreeCommand={Refresh:"Refresh",Edit:"Edit",Delete:"Delete",AddNew:"AddNew",PopuplateNode:"PopulateNode"};function PXTreeView($a,$b,$c){this.px_context=$a;this.ID=$b.id;this.element=$b;__px_cm(this).readProperties(this,$c);__px_cm(this).registerAutoSize(this,$c);var h=PXTreeView.$1h;__px(this).addEventHandler($b,"mouseover",h);__px(this).addEventHandler($b,"mouseout",h);__px(this).addEventHandler($b,"mousedown",h);__px(this).addEventHandler($b,"selectstart",h);__px(this).addEventHandler($b,"contextmenu",h);__px(this).addEventHandler($b,"click",h);__px(this).addEventHandler($b,"dblclick",h);if(__px(this).IsTablet){__px(this).addEventHandler($b,"touchstart",h);__px(this).addEventHandler($b,"touchend",h);};this.events=new PXEventList(this,PXTreeView.events,$c.clientEvents);this.viewState=new PXStateBag(this,"PXTreeView");this.$1i(true);this.callbacks=new Array();this.callbacks[0]=__px_callback(this).copyCommand("PopulateNode",this.callBackMode);this.callbacks[1]=__px_callback(this).copyCommand("Refresh",this.callBackMode);this.callbacks[2]=__px_callback(this).copyCommand("Synchronize",this.callBackMode);this.callbacks[3]=__px_callback(this).copyCommand("UpdateName",this.callBackMode);this.callbacks[4]=__px_callback(this).copyCommand("Delete",this.callBackMode);this.callbacks[5]=__px_callback(this).copyCommand("Move",this.callBackMode);if(__px(this).IsIE){var im=$b.getElementsByTagName("IMG");for(var i=0;i<im.length;i++)if(!im[i].complete)im[i].onload=PXTreeView.$1j;};var hb=this.hideBox=__px(this).elemByID(this.element.id+"_hb");if(hb){h=Function.createDelegate(this,this.$1k);__px(this).addEventHandler(hb,"click",h);};this.elemCaption=__px(this).elemByID(this.element.id+"_cap");var $d=__px(this).elemByID(this.element.id+"_tlb");if($d)this.toolBar=__px_cm(this).createControl("PXToolBar",$d.id);if(this.allowDragDrop){this.$1l=Function.createDelegate(this,this.$1m);this.$1n=Function.createDelegate(this,this.$1o);this.$1p=Function.createDelegate(this,this.$1q);this.$1r=Function.createDelegate(this,this.$1s);this.$1t=Function.createDelegate(this,this.$1u);__px(this).addEventHandler(this.element,"dragover",this.$1n);__px(this).addEventHandler(this.element,"dragenter",this.$1p);__px(this).addEventHandler(this.element,"dragleave",this.$1r);__px(this).addEventHandler(this.element,"drop",this.$1t);__px(this).addEventHandler(this.element,"dragstart",this.$1l);if(this.dragSources)__px_cm(this).registerRequiresOnLoad(this,$b.id);}};PXTreeView.prototype.onLoad=function(){if(this.allowDragDrop&&this.dragSources){var ds=this.dragSources.split(',');for(var i=0;i<ds.length;i++){var $e=__px_alls(this)[ds[i]],$b;if($e==null)$b=__px(this).elemByID(ds[i]);else $b=$e.element;if($b)__px(this).addEventHandler($b,"dragstart",this.$1l);}}};PXTreeView.prototype.$1i=function($f){if(this.data){var $g={'id':this.ID,'nodes':this.data,'level':0};ReactDOM.unmountComponentAtNode(this.element);ReactDOM.render(React.createElement(PXTreeView.ReactNodesList,$g),this.element);};var $h=__px(this).elemByID(this.element.id+"_root"),sn;if($h){this.rootNode=new PXTreeNode($h,this);this.nodes=this.rootNode.childNodes;this.nodesContainer=$h.parentNode;}else{var $i=__px(this).elemByID(this.element.id+"_nodes");if($i){this.nodes=new PXTreeNodes($i,this);this.nodesContainer=$i.parentNode;}};if(this.selectedNodeKey){sn=this.find(this.selectedNodeKey,false);if(sn)this.selectedNodeID=sn.element.ID;delete this.selectedNodeKey;}else sn=this.getNodeByID(this.selectedNodeID);if(sn){this.selectedNode=sn;sn.$1v();sn.$1w();sn.ensureVisible();if(this.selectFirstNode&&!$f){var cs=this.autoCallBack,me;if(cs&&cs.enabled&&cs.command){var $j=__px_callback(this),$k=cs.suppressOnReload&&$j.isReloadPage;if(!$k)setTimeout(function(){$j.exec(me,cs);},1);}}}};PXTreeView.$1j=function(){var e=this.parentNode;while(e&&e.tagName!="UL")e=e.parentNode;if(e){var $l=e.parentNode,$m=e.nextSibling;$l.removeChild(e);$l.insertBefore(e,$m);};this.onload=null;};PXTreeView.stylesDesc=[["root",JSType.String,""],["leaf",JSType.String,""],["parent",JSType.String,""],["hover",JSType.String,""],["disabled",JSType.String,""],["selected",JSType.String,""]];PXTreeView.imagesDesc=[["collapse",JSType.String,"tree@Collapse"],["expand",JSType.String,"tree@Expand"],["collapseL",JSType.String,"tree@CollapseL"],["expandL",JSType.String,"tree@ExpandL"],["leaf",JSType.String,"tree@Leaf"],["leafD",JSType.String,"tree@LeafD"],["leafS",JSType.String,"tree@LeafS"],["parent",JSType.String,"tree@Folder"],["parentD",JSType.String,"tree@FolderD"],["parentS",JSType.String,"tree@FolderS"],["root",JSType.String,"tree@Root"],["rootD",JSType.String,"tree@RootD"],["rootS",JSType.String,"tree@RootS"],["noExpand",JSType.String,"tree@NoExpand"]];PXTreeView.levelDesc=[["target",JSType.String,""],["styles",JSType.Object,PXTreeView.stylesDesc],["images",JSType.Object,PXTreeView.imagesDesc]];PXTreeView.properties=[["showLines",JSType.Bool,true],["showNodeImages",JSType.Bool,true],["showDefaultImages",JSType.Bool,true],["fastExpand",JSType.Bool,false],["exclusiveExpand",JSType.Bool,false],["allowDragDrop",JSType.Bool,false],["autoGrow",JSType.Bool,false],["maxGrowWidth",JSType.Int,640],["maxGrowHeight",JSType.Int,480],["target",JSType.String,""],["selectFirstNode",JSType.Bool,false],["selectedNodeID",JSType.String,""],["styles",JSType.Object,PXTreeView.stylesDesc],["images",JSType.Object,PXTreeView.imagesDesc],["levels",JSType.Array,PXTreeView.levelDesc],["callBackMode",JSType.Object,PXCallbackManager.commandDesc],["autoCallBack",JSType.Object,PXCallbackManager.settingsDesc],["selectOnMouseDown",JSType.Bool,false],["contextMenuID",JSType.String,""],["searchUrl",JSType.String,""],["allowEdit",JSType.Bool,false],["allowDelete",JSType.Bool,false],["allowAddNew",JSType.Bool,false],["dataSourceID",JSType.String,""],["dragSources",JSType.String,""],["preserveExpanded",JSType.Bool,false],["dataSourceUrl",JSType.String,""],["startNodePath",JSType.String,""]];PXTreeView.events={$initialize:0,$beforeSelect:1,$afterSelect:2,$nodeClick:3,$nodeCheck:4,$beforeExpand:5,$afterExpand:6,$beforeCollapse:7,$afterCollapse:8,$keyDown:9,$dragDrop:10,$beforeDrop:11,$afterDrop:12,$afterNodeMove:13,$afterSync:14,$afterRefresh:15};PXTreeView.prototype.getVisible=function(){return this.element.style.display!="none";};PXTreeView.prototype.setVisible=function($n){this.element.style.display=($n?"":"none");};PXTreeView.prototype.getEnabled=function(){return !this.element.getAttribute("disabled");};PXTreeView.prototype.setEnabled=function($o){this.element.disabled=!$o;this.viewState.update("Enabled",$o);};PXTreeView.prototype.focus=function(){__px_cm(this).setFocus(this,this.$1x);};PXTreeView.prototype.fireEvent=function(id,ev,$p){return this.events.fireEvent(id,ev,$p);};PXTreeView.prototype.setHeight=function($q){var e=this.element,$r=this.nodesContainer;var h=__px(this).getStyleHeight(e,parseInt($q));if($r!=e){h-=(e.offsetHeight-$r.offsetHeight);e.style.height="";};$r.style.height=(h>0?h:0)+"px";};PXTreeView.prototype.getNodeByID=function(id){if(!id||id.length<=(this.ID.length+1))return null;id=id.substr(this.ID.length+1);var $s=null;if(id=="root")$s=this.rootNode;else{var ar=id.split("_"),$t=this.nodes;if($t)for(var i=1;i<ar.length;i++){$s=$t.getNode(parseInt(ar[i]));if($s&&$s.hasChild&&i<(ar.length-1))$t=$s.childNodes;else if(i<(ar.length-1)){$s=null;break;}}};return $s;};PXTreeView.prototype.find=function($u,$v){return this.findNode(this.nodes,$u,true,$v);};PXTreeView.prototype.findNode=function($t,$u,$w,$v){var $x;if($t==null)return null;for(var i=0;i<$t.length;i++){$x=$t.getNode(i);if((!$v&&$x.dataPath==$u)||($v&&$x.value==$u))return $x;if($w&&$x.hasChild){$x=this.findNode($x.childNodes,$u,true,$v);if($x!=null)return $x;}};return null;};PXTreeView.prototype.renderPath=function($y,id,$s,$z,$A){if($s==null)$s=this.selectedNode;if($s!=null){var $g={'id':id,'node':$s,'css':$z,'wiki':$A};ReactDOM.render(React.createElement(PXTreeView.ReactPath,$g),$y);}};PXTreeView.prototype.firstNode=function(){var n=this.rootNode?this.rootNode:this.nodes.getNode(0);if(n&&!n.getEnabled())n=n.nextVisible();return n;};PXTreeView.prototype.lastNode=function(){var n=null;if(this.rootNode&&!this.rootNode.getExpanded())n=this.rootNode;else{n=this.nodes.getNode(this.nodes.length-1);while(n&&n.hasChild&&n.getExpanded())n=n.childNodes.getNode(n.childNodes.length-1);if(n&&!n.getEnabled())n=n.prevVisible();};return n;};PXTreeView.prototype.clearSelection=function(){var $s=this.selectedNode;if($s){this.selectedNode=null;$s.$1w();$s.$1y();}};PXTreeView.prototype.refresh=function($B){if(this.dataSourceUrl&&window.$!=null){var $C=this.dataSourceUrl,me=this,sn=this.selectedNode;if(this.startNodePath)$C+='/'+this.startNodePath;if($B||sn)$C+='?selected='+($B?$B:sn.dataPath);$.getStd($C,function($D,$E,$F){me.data=$D;me.selectedNodeKey=$B;me.$1i(true);me.fireEvent("afterRefresh",null);});}else{var $G=Function.createDelegate(this,this.$1z);__px_callback(this).execI(this,this.callbacks[1],"",$G);}};PXTreeView.prototype.$1z=function($H,$a){var $I=__px_all(this)[$a];if($H&&$I){$I.processRefresh($H);$I.fireEvent("afterRefresh",null);}};PXTreeView.prototype.setActiveNode=function($s){var an=this.activeNode,$J=an;if(an&&an!=$s){an.elemLI.className=__px(this).excludeCss(an.elemLI,["active"]);if($s==null||an.parentNode!=$s.parentNode){while((an=an.parentNode)!=null)an.elemLI.className=__px(this).excludeCss(an.elemLI,["containsActive"]);}};this.activeNode=an=$s;if($s){an.elemLI.className=__px(this).appendCss(an.elemLI,["active"]);while((an=an.parentNode)!=null)an.elemLI.className=__px(this).appendCss(an.elemLI,["containsActive"]);}};PXTreeView.prototype.minimize=function(){if(this.$1A!=null)return;var $K=20;if(this.hideBox!=null){if(this.hideImage==null){var $t=this.hideBox.childNodes;for(var i=0;i<$t.length;i++)if(__px_cm(this).isSpriteOrImage($t[i])){this.hideImage=$t[i];break;}};if(this.hideImage!=null)__px_cm(this).repaintImage(this.hideImage,"control@ShowFrame");var n=this.hideBox.previousSibling;while(n){if(n.style)n.style.display="none";n=n.previousSibling;};$K=this.hideBox.offsetWidth;$K+=__px(this).getWidthDelta(this.hideBox.parentNode);};if(this.rootNode)this.rootNode.element.style.display="none";if(this.nodes)this.nodes.element.style.display="none";if(this.toolBar)this.toolBar.element.style.display="none";this.$1B=this.element.style.width;this.$1A=this.element.offsetWidth;this.element.style.width=$K+"px";this.$1C($K,true);};PXTreeView.prototype.restore=function(){if(this.$1A==null)return;if(this.hideBox!=null){if(this.hideImage!=null)__px_cm(this).repaintImage(this.hideImage,"control@HideFrame");var n=this.hideBox.previousSibling;while(n){if(n.style)n.style.display="";n=n.previousSibling;}};if(this.rootNode)this.rootNode.element.style.display="";if(this.nodes)this.nodes.element.style.display="";if(this.toolBar)this.toolBar.element.style.display="";this.element.style.width=this.$1B;this.$1C(this.$1A);delete this.$1B;delete this.$1A;};PXTreeView.prototype.$1C=function($K,$L){var n=this.element,$M;do{n=n.parentNode;$M=n.object;if($M&&$M.notifyMinimize)$L?$M.notifyMinimize(this,$K):$M.notifyRestore(this,$K);}while(n.object==null);};PXTreeView.prototype.isMinimized=function(){return this.$1A!=null;};PXTreeView.prototype.populateNode=function($s,$B,$N){if(this.dataSourceUrl&&window.$!=null){var $C=this.dataSourceUrl+'/'+$s.dataPath,me=this;if($B)$C+='?selected='+$B;$.getStd($C,function($D,$E,$F){me.$1D($D,$s);});}else{var $a=new Object();$a.id=this.ID;$a.node=$s;$a.nodeToAdd=$N;var $O=new Array(),$l=$s;while($l!=null){$O.push($l);$l=$l.parentNode;};$O.reverse();var $P=$s.hashCode(),$Q=$s.dataBound?1:0;var $R=[$P,$Q,$s.dataPath];if($s.childElem)this.$1E($s.childNodes);var $G=Function.createDelegate(this,this.$1F);__px_callback(this).execI(this,this.callbacks[0],$R.join("|"),$G,$a);}};PXTreeView.prototype.$1D=function($D,$s){var n=$s,e=n.element;if(e.parentNode==null)return;var $S=__doc(this).createElement("div");var $g={'id':this.ID,'hash':n.hashCode(),'nodes':$D,'level':n.level+1};ReactDOM.render(React.createElement(PXTreeView.ReactNodesList,$g),$S);this.$1G($S,n);};PXTreeView.prototype.$1F=function($H,$a){var $I=__px_all(this)[$a.id];this.viewState.remove("ExpandedNodes");if($H){var n=$a.node,e=n.element,$T=$a.nodeToAdd;if(e.parentNode==null)return;var $S=__doc(this).createElement("div");var ar=$H.split('|'),$U=ar[0];ar.splice(0,1);$S.innerHTML=ar.join('|');this.$1G($S,n,$U);if($T)$T.move(n,null);}};PXTreeView.prototype.$1G=function($S,n,$U){var e=n.element;if(__px_tm(this))__px_tm(this).register($S);if(n.childElem)e.parentNode.replaceChild($S.firstChild,n.childElem);else e.parentNode.insertBefore($S.firstChild,e.nextSibling);n.$1H();if(n.childElem){n.childElem.style.display="";n.$1I();n.ensureChildVisible();if(n==this.rootNode)this.nodes=n.childNodes;this.adjustSizeToFitNode(n);};if($U&&$U.startsWith(n.element.id)){var sn=this.getNodeByID($U);if(sn){this.selectedNode=sn;sn.$1v();}};n.populated=true;var $V=new Object();$V.node=n;this.fireEvent("afterExpand",null,$V);};PXTreeView.prototype.$1J=function($t,$W){if($t!=null)for(var i=0;i<$t.length;i++){var n=$t.getNode(i);if(n.getExpanded())$W.push(n.dataKey);if(n.hasChild)this.$1J(n.childNodes,$W);};return null;};PXTreeView.prototype.$1E=function($t){var $W=new Array();this.$1J($t,$W);this.viewState.update("ExpandedNodes",$W.join(';'));};PXTreeView.prototype.adjustAutoGrowSize=function($X){if(!this.autoGrow)return;if($X==null){$X=this.rootNode;this.adjustHeightToFitNodes();if($X==null){for(var i=0;i<this.nodes.length;i++)this.adjustAutoGrowSize(this.nodes.getNode(i));return;}};if($X.childNodes==null||$X.childNodes.length==0){this.adjustWidthFromNode($X);return;};for(var i=0;i<$X.childNodes.length;i++)this.adjustAutoGrowSize($X.childNodes.getNode(i));this.adjustWidthFromNode($X);};PXTreeView.prototype.adjustHeightToFitNodes=function(){var $r=this.nodesContainer;if(this.nodes.element.offsetHeight>$r.offsetHeight){if(this.nodes.element.offsetHeight>=this.maxGrowHeight)$r.style.height=this.maxGrowHeight+"px";else $r.style.height=(this.nodes.element.offsetHeight+37)+"px";}};PXTreeView.prototype.adjustWidthFromNode=function($s){if($s.element.clientWidth>this.element.clientWidth){if($s.element.clientWidth>=this.maxGrowWidth)this.element.style.width=this.maxGrowWidth+"px";else this.element.style.width=($s.element.clientWidth+17)+"px";}};PXTreeView.prototype.adjustSizeToFitNode=function($X){if(this.autoGrow){this.adjustHeightToFitNodes();for(i=0;i<$X.childNodes.length;i++){var $s=$X.childNodes.getNode(i);this.adjustWidthFromNode($s);}}};PXTreeView.prototype.getLocalMenu=function(){if(this.localMenu==null){var $Y=this.ID+"_menu",$b=__px(this).elemByID($Y);this.localMenu=__px_all(this)[$Y];if(!this.localMenu&&$b){if($b.parentNode!=__win(this).theForm)__win(this).theForm.appendChild($b);this.localMenu=__px_cm(this).createControl("PXMenu",$Y);if(this.localMenu){__px_all(this)[$Y]=this.localMenu;this.localMenu.onLoad();var h=Function.createDelegate(this,this.$1K);this.localMenu.events.addEventHandler("itemClick",h);}}};return this.localMenu;};PXTreeView.prototype.getContextMenu=function(){var $Z=null;if(this.contextMenuID){$Z=__px_all(this)[this.contextMenuID];if($Z){var $b=$Z.element;if($b&&$b.parentNode!=__win(this).theForm)__win(this).theForm.appendChild($b);}};return $Z;};PXTreeView.prototype.$1K=function($Z,ev){var $00=false,$s=this.selectedNode;switch(ev.item.commandName){case "open":case "openTab":if($s&&$s.navigateUrl){var $01=$s.target?$s.target:this.$1L($s.level);__px(this).openUrl($s.navigateUrl,$01,ev.item.commandName=="openTab");$s.activate();};break;};if($00){ev.cancel=true;$Z.setActive(false);};if(!this.hasFocus)this.focus();};PXTreeView.prototype.$1M=function($02,$03){var $M=this.$1N($02),$z="";switch($03){case PXTreeStyle.Leaf:$z=$M.styles.leaf;break;case PXTreeStyle.Parent:$z=$M.styles.parent;break;case PXTreeStyle.Root:$z=$M.styles.root;break;case PXTreeStyle.Disabled:$z=$M.styles.disabled;break;case PXTreeStyle.Selected:$z=$M.styles.selected;break;case PXTreeStyle.Hover:$z=$M.styles.hover;break;};if($02>=0&&!$z)$z=this.$1M(-1,$03);return $z;};PXTreeView.prototype.$1O=function($02,$04){var $M=this.$1N($02);var im=$M.images[$04];if($M!=this&&!im)im=this.$1O(-1,$04);return im;};PXTreeView.prototype.$1L=function($02){var $M=this.$1N($02);return $M.target?$M.target:this.target;};PXTreeView.prototype.$1N=function($02){var $M=this;if(this.levels!=null&&($02>=0&&$02<this.levels.length))$M=this.levels[$02];return $M;};PXTreeView.prototype.$1P=function(se){var $05=PXTreeArea.Empty,e=se;while(e!=null&&e!=this.element){if(e.tagName=="SPAN"){$05=PXTreeArea.Text;break;}else if(__px_cm(this).isSpriteOrImage(e)){var it=e.getAttribute("data-type");if(it)$05=(it=="N")?PXTreeArea.NodeImage:PXTreeArea.StateImage;break;};e=e.parentNode;};return $05;};PXTreeView.prototype.$1Q=function($02,$06,$t){if($t==null)$t=this.nodes;if($t.level>$02)return;for(var i=0;i<$t.length;i++){var n=$t.getNode(i);if(!n.hasChild)continue;if($t.level<$02)this.$1Q($02,$06,n.childNodes);else if(n!=$06&&n.getExpanded()&&!n.containsActive())n.collapse();}};PXTreeView.prototype.processRefresh=function($07){if($07){var $08=new PXXmlDoc("",$07),$09=false;var $U=$08.rootNode.getAttribute("SelectedNodeID");if(this.nodes)$09=!this.nodes.getVisible();if($U)this.selectedNodeID=$U;this.nodesContainer.innerHTML=$08.rootNode.childNodes[0].nodeValue;this.$1i(!__px_callback(this).isReloadPage);if(__px_tm(this))__px_tm(this).register(this.element);this.dataChanged=false;if($09&&this.nodes)this.nodes.setVisible(false);}};PXTreeView.prototype.getDataChanges=function(){return "";};PXTreeView.prototype.getChanged=function(){return this.dataChanged;};PXTreeView.prototype.executeCallback=function($0a,$0b){switch($0a){case PXTreeCommand.Refresh:case PXTreeCommand.Edit:case PXTreeCommand.Delete:this.executeCommand($0a,$0b);break;case PXTreeCommand.PopulateNode:var n=($0b instanceof PXTreeNode)?$0b:this.selectedNode;if(n!=null)this.populateNode(n);break;}};PXTreeView.prototype.onCallback=function($0c,$a){var $0d=($a.control==this)&&($0c.name==PXTreeCommand.PopulateNode);if(this.preserveExpanded&&!$0d)this.$1E(this.nodes);};PXTreeView.prototype.executeCommand=function($0a,$0b){if(!this.getCommandState(this,$0a).getEnabled())return;var sn=this.selectedNode;switch($0a){case PXTreeCommand.Refresh:this.refresh();break;case PXTreeCommand.Edit:if(this.allowEdit&&sn)this.openEditForm(sn);break;case PXTreeCommand.Delete:if(sn)this.removeNode(sn);break;}};PXTreeView.prototype.getCommandState=function($0e,$0a){var sn=this.selectedNode;switch($0a){case PXTreeCommand.Refresh:return new PXCommandState(true,true);case PXTreeCommand.Edit:return new PXCommandState(true,this.allowEdit&&sn!=null);case PXTreeCommand.Delete:return new PXCommandState(true,this.allowDelete&&sn!=null);case PXTreeCommand.AddNew:return new PXCommandState(true,this.allowAddNew);};return PXCommandState.empty;};PXTreeView.prototype.registerCommandControl=function($0f,$0a){if(this.dataBound)__px_cm(this).registerCommandControl(this,$0f,$0a);};PXTreeView.prototype.notifyCommandState=function(){if(this.dataBound)__px_cm(this).notifyCommandState(this,PXPanelCommand);};function PXTreeNodes($b,$I,$X){this.px_context=$I.px_context;this.element=$b;this.tree=$I;this.parentNode=$X;this.level=($X!=null)?($X.level+1):0;this.items=new Array();this.length=parseInt($b.getAttribute("data-count"));if(this.length>0)this.items[this.length-1]=null;$b.object=this;};PXTreeNodes.prototype.getVisible=function(){return this.element.style.display!="none";};PXTreeNodes.prototype.setVisible=function($n){this.element.style.display=($n?"":"none");};PXTreeNodes.prototype.collapse=function($w){for(var i=0;i<this.length;i++){var $s=this.getNode(i);$s.collapse();if($w&&$s.hasChild)$s.childNodes.collapse(true);}};PXTreeNodes.prototype.getNodeID=function($0g){var id=[this.tree.ID,"node"],$l=this.parentNode;var $P=($l!=null)?$l.hashCode():"";if($P)id.push($P);id.push($0g.toString());return id.join("_");};PXTreeNodes.prototype.getNode=function($0g){if($0g<0||$0g>=this.length)return null;if($0g>=this.items.length)this.items[this.length-1]=null;if(!this.items[$0g]){var $b=__px(this).elemByID(this.getNodeID($0g));if($b)this.items[$0g]=new PXTreeNode($b,this,$0g);};return this.items[$0g];};PXTreeNodes.prototype.addNode=function($s,$0g){if($0g==null||$0g<0||$0g>this.length)$0g=this.length;var $0h=($0g<this.length)?this.items[$0g]:null;if($s.collection==this){if($s.index<$0g)$0g--;if($s.index==$0g)return;};var $W=$s.collection;$W.items.splice($s.index,1);$W.length--;this.items.splice($0g,0,$s);this.length++;if(this.parentNode)this.parentNode.hasChild=true;this.element.insertBefore($s.elemLI,$0h?$0h.elemLI:null);if($W.length==0)$s.parentNode.$1R();this.$1S();if($s.collection!=this)$s.collection.$1S();$s.index=$0g;$s.level=this.level;$s.collection=this;$s.parentNode=this.parentNode;$s.$1I();if(this.parentNode){this.parentNode.$1I();this.parentNode.$1y();}};PXTreeNodes.prototype.$1S=function(){var $0i=this.element.childNodes,$0j=new Array();var id=this.element.id.replace("_nodes","_node");for(var i=0,j=0;i<$0i.length;i++){var $b=$0i[i],$0k=$b.firstChild;if($b.tagName!="LI"||$0k==null)continue;$0k.id=id+'_'+j.toString();$0j.push([$b,$0k]);var $s=$0k.object;if($s){$s.index=j;if($s.hasChild){$s.childElem.id=$0k.id.replace("_node","_nodes");$s.childNodes.$1S();}};j++;};var $0l=this.tree.rootNode==null&&this.level==0;var $0m=($0j.length-1),$0n;for(var i=0;i<$0j.length;i++){var $0o=$0j[i],li=$0o[0],$S=$0o[1];li.className=__px(this).excludeCss(li,["tnLast","tnFirst"]);$S.className=__px(this).excludeCss($S,["tnTop","tnMid","tnBot"]);if(i==0)li.className=__px(this).appendCss(li,["tnFirst"]);if(i==$0m)li.className=__px(this).appendCss(li,["tnLast"]);$0n="tnMid";if($0l){if(i==0)$0n="tnTop";else if(i==$0m)$0n="tnBot";}else{if(i==$0m)$0n="tnBot";else if(i==0)$0n="tnTop";};$S.className=__px(this).appendCss($S,[$0n]);}};function PXTreeNode($b,$y,$0g){this.px_context=$y.px_context;this.element=$b;this.elemLI=$b.parentNode;this.index=$0g?$0g:0;this.isRoot=false;if($y instanceof PXTreeNodes){this.collection=$y;this.level=$y.level;this.tree=$y.tree;this.parentNode=$y.parentNode;}else if($y instanceof PXTreeView){this.tree=$y;this.level=-1;this.isRoot=true;}else throw new Error("The owner of the PXTreeNode object has incorrect type.");this.nodeCss=$b.getAttribute("data-css");this.navigateUrl=$b.getAttribute("data-url");this.target=$b.getAttribute("data-target");this.value=$b.getAttribute("data-value");this.openFrameset=$b.getAttribute("data-frameset");this.dataKey=$b.getAttribute("data-key");if(this.dataKey==null)this.dataKey=this.value;this.description=$b.getAttribute("data-descr");var $0p=$b.getAttribute("data-pod");if($0p!=null){var ar=$0p.split("|");this.populateOnDemand=true;this.populated=false;this.dataBound=parseInt(ar[0]);this.dataPath=ar[1];}else{this.dataPath=$b.getAttribute("data-path");if(this.dataPath)this.dataBound=true;};if(this.tree.allowDragDrop){if($b.getAttribute("data-sdd")==null){var te=this.getTextElement();if(te)te.setAttribute("draggable","true");};if($b.getAttribute("data-sdi")!=null)this.suppressDropInside=true;};if(this.tree.showNodeImages){this.imageUrl=$b.getAttribute("data-image");if(this.imageUrl){this.selectedImageUrl=$b.getAttribute("data-selImage");if(!this.selectedImageUrl)this.selectedImageUrl=this.imageUrl;this.disabledImageUrl=$b.getAttribute("data-disImage");if(!this.disabledImageUrl)this.disabledImageUrl=this.imageUrl;}};this.$1H();$b.object=this;};PXTreeNode.prototype.select=function(){if(this.isSelected()||!this.getEnabled())return false;var $V=new Object();$V.oldNode=this.tree.selectedNode;$V.node=this;if(this.tree.fireEvent("beforeSelect",null,$V))return false;this.tree.clearSelection();this.tree.selectedNode=this;this.$1w();this.$1y();delete this.tree.currentNavUrl;this.tree.selectedNodeID=this.element.id;this.$1v();this.tree.fireEvent("afterSelect",null,$V);var cs=this.tree.autoCallBack;if(cs&&cs.enabled&&cs.command){if(!$V.cancelCallBack)__px_callback(this).exec(this.tree,cs);};return true;};PXTreeNode.prototype.isSelected=function(){return(this.tree.selectedNode==this);};PXTreeNode.prototype.$1v=function(){if(this.isSelected()){this.tree.viewState.update("SelectedNodeID",this.element.id);this.tree.viewState.update("SelectedValue",this.value);if(this.parentNode)this.tree.viewState.update("ParentValue",this.parentNode.value);else this.tree.viewState.remove("ParentValue");if(this.dataKey&&this.dataKey!=this.value)this.tree.viewState.update("SelectedKey",this.dataKey);else this.tree.viewState.remove("SelectedKey");}};PXTreeNode.prototype.scrollToView=function(){__px(this).scrollToView(this.tree.nodes.element.parentNode,this.element);};PXTreeNode.prototype.ensureVisible=function(){var $l=this.parentNode;while($l){$l.expand();$l=$l.parentNode;};this.scrollToView();};PXTreeNode.prototype.ensureChildVisible=function(){var $S=this.tree.element;if(!this.getExpanded()||$S.scrollHeight<=$S.offsetHeight)return;var n=this;do{n=n.childNodes.getNode(n.childNodes.length-1);}while(n&&n.hasChild&&n.getExpanded())if(n){var $l=$S.offsetParent,$0q=$S.offsetHeight-$S.clientHeight;var $0r=__px(this).getElemTopPos(this.element,$S);var $0s=__px(this).getElemTopPos($S,$l)+$S.offsetHeight;var $0t=__px(this).getElemTopPos(n.element,$l)+n.element.offsetHeight;if($0t>($0s-$0q)){var $0u=($0t-$0s)+$0q;if($0r>=$0u)$S.scrollTop=$S.scrollTop+$0u;else $S.scrollTop=$0r;}}};PXTreeNode.prototype.expand=function(){if(this.getExpanded()||!this.getEnabled())return;var $V=new Object();$V.node=this;if(this.tree.fireEvent("beforeExpand",null,$V))return;if(this.tree.exclusiveExpand&&this.collection!=null)this.tree.$1Q(this.collection.level,this);if(this.childElem){this.childElem.style.display="";this.$1I();this.tree.adjustSizeToFitNode(this);this.tree.fireEvent("afterExpand",null,$V);}else if(this.populateOnDemand&&!this.populated){this.tree.populateNode(this);}};PXTreeNode.prototype.collapse=function(){if(this.getExpanded()){var $V=new Object();$V.node=this;if(this.tree.fireEvent("beforeCollapse",null,$V))return;if(this.tree.selectedNode){var $l=this.tree.selectedNode.parentNode;while($l!=null){if($l.element.id==this.element.id){this.select();break;};$l=$l.parentNode;}};this.childElem.style.display="none";this.$1I();this.tree.fireEvent("afterCollapse",null,$V);}};PXTreeNode.prototype.hashCode=function(){if(this.collection==null)return "";var ar=new Array(),n=this;do{ar[ar.length]=n.index;n=n.parentNode;}while(n&&!n.isRoot);ar=ar.reverse();return ar.join("_");};PXTreeNode.prototype.containsActive=function(){var $s=this.tree.activeNode;while($s&&($s=$s.parentNode)!=null)if($s==this)return true;return false;};PXTreeNode.prototype.getChildID=function($0g){var id=[this.tree.ID,"nodes"],$P=this.hashCode();if($P)id.push($P);return id.join("_");};PXTreeNode.prototype.getType=function(){var t=PXTreeNodeType.Leaf;if(this.isRoot)t=PXTreeNodeType.Root;else if(this.hasChild||(this.populateOnDemand&&!this.populated))t=PXTreeNodeType.Parent;return t;};PXTreeNode.prototype.getEnabled=function(){return !this.element.getAttribute("disabled");};PXTreeNode.prototype.setEnabled=function($o){if(this.getEnabled()!=$o){this.element.setAttribute("disabled",!$o);this.$1w();this.$1y();}};PXTreeNode.prototype.getText=function(){var te=this.getTextElement();return te?__px(this).getElemText(te):"";};PXTreeNode.prototype.setText=function(v){var te=this.getTextElement();if(te)__px(this).setElemText(te,v,false);};PXTreeNode.prototype.getTooltip=function(){return __px(this).getTitle(this.element);};PXTreeNode.prototype.setTooltip=function(v){__px(this).setTitle(this.element,v);};PXTreeNode.prototype.getExpanded=function(){if(this.childElem!=null)return this.childElem.style.display!="none";return false;};PXTreeNode.prototype.nextSibling=function(){if(this.collection){var i=this.index+1;if(i<this.collection.length)return this.collection.getNode(i);};return null;};PXTreeNode.prototype.prevSibling=function(){if(this.collection){var i=this.index-1;if(i>=0)return this.collection.getNode(i);};return null;};PXTreeNode.prototype.activate=function(){this.tree.setActiveNode(this);};PXTreeNode.prototype.nextVisible=function(){var n;if(this.hasChild&&this.getExpanded())n=this.childNodes.getNode(0);else n=this.nextSibling();if(n==null){var $l=this.parentNode;while($l!=null&&n==null){n=$l.nextSibling();$l=$l.parentNode;}};if(n&&!n.getEnabled())n=n.nextVisible();return n;};PXTreeNode.prototype.prevVisible=function(){var n;if(this.index==0)n=this.parentNode;else{n=this.prevSibling();while(n&&n.hasChild&&n.getExpanded())n=n.childNodes.getNode(n.childNodes.length-1);};if(n&&!n.getEnabled())n=n.prevVisible();return n;};PXTreeNode.prototype.getTextElement=function(v){var n=this.element.firstChild;while(n&&n.tagName!="SPAN")n=n.nextSibling;return n;};PXTreeNode.prototype.getNodeImage=function(v){var n=null,ne=null;if(this.tree.showNodeImages){n=this.element.firstChild;while(n){if(__px_cm(this).isSpriteOrImage(n)&&n.getAttribute("data-type")=="N"){ne=n;break;};n=n.nextSibling;}};return ne;};PXTreeNode.prototype.getStateImage=function(v){var n=this.element.firstChild,ne=null;while(n){if(__px_cm(this).isSpriteOrImage(n)&&n.getAttribute("data-type")=="E"){ne=n;break;};n=n.nextSibling;};return ne;};PXTreeNode.prototype.addChildNode=function($s,$0g){if(!this.hasChild)this.$1T();this.childNodes.addNode($s,$0g);};PXTreeNode.prototype.move=function(parent,$0v){var $P=this.hashCode(),me=this,$I=this.tree;var $R=[$P,this.dataKey,parent?parent.dataKey:""];if($0v)$R.push($0v.dataKey);var $G=function($H,$a){if(!$H)return;me.dataChanged=true;var ds=__px_alls(me)[$I.dataSourceID],$V=new Object();if(ds)ds.setClientChanged();$V.node=me;$V.before=$0v;$V.parent=parent;if(!$I.fireEvent("afterNodeMove",null,$V)){if(parent)parent.addChildNode(me,$0v?$0v.index:-1);else me.collection.addNode(me,$0v?$0v.index:-1);}};__px_callback(this).execI(this.tree,this.tree.callbacks[5],$R.join(";"),$G);};PXTreeNode.prototype.remove=function(){var $W=this.collection,$0w=new Array();this.tree.$1J($W,$0w);$W.items.splice(this.index,1);$W.length--;$W.element.removeChild(this.elemLI);if(this.parentNode&&$W.length==0)this.parentNode.$1R();$W.$1S();};PXTreeNode.prototype.$1H=function(){this.childID=this.getChildID();this.childElem=__px(this).elemByID(this.childID);if(this.childElem!=null){this.childNodes=new PXTreeNodes(this.childElem,this.tree,this);this.hasChild=(this.childNodes.length>0);}else{this.hasChild=false;delete this.childNodes;}};PXTreeNode.prototype.$1R=function(){if(this.hasChild){this.childElem.parentNode.removeChild(this.childElem);this.$1H();this.$1y();this.$1I(true);}};PXTreeNode.prototype.$1T=function(){if(!this.hasChild){var ul=__doc(this).createElement('ul');ul.id=this.element.id.replace("node_","nodes_");ul.className="tnUL";ul.setAttribute("data-count","0");ul.setAttribute("data-level",this.level+1);this.element.parentNode.insertBefore(ul,this.element.nextSibling);this.$1H();}};PXTreeNode.prototype.$1w=function($0x){var $0y=new Array(),$z,$0z=false;$z=this.tree.$1M(this.level,this.getType());if($z)$0y.push($z);$z="";if(!this.getEnabled())$z=this.tree.$1M(this.level,PXTreeStyle.Disabled);else if(this==this.tree.selectedNode){$0z=true;$z=this.tree.$1M(this.level,PXTreeStyle.Selected);};if($z)$0y.push($z);if($0x){$z=this.tree.$1M(this.level,PXTreeStyle.Hover);if($z)$0y.push($z);};if(this.nodeCss!=null)$0y.push(this.nodeCss);var e=this.getTextElement();$z=$0y.join(" ");if(e.className!=$z)e.className=$z;var $0A=this.elemLI.className;$0A=__px(this).toggleCss($0z,$0A,["selected"]);$0A=__px(this).toggleCss($0x,$0A,["hover"]);this.elemLI.className=$0A;};PXTreeNode.prototype.$1y=function(){if(!this.tree.showNodeImages)return;var $0B="";if(this.imageUrl){if(!this.getEnabled())$0B=this.disabledImageUrl;else if(this==this.tree.selectedNode)$0B=this.selectedImageUrl;if(!$0B)$0B=this.imageUrl;}else if(this.tree.showDefaultImages){var nt=this.getType();switch(nt){case PXTreeNodeType.Leaf:$0B="leaf";break;case PXTreeNodeType.Root:$0B="root";break;case PXTreeNodeType.Parent:$0B="parent";break;};if(!this.getEnabled())$0B+="D";else if(this==this.tree.selectedNode)$0B+="S";$0B=this.tree.$1O(this.level,$0B);};var e=this.getNodeImage();if(e)__px_cm(this).repaintImage(e,$0B);};PXTreeNode.prototype.$1I=function($0C){if(!this.childElem&&!$0C)return;var e=this.getStateImage();if(e==null){e=__px_cm(this).createSpriteOrImage(null,"tree@NoExpand");e.setAttribute("data-type","E");e.style.display="none";this.element.insertBefore(e,this.element.firstChild);};if(e){var $0w=this.getExpanded();var $0D=this.hasChild?($0w?"collapse":"expand"):"";if(this.tree.showLines&&$0D)$0D+="L";var $0E=this.tree.$1O(this.level,$0D?$0D:"noExpand");__px_cm(this).repaintImage(e,$0E);e.style.display=$0D?"":"none";};var $0F=this.elemLI,$0A=this.elemLI.className;if(this.getExpanded()){if($0A.indexOf("expanded")<0)$0F.className+=" expanded";}else $0F.className=$0A.replace(" expanded","");};PXTreeView.prototype.beginEdit=function($s){var ed=this.$1U(Function.createDelegate(this,this.$1V));ed.setValue($s.getText());ed.show($s.getTextElement(),true);ed.editNode=$s;this.editMode=true;};PXTreeView.prototype.endEdit=function($00){if(this.$1W){if(!$00)this.updateNodeName(this.$1W.editNode,this.$1W.getValue());this.$1W.hide();this.editMode=false;var me=this;setTimeout(function(){me.focus();},1);}};PXTreeView.prototype.getEditForm=function($s){var $0G=__px_all(this)[this.ID+"_ep"+$s.level];if($0G==null)$0G=__px_all(this)[this.ID+"_ep"];return $0G;};PXTreeView.prototype.openEditForm=function($s){var $0G=this.getEditForm($s);if($0G!=null)$0G.show($s.element);};PXTreeView.prototype.$1U=function($0H){if(this.$1W==null){this.$1W=PXInlineEditor.createTextBox(this.px_context,this.ID+"_ed",__doc(this).body,$0H);this.$1W.element.className=this.$1W.className="editor";this.$1W.autoAdjustSize=true;};return this.$1W;};PXTreeView.prototype.$1V=function(e){var se=__px(this).eventElem(e),me=this;if(se==null)return;switch(e.type){case "keydown":if(e.keyCode==13||e.keyCode==27){this.endEdit(e.keyCode==27);__px(this).cancelEvent(e);};break;case "blur":this.endEdit(true);break;}};PXTreeView.prototype.updateNodeName=function($s,name){var $P=$s.hashCode(),me=this;var $R=[$P,$s.dataKey,name];var $G=function($H,$a){if($H){me.dataChanged=true;$s.setText($H);var ds=__px_alls(me)[me.dataSourceID];if(ds)ds.setClientChanged();}};__px_callback(this).execI(this,this.callbacks[3],$R.join("|"),$G);};PXTreeView.prototype.removeNode=function($s){var $P=$s.hashCode(),me=this;var $R=[$P,$s.dataKey];var $G=function($H,$a){if($H){var $0I=$s.prevSibling()?$s.prevSibling():$s.parentNode;$s.remove();if($0I)$0I.select();me.dataChanged=true;var ds=__px_alls(me)[me.dataSourceID];if(ds)ds.setClientChanged();}};__px_callback(this).execI(this,this.callbacks[4],$R.join("|"),$G);};PXTreeView.prototype.$1m=function(e){var $M=__px(this).eventObject(e);if($M)e.dataTransfer.setData('text',$M.element.id);e.dataTransfer.effectAllowed='linkMove';};PXTreeView.prototype.$1q=function(e){this.$1o(e);};PXTreeView.prototype.$1o=function(e){var $0J=e.dataTransfer.getData('text'),$e=__px_all(this)[$0J];var $s=$e?null:this.getNodeByID($0J);var $01=this.$1X(e),te=$01?$01.element:null;var $05=this.$1P(__px(this).eventElem(e));var $0K=($05!=PXTreeArea.Text)||e.ctrlKey||$01.suppressDropInside;var $0v=($0K&&$01)?this.$1Y(e,$01.element):null;if($01&&this.$1Z($01,$0v,$s,$e)){te.className=__px(this).appendCss(te,["dragover"]);te.className=__px(this).excludeCss(te,["before","after"]);if($0K)te.className=__px(this).appendCss(te,$0v?["before"]:["after"]);};e.dataTransfer.dropEffect=$0K?'link':'move';__px(this).cancelEvent(e,false);};PXTreeView.prototype.$1Y=function(e,$b){var $0L=__px(this).getElemTopPos($b)+$b.offsetHeight/2;return($0L>e.clientY);};PXTreeView.prototype.$1s=function(e){var $s=this.$1X(e);if($s)$s.element.className=__px(this).excludeCss($s.element,["dragover","before","after"]);};PXTreeView.prototype.$20=function($0M,$01,$0v,$s,$e,$V){if($V==null)$V=new Object();$V.target=$01;$V.before=$0v;$V.node=$s;$V.control=$e;return this.fireEvent($0M,null,$V);};PXTreeView.prototype.$1u=function(e){this.$1s(e);var $0J=e.dataTransfer.getData('text'),$e=__px_all(this)[$0J];var $s=$e?null:this.getNodeByID($0J);var $01=this.$1X(e);var $05=this.$1P(__px(this).eventElem(e));var $0K=($05!=PXTreeArea.Text)||e.ctrlKey||$01.suppressDropInside;var $0v=($0K&&$01)?this.$1Y(e,$01.element):null;if($01==null||!this.$1Z($01,$0v,$s,$e))return;var $V=new Object();if(!this.$20("beforeDrop",$01,$0v,$s,$e,$V)){$0v=$V.before;$01=$V.target;}else return;if($s){if($0v!==null){if($01.collection)$s.move($01.parentNode,$0v?$01:$01.nextSibling());}else if($01.populateOnDemand&&!$01.populated){this.populateNode($01,null,$s);}else{$s.move($01,null);if(!$01.getExpanded())$01.expand();}};this.$20("afterDrop",$01,$0v,$s,$e);};PXTreeView.prototype.$1X=function(e){var ne=PXTreeView.$21(__px(this).eventElem(e),this.element);if(ne==null)return null;return ne.object?ne.object:this.getNodeByID(ne.id);};PXTreeView.prototype.$1Z=function($01,$0v,$s,$e){if($0v!==null){if($s){if($0v&&$01.prevSibling()==$s)return false;if(!$0v&&$01.nextSibling()==$s)return false;}}else if($01.suppressDropInside)return false;if($s){var n=$01;while(n){if(n==$s)return false;n=n.parentNode;}};if(this.$20("dragDrop",$01,$0v,$s,$e))return false;return true;};PXTreeView.$21=function(se,$0N){var e=se,ne=null;while(e!=null&&e!=$0N){if(e.id&&e.id.indexOf("node")>0&&e.id.indexOf("nodes")<0){ne=e;break;};e=e.parentNode;};return ne;};PXTreeView.prototype.$1k=function(e){this.isMinimized()?this.restore():this.minimize();};PXTreeView.prototype.$22=function(e,$s,$0O){var $Z=this.getContextMenu();if($Z==null&&$s&&$s.navigateUrl)$Z=this.getLocalMenu();if($Z){var de=__doc(this).documentElement;var $0P=de.scrollTop,$0Q=de.scrollLeft,$b=$s.element;var $0R=e.clientX?e.clientX:__px(this).getElemLeftPos($b);var $0S=e.clientY?e.clientY:(__px(this).getElemTopPos($b)+$b.offsetHeight);$Z.ownerID=this.ID;$Z.showAt($0R+$0Q,$0S+$0P);if($0O)this.$23=true;}};PXTreeView.$1h=function(e){var se=__px(this).eventElem(e);var $I=__px(this).eventObject(e,PXTreeView);switch(e.type){case "mousedown":if($I&&!$I.hasFocus&&!$I.editMode)$I.focus();break;case "click":if($I&&!$I.hasFocus&&!$I.editMode)$I.focus();break;case "selectstart":return __px(this).cancelEvent(e,false);case "contextmenu":__px(this).cancelEvent(e,false);break;};var ne=$I?PXTreeView.$21(se,$I.element):null;if(ne!=null){var $s=ne.object?ne.object:$I.getNodeByID(ne.id);var $05=$I.$1P(se);switch(e.type){case "mouseover":return $I.$24($s,$05,e);case "mouseout":return $I.$25($s,$05,e);case "mousedown":if($I.$23){delete $I.$23;__px(this).cancelEvent(e);return;};if($I.selectOnMouseDown)$I.$26($s,$05,e);$I.$27($s,$05,e);break;case "click":if(!$I.selectOnMouseDown){if($s&&$I.allowEdit&&$s.isSelected()){if($05==PXTreeArea.NodeImage)$I.openEditForm($s);else if($05==PXTreeArea.Text)$I.beginEdit($s);};return $I.$26($s,$05,e);};break;case "dblclick":e.clickCount=2;return $I.$26($s,$05,e);case "contextmenu":$I.$22(e,$s);break;case "touchstart":$I.$28=setTimeout(function(){$s.select();$I.$22(e,$s,true);},500);break;case "touchend":clearTimeout($I.$28);delete $I.$28;break;}}};PXTreeView.prototype.$1x=function(e){switch(e.type){case "focus":if(this.getVisible()&&this.getEnabled())this.hasFocus=true;break;case "blur":this.hasFocus=false;break;case "keydown":this.$29(e);break;}};PXTreeView.prototype.$27=function($s,$05,e){if(__px(this).eventButton(e)!=0){$s.select();return;};switch($05){case PXTreeArea.Text:case PXTreeArea.NodeImage:var ev=this.events.eventArgs,an=this.activeNode;if($s.navigateUrl&&!ev.cancelPostBack){if(this.$2a($s,$05,e))return;var $01=$s.target?$s.target:this.$1L($s.level);var $0T=(e.shiftKey||e.ctrlKey);__px(this).openUrl($s.navigateUrl,$01,$0T||$s.openFrameset);if($s!=this.activeNode)this.oldActiveNode=this.activeNode;$s.activate();this.currentNavUrl=$s.navigateUrl;};break;}};PXTreeView.prototype.$26=function($s,$05,e){if((e.clickCount==2||!$s.navigateUrl)&&this.$2a($s,$05,e))return;var an=this.oldActiveNode;if(this.exclusiveExpand&&an&&an.parentNode){do{if(!an.containsActive())an.collapse();}while((an=an.parentNode)!=null);};delete this.oldActiveNode;switch($05){case PXTreeArea.Text:case PXTreeArea.NodeImage:case PXTreeArea.Empty:if($s.getType()!=PXTreeNodeType.Leaf&&(e.clickCount==2||this.fastExpand)){if($s.getExpanded())$s.collapse();else{$s.expand();$s.ensureChildVisible();};if(this.fastExpand)$s.select();}else{$s.select();};break;case PXTreeArea.StateImage:if($s.getExpanded())$s.collapse();else{$s.expand();$s.ensureChildVisible();};break;default:$s.select();break;}};PXTreeView.prototype.$2a=function($s,$05,e){var $V=new Object(),$H=false;$V.node=$s;$V.area=$05;$H=this.fireEvent("nodeClick",e,$V);if($H)__px(this).cancelEvent(e);return $H;};PXTreeView.prototype.$24=function($s,$05,e){if($05==PXTreeArea.Text){var $z=this.$1M($s.level,PXTreeStyle.Hover);if($z){if(this.$2b){try{this.$2b.$1w(false);this.$2b.$2c=false;}catch(ex){this.$2b=null;}};$s.$1w(true);$s.$2c=true;this.$2b=$s;}}};PXTreeView.prototype.$25=function($s,$05,e){if($05==PXTreeArea.Text&&$s.$2c){this.$2b=null;$s.$2c=false;$s.$1w(false);}};PXTreeView.prototype.$29=function(e){var $0U=e.keyCode,$0h,sn=this.selectedNode;var $V=new Object();$V.key=$0U;if(this.fireEvent("keyDown",e,$V)){__px(this).cancelEvent(e);return;};switch($0U){case 13:if(sn){if(e.ctrlKey&&this.allowEdit){this.openEditForm(sn);}else if(!this.$2a(sn,PXTreeArea.Text,e)&&sn.navigateUrl){var $01=sn.target?sn.target:this.$1L(sn.level);if(e.shiftKey||e.ctrlKey)$01="_blank";__px(this).openUrl(sn.navigateUrl,$01);}else __px(this).cancelEvent(e);};break;case 107:case 39:if(sn){sn.expand();sn.ensureChildVisible();};break;case 109:case 37:if(sn)sn.collapse();break;case 35:$0h=this.lastNode();break;case 36:$0h=this.firstNode();break;case 38:$0h=sn?sn.prevVisible():this.firstNode();break;case 40:$0h=sn?sn.nextVisible():this.firstNode();break;case 113:if(this.allowEdit&&sn)this.beginEdit(sn);break;case 116:this.refresh();__px(this).cancelEvent(e);if(__px(this).IsIE)e.keyCode=0;break;};if($0h){$0h.select();$0h.scrollToView();}};PXTreeView.prototype.sync=function($0V,$v){var $s=this.findNode(this.nodes,$0V,true,$v);if($s==null){if(this.dataSourceUrl&&window.$!=null){var $C=this.dataSourceUrl+"/path/"+$0V,me=this;$.getStd($C,function($D,$E,$F){if($D)me.startSync($D.join('|'));});}else{var $G=Function.createDelegate(this,this.$2d);__px_callback(this).execI(this,this.callbacks[2],$0V,$G);}}else{$s.select();$s.activate();$s.ensureVisible();this.fireEvent("afterSync",null,{'node':$s});}};PXTreeView.prototype.$2d=function($H,$a){var $I=__px_all(this)[$a];if($H&&$I)$I.startSync($H);};PXTreeView.prototype.startSync=function($H){if($H==null||$H=="")return;__px(this).startWC();this.expandTree($H);};PXTreeView.prototype.expandTree=function($0W,$0X,$0Y){this.etr_context=new Object();this.etr_context.ids=null;this.etr_context.node=null;this.etr_context.flag=null;this.etr_context.index=0;this.etr_context.children=null;this.etr_context.direction=$0Y;var ar=this.etr_context.ids=$0W.split("|");this.events.addEventHandler("afterExpand",this.onAfterExpand);if($0X!=null)this.etr_context.node=$0X;else{while(this.etr_context.node==null&&this.etr_context.index<ar.length){this.etr_context.node=this.findNode(this.nodes,ar[this.etr_context.index]);if(this.etr_context.node==null)this.etr_context.index++;}};var $s=this.etr_context.node;if($s==null){this.setVarsToDefault();return;};if(this.etr_context.index==(ar.length-1)){$s.select();$s.activate();this.setVarsToDefault();return;};if(!$s.populated){this.etr_context.flag=true;this.populateNode($s,ar[ar.length-1]);}else this.expandPopulated();};PXTreeView.prototype.onAfterExpand=function($I){if($I.etr_context!=null&&$I.etr_context.flag==true){$I.etr_context.index++;$I.etr_context.children=$I.etr_context.node.childNodes;$I.etr_context.node=$I.determineNode();var $s=$I.etr_context.node;if($s==null){$I.setVarsToDefault();return;};if($I.etr_context.direction=="next"){var $s=$s;$I.setVarsToDefault();$s.select();__px(this).openUrl($s.navigateUrl,$s.target,$s.openFrameset);return;};if($I.etr_context.index==$I.etr_context.ids.length-1){$s.select();$s.activate();$I.setVarsToDefault();return;};if($s.populateOnDemand&&!$s.populated)setTimeout(function(){$I.populateNode($s)},1);else{$I.etr_context.flag=false;$I.expandPopulated();}}};PXTreeView.prototype.expandPopulated=function(){this.etr_context.node.expand();this.etr_context.index++;this.etr_context.children=this.etr_context.node.childNodes;this.etr_context.node=this.determineNode();if(this.etr_context.node==null){this.setVarsToDefault();return;};if(this.etr_context.index==this.etr_context.ids.length-1){this.etr_context.node.select();this.setVarsToDefault();return;};if(this.etr_context.node.populated==true)this.expandPopulated();else{this.etr_context.flag=true;var me=this;setTimeout(function(){me.populateNode(me.etr_context.node)},1);}};PXTreeView.prototype.determineNode=function(){if(this.etr_context==null)return null;if(this.etr_context.direction=="next")return this.etr_context.children.getNode(0);else if(this.etr_context.direction=="prev")return this.etr_context.node;else return this.findNode(this.etr_context.children,this.etr_context.ids[this.etr_context.index]);};PXTreeView.prototype.setVarsToDefault=function(){if(this.etr_context!=null){var $s=this.etr_context.node;this.events.removeEventHandler("afterExpand",this.onAfterExpand);this.etr_context=null;__px(this).stopWC();this.fireEvent("afterSync",null,{'node':$s});}};if(window["React"]!=null){PXTreeView.ReactNodesList=window.createReactClass({'render':function(){var $t=this.props.nodes,$0Z=$t.length,id=this.props.id;var $02=this.props.level,$P=this.props.hash,$10=this.props.visible;var $11=id+'_nodes'+($P?('_'+$P):''),i=0;if($10==null)$10=true;return React.createElement("ul",{'id':$11,'className':'tnUL','data-count':$0Z,'data-level':$02,'style':{$12:$10?'':'none'}},$t.map(function(n){var $13=$P?($P+'_'+i):i.toString();var $14=i==0,$15=i++==($0Z-1);var $z='tnLI'+(n.HasChildren?' folder':'')+($14?' tnFirst':'')+($15?' tnLast':'');return React.createElement("li",{'className':$z,'key':n.Path},React.createElement(PXTreeView.ReactNode,{'item':n,'id':id,'hash':$13,'isFirst':$14,'isLast':$15}),n.Nodes?React.createElement(PXTreeView.ReactNodesList,{'id':id,'hash':$13,'nodes':n.Nodes,'level':($02+1),'visible':n.Expanded}):null);}));}});PXTreeView.ReactNode=window.createReactClass({'render':function(){var $16=this.props.item,id=this.props.id,$P=this.props.hash;var $14=this.props.isFirst,$15=this.props.isLast,$z='tnDiv';if($15)$z+=' tnBot';else if($14)$z+=' tnTop';else $z+=' tnMid';var $17=id+'_node_'+$P,$18={'id':$17,'className':$z};if($16.Value)$18['data-value']=$16.Value;if($16.Url)$18['data-url']=$16.Url;if($16.HasChildren&&$16.Nodes==null)$18['data-pod']='1|'+$16.Path;else if($16.Path)$18['data-path']=$16.Path;var $19=$16.HasChildren?React.createElement(PXTreeView.ReactTreeSprite,{'icon':$16.Expanded?'Collapse':'Expand','type':'E'}):null;return React.createElement("div",$18,$19,React.createElement("span",{'className':'treeNode'},$16.Text));}});PXTreeView.ReactTreeSprite=window.createReactClass({'render':function(){var $1a=this.props.icon,$1b=this.props.type;return React.createElement("div",{'className':'sprite-icon tree-icon','icon':$1a,'data-type':$1b},React.createElement("div",{'className':'tree-icon-img tree-'+$1a},'\u00a0'));}});PXTreeView.ReactPath=window.createReactClass({'render':function(){var $s=this.props.node,id=this.props.id,$1c=this.props.wiki;var $z=this.props.css,$W=new Array(),$1d=this.props.showLast;var $1e=$s.tree.nodes.getNode(0);if(!$1d)$s=$s.parentNode;while($s!=null){$W.push($s);$s=$s.parentNode;};if($1c)$W.push({'navigateUrl':$1e.navigateUrl,'text':$1c});$W.reverse();return React.createElement("ul",{'id':id,'className':'tree-path'+($z?(' '+$z):'')},$W.map(function(n){var $15=(n==$W[$W.length-1]);var $1f=(n.navigateUrl&&(!$15||!$1d))?n.navigateUrl:null;var $1g=$15?null:'/';return React.createElement("li",{'key':$1f},React.createElement("a",{'data-href':$1f,'href':"javascript: void 0"},React.createElement("span",{'className':'text'},n.text?n.text:n.getText()),React.createElement("span",{'className':'path-sep'},$1g)));}));}});};



function PXToolBar($a,$b,$c){this.px_context=$a;this.element=$b;this.ID=$b.id;__px_cm(this).readProperties(this,$c,PXToolBar.properties);__px_cm(this).registerRequiresOnLoad(this,$b.id);var h=this.eventsH=Function.createDelegate(this,this.$0s);this.attachEventHandlers();__px(this).addEventHandler($b,"selectstart",h);__px(this).addEventHandler($b,"contextmenu",h);this.initItems($c.items);this.events=new PXEventList(this,PXToolBar.events,$c.clientEvents);this.viewState=new PXStateBag(this,"PXToolBar");this.paramsCall=__px_callback(this).createCommand("CollectParams",true,false,false,3);};PXToolBar.prototype.getButton=function($d){var $e=this.items;if($e&&$d)for(var i=0;i<$e.length;i++){var $f=$e[i],cs=$f.autoCallBack;if($f.key==$d||String.compare($f.commandName,$d,true)||(cs&&String.compare(cs.command,$d,true))){return $e[i];}};return null;};PXToolBar.prototype.render=function(){if(window["ReactDOM"]!=null){var $g={'id':this.ID,'styles':this.styles,'items':this.items};$g.asTable=(this.renderAsTable==null||this.renderAsTable);this.detachEventHandlers();ReactDOM.render(React.createElement(PXToolBar.ReactItemsList,$g),this.element);this.attachEventHandlers();this.initItems(this.items);if(this.canOverflow)this.onResize();}};PXToolBar.properties=[["autoPostBack",JSType.Bool,null],["target",JSType.String,""],["callBackHandler",JSType.String,""],["callBackTarget",JSType.String,""],["commandSourceID",JSType.String,""],["styles",JSType.Object,null],["canOverflow",JSType.Bool,false]];PXToolBar.events={$initialize:0,$buttonClick:1,$menuShow:2};PXToolBar.prototype.attachEventHandlers=function(){var h=this.eventsH,e=this.elemItems=__px(this).elemByID(this.ID+"_ul");__px(this).addEventHandler(e,"mouseover",h);__px(this).addEventHandler(e,"mouseout",h);__px(this).addEventHandler(e,"mousedown",h);__px(this).addEventHandler(e,"mouseup",h);};PXToolBar.prototype.detachEventHandlers=function(){var h=this.eventsH,e=this.elemItems;__px(this).removeEventHandler(e,"mouseover",h);__px(this).removeEventHandler(e,"mouseout",h);__px(this).removeEventHandler(e,"mousedown",h);__px(this).removeEventHandler(e,"mouseup",h);};PXToolBar.prototype.setProperties=function($c){if($c&&$c.items){var $h=Math.min($c.items.length,this.items.length);for(var i=0;i<$h;i++){var $f=this.items[i],ip=$c.items[i];if($f.constructor.isAssignableFrom(PXToolBarButton)){__px_cm(this).readProperties($f,ip,PXToolBarButton.callbackProps);if(ip.text!=null)$f.setText(ip.text);if(ip.title!=null)$f.setTooltip(ip.title);if(ip.menuItems){var $props=ip.menuItems,$i=$f.getMenu();if($props!=null)eval("$props = "+$props);if($i)$i.items.refresh($props);}}else if($f.type=='PXToolBarLabel'){__px_cm(this).readProperties($f,ip,PXToolBarLabel.callbackProps);}else if($f.readProperties)$f.readProperties(ip);}}};PXToolBar.prototype.onResize=function(){if(__px(this).isVisible(this.element))this.setWidth(__px(this).getStyleWidth(this.element.parentNode));};PXToolBar.prototype.onLoad=function(){for(var i=0;i<this.items.length;i++){var $f=this.items[i];if($f==null)continue;var $j=$f.commandSourceID;if(!$j)$j=this.commandSourceID;if($j){var $k=__px_all(this)[$j];if($k&&$k.registerCommandControl){var $l=$f.commandName;if($l)$k.registerCommandControl(this,$l);}};if($f.autoCallBack&&$f.autoCallBack.command&&$f.autoCallBack.target){var $m=__px_all(this)[$f.autoCallBack.target];if($m&&$m.registerCommandControl)$m.registerCommandControl(this,$f.autoCallBack.command);};if($f.dependOnGrid){var $n=$f.linkedGrid=__px_all(this)[$f.dependOnGrid];if($n){$f.setEnabled($f.getEnabledState());if(!$n.toolBarAttached){$n.toolBarAttached=true;var h=Function.createDelegate(this,this.$0t);$n.events.addEventHandler("afterRepaint",h);$n.events.addEventHandler("afterRepaintRow",h);}}};if($f.onLoad)$f.onLoad();};if(this.canOverflow)this.$0u();};PXToolBar.prototype.initItems=function($e){this.items=new Array();if($e==null)return;var $o=this.elemItems.childNodes;for(var $i=0,j=0;$i<$e.length&&j<$o.length;j++){var $current=$e[$i],$ei=$o[j];if($ei==null||$ei.tagName!="LI")continue;var $d=$current.key,$p=$current.type;var $item=null,$thisPtr=this;if($p)eval("$item = new "+$p+"($thisPtr, $i, $current, $ei);");else $item=new PXToolBarLabel(this,$i,$current,$ei);if($item){this.items[$i]=$item;if($d&&String(parseInt($d))!=$d)this.items[$d]=$item;$item.itemCell=$ei;$item.visible=($ei.style.display!="none");};$i++;}};PXToolBar.prototype.createButton=function($q,$r,$s,$t,$u){var li=__doc(this).createElement("li");var $v=__doc(this).createElement("div"),$w=__doc(this).createElement("div");$v.className="toolsBtn";$w.className=this.styles.normal;$w.setAttribute("data-type","button");$v.appendChild($w);li.appendChild($v);if($s)__px_cm(this).createSpriteOrImage($v,$s);if($r)$w.appendChild(__doc(this).createTextNode($r));var $x=new Object();$x.toggleMode=$t;$x.toggleGroup=$u;var $f=new PXToolBarButton(this,$q,$x,li);$f.itemCell=li;$f.allowHide=true;$f.visible=(li.style.display!="none");if($q>=0&&$q<this.items.length){this.elemItems.insertBefore(li,this.items[$q].itemCell);this.items.splice($q,0,$f);for(var i=$q+1;i<this.items.length;i++)this.items[i].index=i;}else{this.elemItems.appendChild(li);this.items.push($f);};return $f;};PXToolBar.prototype.removeItem=function($q){if($q<0||$q>=this.items.length)return;var $f=this.items[$q],li=$f.itemCell,mi=$f.$0v;li.parentNode.removeChild(li);if(mi&&this.overflowMenu)this.overflowMenu.items.removeItem(mi.index);this.items.splice($q,1);for(var i=$q;i<this.items.length;i++)this.items[i].index=i;};PXToolBar.prototype.$0t=function($n,ev){for(var i=0;i<this.items.length;i++){var $f=this.items[i];if($f!=null&&$f.linkedGrid==$n)$f.setEnabled($f.getEnabledState());}};PXToolBar.prototype.getVisible=function(){return this.element.style.display!="none";};PXToolBar.prototype.setVisible=function($y){if(this.getVisible()!=$y){this.element.style.display=($y?"":"none");this.viewState.update("Visible",Boolean($y));}};PXToolBar.prototype.getEnabled=function(){return __px(this).getEnabled(this.element);};PXToolBar.prototype.setEnabled=function($z){if(this.getEnabled()!=$z){__px(this).setEnabled(this.element,$z);this.viewState.update("Enabled",Boolean($z));}};PXToolBar.prototype.execItem=function($f){$f.exec(null);};PXToolBar.prototype.$0w=function($u,$f){var $e=this.items;for(var i=0;i<$e.length;i++){if($e[i].toggleGroup==$u&&$e[i]!=$f)$e[i].setPushed(false);}};PXToolBar.prototype.$0x=function($u,$f){if(this.overflowMenu==null)return;var $A=this.overflowMenu.items;if($A)for(var i=0;i<$A.length;i++){var ci=$A.getItem(i);if(ci==null||!ci.toggleGroup||ci==$f)continue;if(ci.toggleGroup==$u)ci.setChecked(false);}};PXToolBar.prototype.setWidth=function($B){$B=__px(this).getStyleWidth(this.element,$B);this.element.style.width=$B+"px";if(this.scrollDiv){this.scrollDiv.style.width=$B+"px";var h=Function.createDelegate(this,this.arrangeOverflowItems);__px_cm(this).registerTimeout(setTimeout(h,1));}};PXToolBar.prototype.fireEvent=function(id,ev,$C){return this.events.fireEvent(id,ev,$C);};PXToolBar.prototype.commandStateCallback=function($D,$E){for(var i=0;i<this.items.length;i++){var $f=this.items[i];var $l=$f.commandName;if(String.compare($l,$E,true)){PXToolBar.setItemState($f,$D);break;}}};PXToolBar.prototype.commandStateAutoCallback=function($D,$E){for(var i=0;i<this.items.length;i++){var $f=this.items[i],cs=$f.autoCallBack;if(!$f.popupPanel&&cs&&cs.command&&cs.target&&String.compare(cs.command,$E,true)){PXToolBar.setItemState($f,$D);break;}}};PXToolBar.setItemState=function($f,$D){$f.commandState=$D;if($f.setEnabled)$f.setEnabled($f.getEnabledState());if($f.setVisible)$f.setVisible($D.getVisible());var $F=$D.getDisplayName();if($f.setText&&$f.syncText&&$F!=null&&$f.displayStyle!=1)$f.setText($F);var $G=$D.getTooltip();if($f.setTooltip&&$G!=null)$f.setTooltip($G);};PXToolBar.prototype.arrangeOverflowItems=function(){if(this.scrollDiv==null)this.$0u();if(this.scrollDiv==null||this.scrollDiv.offsetWidth==0||this.overflowItem==null)return;var $v=this.scrollDiv,$H=(this.items.length-1),i;var $I=(__px(this).IsIE||__px(this).IsIE11||__px(this).IsSafari);var $J=function(){$K=($v.scrollWidth-$v.offsetWidth);if($I&&$K<=1)$K=0;};$J();if($K>0){this.$0y();this.overflowItem.setVisible(true);for(i=$H-1;i>=0&&$K>0;i--){var $f=this.items[i];if($f.$0z||($f.getVisible==null||!$f.getVisible()))continue;if($f.toggleGroup&&$f.getPushed())continue;if($f.allowHide){this.$0A($f);$J();this.$0B=true;}}}else if(this.$0B){var $L=$v.offsetWidth,$M=0;var $B=this.overflowItem.itemCell.offsetWidth,$N=$B;for(i=0;i<$H;i++){var $f=this.items[i];if(!$f.$0z&&($f.getVisible==null||$f.getVisible()))$B+=$f.$0C?$f.$0C:$f.itemCell.offsetWidth;if($f.$0z)$M++;};for(i=0;i<$H&&$L>$B;i++){var $f=this.items[i];if(!$f.$0z)continue;$B+=$f.$0C;if($M==1)$L+=$N;if($B<=$L){this.$0D($f);$M--;}else break;};if(i==$H){this.overflowItem.setVisible(false);this.$0B=false;}}};PXToolBar.prototype.$0A=function($f){$f.$0C=$f.itemCell.offsetWidth;$f.$0z=true;$f.itemCell.style.display="none";if(this.overflowMenu){if($f.constructor.isAssignableFrom(PXToolBarButton)){var im=$f.images,$O;var $r=$f.getText().trim()?$f.getText():$f.getTooltip();var $j=$f.commandSourceID;if(!$j)$j=this.commandSourceID;$O=this.overflowMenu.items.insertItem(0,$r.trim(),im.normal,im.disabled,$f.getEnabled(),$f.toggleMode,$f.getPushed());$f.$0v=$O;$O.linkedButton=$f;$O.toggleGroup=$f.toggleGroup;$O.autoPostBack=$f.autoPostBack;$O.target=$f.target;$O.navigateUrl=$f.navigateUrl;$O.openFrameset=$f.openFrameset;$O.commandSourceID=$j;$O.commandName=$f.commandName;$O.commandArgument=$f.commandArgument;$O.popupPanel=$f.popupPanel;$O.autoCallBack=$f.autoCallBack;if($j&&$f.commandName){var $k=__px_all(this)[$j];if($k.registerCommandControl){var $l=$f.commandName;if(!$l&&$f.autoCallBack)$l=$f.autoCallBack.command;$k.registerCommandControl(this.overflowMenu,$l);}}}}};PXToolBar.prototype.$0u=function(){if(!this.canOverflow||this.scrollDiv!=null)return;this.scrollDiv=this.elemItems.parentNode;__px_cm(this).registerRequiresOnResize(this);this.overflowItem=this.items["hi"];if(this.overflowItem){this.overflowItem.setEnabled(true);var $i=this.overflowItem.getMenu();if($i){this.overflowMenu=$i;$i.commandSourceID=this.commandSourceID;var h1=Function.createDelegate(this,this.$0E);var h2=Function.createDelegate(this,this.$0F);$i.events.addEventHandler("itemClick",h1);$i.events.addEventHandler("itemCheck",h2);}}};PXToolBar.prototype.$0D=function($f){var style=$f.itemCell.style;if($f.visible)style.display="";if(!style.width.endsWith("%"))delete $f.$0C;$f.$0z=false;if(this.overflowMenu&&$f.constructor.isAssignableFrom(PXToolBarButton)){var mi=$f.$0v;if(mi){this.overflowMenu.items.removeItem(mi.index);if($f.toggleMode)$f.setPushed(mi.getChecked());delete $f.$0v;}}};PXToolBar.prototype.$0y=function(){var $H=(this.items.length-1);for(var i=0;i<$H;i++){var $f=this.items[i],style=$f.itemCell.style;if(($f.getVisible==null||$f.getVisible())&&!$f.$0z&&style.width.endsWith("%"))$f.$0C=$f.itemCell.offsetWidth;}};PXToolBar.prototype.$0E=function($i,e){if(e.item.linkedButton){$i.setActive(false);e.item.linkedButton.exec(e.event);e.cancel=true;if(e.item.toggleGroup&&e.item.getChecked()){this.$0D(e.item.linkedButton);this.arrangeOverflowItems();}}};PXToolBar.prototype.$0F=function($i,e){var $P=e.item.toggleGroup;if(!$P)return;if(!e.checked){this.$0w($P);this.$0x($P,e.item);}else e.cancel=true;};function PXToolBarContainer($Q,$q,$c,ei){PXToolBarContainer.initializeBaseA(this,[$Q,$q,$c,ei]);};PXToolBarContainer.__baseType=PXToolBarLabel;function PXToolBarButton($Q,$q,$c,ei){this.px_context=$Q.px_context;this.owner=$Q;this.index=$q;__px_cm(this).readProperties(this,$c,PXToolBarButton.properties);this.getMenu();if(this.autoCallBack){var s=this.autoCallBack;if(!s.handler)s.handler=$Q.callBackHandler;if(!s.target)s.target=$Q.callBackTarget;};this.element=ei.childNodes[0];this.element.object=this;var $R=this.element.childNodes;for(var i=0;i<$R.length;i++){var $S=$R[i],$p=null;if($S.getAttribute)$p=$S.getAttribute("data-type");if($p=="button")this.mainCell=$S;else if($p=="drop")this.dropCell=$S;}};PXToolBarButton.properties=[["displayStyle",JSType.Int,0],["key",JSType.String,""],["cssClass",JSType.String,""],["autoPostBack",JSType.Bool,null],["target",JSType.String,""],["navigateUrl",JSType.String,""],["openFrameset",JSType.Bool,false],["queryString",JSType.String,""],["collectParams",JSType.Int,0],["commandSourceID",JSType.String,""],["commandName",JSType.String,""],["commandArgument",JSType.String,""],["dependOnGrid",JSType.String,""],["stateColumn",JSType.String,""],["popupPanel",JSType.String,""],["toggleMode",JSType.Bool,false],["toggleGroup",JSType.String,""],["pushed",JSType.Bool,false],["dynamicText",JSType.Bool,false],["syncText",JSType.Bool,true],["allowHide",JSType.Bool,true],["suppressActions",JSType.Bool,false],["images",JSType.Object,null],["pushedImages",JSType.Object,null],["autoCallBack",JSType.Object,PXCallbackManager.settingsDesc],["popupCommand",JSType.Object,PXCallbackManager.settingsDesc],["text",JSType.String,""],["menuButton",JSType.Bool,false],["css",JSType.String,""],["usesSignalR",JSType.Bool,false]];PXToolBarButton.callbackProps=[["visible",JSType.Bool,true,"setSyncStateVisible"],["enabled",JSType.Bool,true,"setSyncStateEnabled"],["suppressActions",JSType.Bool,false,"setSuppressActions"],["navigateUrl",JSType.String,""],["queryString",JSType.String,""],["pushed",JSType.Bool,false,"setPushed"]];PXToolBarButton.prototype.type='PXToolBarButton';PXToolBarButton.prototype.setSyncStateVisible=function($T){if($T){var $D=this.calcState();if($D!=null)$T=$D.getVisible();};this.setVisible($T);};PXToolBarButton.prototype.setSyncStateEnabled=function($T){if($T){var $D=this.getEnabledState(this.calcState());this.setEnabled(($D!=null)?$D:$T);}else this.setEnabled($T);};PXToolBarButton.prototype.calcState=function(){var $l=this.commandName,$U=this.commandSourceID;if(!$U&&this.owner)$U=this.owner.commandSourceID;if((!$l||!$U)&&this.autoCallBack&&!this.popupPanel){$l=this.autoCallBack.command;$U=this.autoCallBack.target;};if($l&&$U){var $m=__px_all(this)[$U];if($m&&$m.getCommandState)return $m.getCommandState(this,$l);};return null;};PXToolBarButton.prototype.setImage=function($V){var $W=this.$0G();if($W)this.buttonImage=__px_cm(this).repaintImage($W,$V);};PXToolBarButton.prototype.getVisible=function(){return this.visible;};PXToolBarButton.prototype.setVisible=function($y){if(!this.$0z)this.itemCell.style.display=$y?"":"none";if(!$y&&this.$0H)this.$0H.setActive(false);this.visible=$y;if(this.owner.trackSeparators)this.$0I();if(this.$0v)this.$0v.setVisible($y);};PXToolBarButton.prototype.getEnabled=function(){return __px(this).getEnabled(this.element);};PXToolBarButton.prototype.setEnabled=function($z){if(this.getEnabled()!=$z&&(this !=this.owner.overflowItem||$z)){__px(this).setEnabled(this.element,$z);this.setStyle();if(this.$0v)this.$0v.setEnabled($z);}};PXToolBarButton.prototype.setSuppressActions=function($T){if(this.suppressActions!=$T){this.suppressActions=$T;this.setStyle();}};PXToolBarButton.prototype.getEnabledState=function($D){if($D!=null)this.commandState=$D;if(!this.commandState)return null;var $D=this.commandState.getEnabled();if(this.linkedGrid&&($D==null||$D==true)){var $X=(this.linkedGrid.rows.length>0),ar=this.linkedGrid.activeRow;if(this.stateColumn&&ar){var $Y=ar.getCell(this.stateColumn);if($Y)$X=Boolean($Y.getValue());};$D=$X;};return $D;};PXToolBarButton.prototype.hasAction=function(){var cs=this.autoCallBack;var $Z=(cs&&cs.enabled&&cs.command)||this.commandName||this.autoPostBack||this.navigateUrl||this.popupPanel||this.toggleMode;if(this.suppressActions)$Z=false;return $Z;};PXToolBarButton.prototype.getPushed=function(){if(this.toggleMode)return this.pushed;return false;};PXToolBarButton.prototype.setPushed=function($00){if(this.toggleMode&&$00!=this.getPushed()){this.pushed=$00;this.setStyle();if(this.getEnabled()&&this.pushedImages.normal==null){if($00)this.element.setAttribute("pushed","1");else this.element.removeAttribute("pushed");};if($00&&this.toggleGroup){this.owner.$0w(this.toggleGroup,this);this.owner.$0x(this.toggleGroup,this.$0v);}}};PXToolBarButton.prototype.getText=function(){return __px(this).getElemText(this.mainCell);};PXToolBarButton.prototype.setText=function(v){__px(this).setElemText(this.mainCell," "+v,true);this.text=v;};PXToolBarButton.prototype.getTooltip=function(){return __px(this).getTitle(this.element);};PXToolBarButton.prototype.setTooltip=function(v){__px(this).setTitle(this.element,v);};PXToolBarButton.prototype.getMenu=function(){if(this.$0H==null){var $01=this.getMenuID();this.$0H=PXMenu.createMenuControl($01,this.px_context);if(this.$0H){var $02=this.$0H.events;$02.addEventHandler("deactivate",PXToolBar.$0J);this.$0H.linkedButton=this;__px(this).addEventHandler(this.$0H.element,"mouseover",Function.createDelegate(this,this.$0K));}};return this.$0H;};PXToolBarButton.prototype.$0K=function(e){if(!this.dropPushed){if(this.$0L){clearTimeout(this.$0L);delete this.$0L;};this.dropPushed=true;this.setStyle();this.owner.$0M=this;}};PXToolBarButton.prototype.getMenuID=function(){return this.owner.ID+"_menu"+(this.key?this.key:this.index);};PXToolBarButton.prototype.$0N=function($03,$T){this.owner.viewState.updateListItem("Items",this.index,$03,$T);};PXToolBarButton.prototype.exec=function(e){var $g=new Object();$g.button=this;if(this.suppressActions||this.owner.fireEvent(1,e,$g))return;var $04=this.owner,$05=this.autoPostBack,ev=$04.events.eventArgs;if($05==null)$05=$04.autoPostBack;var $j=this.commandSourceID,cs=this.autoCallBack;if(!$j)$j=$04.commandSourceID;if(this.navigateUrl){if(!ev.cancelPostBack){if(this.collectParams==1){var $a=new Object();$a.button=this;var $06=PXToolBarButton.$0O;__px_callback(this).execI($04,$04.paramsCall,this.index,$06,$a);}else this.navigate(e);}}else if($05){if(!ev.cancelPostBack){var name=$04.element.getAttribute("name");__px(this).doPost(name,"click:"+this.index);}}else if(cs&&cs.enabled&&cs.command){if(e)e.openFrameset=this.openFrameset;if(!ev.cancelCallBack)__px_callback(this).exec($04,this.autoCallBack,this.popupCommand);}else if($j&&this.commandName){var $k=__px_all(this)[$j];if($k&&$k.executeCommand){$k.sourceEvent=e;$k.executeCommand(this.commandName,this.commandArgument,this.popupCommand);}};if(this.popupPanel&&!$05&&!this.navigateUrl){var $07=__px_all(this)[this.popupPanel];if($07){if(!$07.getVisible()){$07.closeCallback=this.popupCommand;$07.show(this);}else $07.hide();}}};PXToolBarButton.prototype.navigate=function(e){var $U=this.target?this.target:this.owner.target;var qs=this.queryString;var $V=qs?(this.navigateUrl+(this.navigateUrl.indexOf("?")===-1?"?":"&")+qs):this.navigateUrl;if(this.popupPanel){var $07=__px_all(this)[this.popupPanel];if($07.getVisible()&&$V==$07.getPageUrl())$07.hide();else{$07.setPageUrl($V);$07.show(this);}}else{var $08=(e&&(e.shiftKey||e.ctrlKey));__px(this).openUrl($V,$U,$08||this.openFrameset);}};PXToolBarButton.$0O=function($09,$a){var $0a=$a.button;if($0a&&$09){$0a.queryString=$09;$0a.navigate();}};PXToolBarButton.prototype.$0G=function(v){if(this.hasOwnProperty("buttonImage"))return this.buttonImage;var n=this.mainCell?this.mainCell.childNodes[0]:null;while(n&&!__px_cm(this).isSpriteOrImage(n))n=n.nextSibling;this.buttonImage=n;return n;};PXToolBarButton.prototype.$0P=function($p,$00){var im=$00?this.pushedImages:this.images,$0b;if(im)switch($p){case 0:$0b=im.normal;break;case 1:$0b=im.disabled;break;case 2:$0b=im.hover;break;};if(!$0b){if($p>0)$0b=this.$0P(0,$00);else if($00)$0b=this.$0P(0,false);};return $0b;};PXToolBarButton.prototype.$0I=function(){var $0c=this.getVisible(),i=this.index,$0d;while(++i<this.owner.items.length){var $f=this.owner.items[i];if($f instanceof PXToolBarSeperator){$0d=$f;break;};if($f.getVisible==null||$f.getVisible())$0c=true;};if($0d&&!$0c){i=this.index;while(--i>=0){var $f=this.owner.items[i];if($f instanceof PXToolBarSeperator)break;if($f.getVisible==null||$f.getVisible()){$0c=true;break;}}};if($0d)$0d.setVisible($0c);};PXToolBarButton.prototype.setStyle=function(){var $0e=new Array(),$0f=new Array(),$00=this.getPushed();var $04=this.owner,$V=null,$0g=$04.styles;var im=this.$0G(),$0h=this.getEnabled();if(!$0h){if($0g.disabled)$0e.push($0g.disabled);if(im)$V=this.$0P(1,$00);}else if(this.dropPushed){if($0g.dropDown)$0e.push($0g.dropDown);if($0g.dropPushed)$0f.push($0g.dropPushed);if(im)$V=$V=this.$0P(2,$00);}else if(this.$0Q){if($0g.pushed)$0e.push($0g.pushed);if($0g.dropHover)$0f.push($0g.dropHover);if(im)$V=this.$0P(2,$00);}else if($00){if($0g.pushed)$0e.push($0g.pushed);}else if(this.$0R){if($0g.hover)$0e.push($0g.hover);if($0g.dropHover)$0f.push($0g.dropHover);if(im)$V=this.$0P(2,$00);};if($0e.length==0&&$0g.normal)$0e.push($0g.normal);if($0f.length==0&&$0g.dropNormal)$0f.push($0g.dropNormal);if(this.cssClass)$0e.push(this.cssClass);if(this.suppressActions&&im)$V=this.$0P(1,$00);this.mainCell.className=$0e.join(" ");if(this.dropCell!=null)this.dropCell.className=$0f.join(" ");if(im){if(!$V)$V=this.$0P(0,$00);this.buttonImage=__px_cm(this).repaintImage(im,$V);}};PXToolBarButton.prototype.setNormalState=function($0i){var $i=this.getMenu();if($i&&$i.getActive&&$i.getActive()){if($0i)this.$0L=setTimeout(function(){$i.setActive(false);},300);else $i.setActive(false);};this.dropPushed=this.$0Q=this.$0R=false;this.setStyle();};PXToolBarButton.prototype.setConnection=function(id){if(!this.usesSignalR)return;if(this.commandArgument){if(this.commandArgument.indexOf('|')==-1){this.commandArgument=this.commandArgument+'|'+id;}}else this.commandArgument='|'+id;};PXToolBarButton.prototype.removeConnection=function(){if(!this.usesSignalR||!this.commandArgument)return;var $q=this.commandArgument.lastIndexOf('|');if($q>-1)this.commandArgument=this.commandArgument.substring(0,$q);};function PXToolBarLabel($Q,$q,$c,ei){this.px_context=$Q.px_context;this.owner=$Q;this.index=$q;__px_cm(this).readProperties(this,$c,PXToolBarLabel.properties);this.element=ei.childNodes[0];if(this.element)for(var i=0;i<this.element.childNodes.length;i++){var e=this.element.childNodes[i];if(e.tagName=="NOBR"){this.element=e;break;}}};PXToolBarLabel.properties=[["key",JSType.String,""],["allowHide",JSType.Bool,true]];PXToolBarLabel.callbackProps=[["visible",JSType.Bool,true,"setVisible"],["text",JSType.String,"","setText"]];PXToolBarLabel.prototype.type='PXToolBarLabel';PXToolBarLabel.prototype.getVisible=function(){return this.visible;};PXToolBarLabel.prototype.setVisible=function($y){if(!this.$0z)this.itemCell.style.display=$y?"":"none";this.visible=$y;this.$0N("Visible",Boolean($y));};PXToolBarLabel.prototype.getText=function(){return __px(this).getElemText(this.element);};PXToolBarLabel.prototype.setText=function(v){__px(this).setElemText(this.element,v,true);this.$0N("Text",v);};PXToolBarLabel.prototype.setInnerHTML=function(v){this.element.innerHTML=v;};PXToolBarLabel.prototype.getTooltip=function(){return __px(this).getTitle(this.element);};PXToolBarLabel.prototype.setTooltip=function(v){__px(this).setTitle(this.element,v);this.$0N("Tooltip",v);};PXToolBarLabel.prototype.$0N=function($03,$T){this.owner.viewState.updateListItem("Items",this.index,$03,$T);};function PXToolBarSeperator($Q,$q,$c,ei){this.px_context=$Q.px_context;this.owner=$Q;this.index=$q;this.key=$c.key;this.allowHide=true;this.element=ei.childNodes[0];this.element.object=this;};PXToolBarLabel.prototype.type='PXToolBarSeperator';PXToolBarSeperator.prototype.getVisible=function(){return this.visible;};PXToolBarSeperator.prototype.setVisible=function($y){if(!this.$0z)this.itemCell.style.display=$y?"":"none";this.visible=$y;};PXToolBarSeperator.prototype.getText=function(){return __px(this).getElemText(this.element);};PXToolBarSeperator.prototype.setText=function(v){__px(this).setElemText(this.element,v,true);};PXToolBar.prototype.$0s=function(e){var se=__px(this).eventElem(e);switch(e.type){case "selectstart":case "contextmenu":if(se&&se.tagName!="INPUT")__px(this).cancelEvent(e,false);return;case "mousedown":if(!__px(this).IsIE&&!__px(this).IsIE11&&!__px(this).IsEdge&&se&&se.tagName!="INPUT")__px(this).cancelEvent(e,false);break;};var $f,$0j=false,el=se;while(el!=null&&el!=this.element&&el.object==null){if(el.getAttribute&&el.getAttribute("data-type")=="drop")$0j=true;el=el.parentNode;};$f=el?el.object:null;if($f&&$f.owner==this){var $Z=$f.hasAction&&$f.hasAction();if(!$Z&&$f.getMenu&&$f.getMenu()&&$f.getEnabled()){$0j=true;$f.getMenu().autoOpen=this.AutoOpen;};switch(e.type){case "mouseover":var $0k=this.AutoOpen?$0j&&!$Z:false;return this.$0S($f,e,$0k);case "mouseout":return this.$0T($f,e);case "mousedown":return this.$0U($f,e,$0j);case "mouseup":return this.$0V($f,e,$0j);}}};PXToolBar.prototype.AutoOpen=false;PXToolBar.prototype.$0S=function($f,e,$0j){if($f.constructor.isAssignableFrom(PXToolBarButton)){if(this.$0M&&this.$0M!=$f){this.$0M.setNormalState(true);this.$0M=null;};$f.$0R=true;this.$0M=$f;if($0j){var $i=$f.getMenu();if($i&&!$i.getVisible()){this.$0L=setTimeout(function(){$i.show($f.element,$f.menuAbove?2:1);if($i.getVisible()){$f.dropPushed=true;$f.setStyle();if(__px_tm(this))__px_tm(this).suppress(500);}},300);};__px(this).cancelEvent(e,false);};$f.setStyle();}};PXToolBar.prototype.$0T=function($f,e,$0j){if(($f.constructor.isAssignableFrom(PXToolBarButton))&&$f.$0R){if(!__px(this).isActiveWC())__px(this).unregisterWaitTask(this);$f.$0R=false;if(!$f.dropPushed){$f.setNormalState();this.$0M=null;};if(this.$0L){clearTimeout(this.$0L);delete this.$0L;}}};PXToolBar.prototype.$0U=function($f,e,$0j){if(($f.constructor.isAssignableFrom(PXToolBarButton))&&$f.getEnabled()){if($0j){var $g=new Object();$g.button=$f;if(!$f.dropPushed&&this.fireEvent(2,e,$g))return;};var $i=$f.getMenu();if($f.dropPushed){if($i)$i.setActive(false);}else{if($0j&&$i){$f.dropPushed=true;$i.show($f.element,$f.menuAbove?2:1);}else{$f.$0Q=true;$f.execCommand=false;var $0l=$f.getPushed();if(!$f.toggleMode||!$f.toggleGroup||!$0l){$f.execCommand=true;__px(this).registerWaitTask(this,this.execItem,$f);var ae=__doc(this).activeElement;if(ae&&ae.classList.contains('au-target')){ae.blur();setTimeout(function(){ae.focus();},0);}}}};$f.setStyle();}};PXToolBar.prototype.$0V=function($f,e,$0j){if($f.constructor.isAssignableFrom(PXToolBarButton)){if($f.$0Q&&!$f.dropPushed){$f.$0Q=false;$f.setStyle();};if(!$f.getEnabled()||$f.dropPushed||!$f.execCommand)return;if($f.toggleMode)$f.setPushed($f.toggleGroup?true:!$f.getPushed());__px(this).unregisterWaitTask();$f.exec(e);}};PXToolBar.$0J=function($Q,e){var $0a=$Q.linkedButton;if(e.id==2&&$0a){$0a.dropPushed=false;$0a.setStyle();}};if(window["React"]!=null){PXToolBar.ReactButton=window.createReactClass({'render':function(){var $f=this.props.item,$0g=this.props.styles,$0a=null;var $0m=$0g.normal,$0h=$f.enabled==null||$f.enabled;if(!$0h)$0m=$0g.disabled;else if($f.pushed)$0m=$0g.pushed;if($f.menuButton){$0a=React.createElement("div",{'className':$0g.dropNormal,'data-type':'drop'},React.createElement(PXToolBar.ReactSprite,{'type':'control','icon':'ArrowDown'}));};var $0n='toolsBtn'+($f.css?(' '+$f.css):'');var $d=$f.key?$f.key:$f.commandName;return React.createElement("div",{'className':$0n,'data-cmd':$d},React.createElement("div",{'className':$0m,'data-type':'button'},$f.text),$0a);}});PXToolBar.ReactSprite=window.createReactClass({'render':function(){var $0o=this.props.icon,$p=this.props.type;return React.createElement("div",{'className':'sprite-icon '+$p+'-icon','icon':$0o},React.createElement("div",{'className':$p+'-icon-img '+$p+'-'+$0o},'\u00a0'));}});PXToolBar.ReactItemsList=window.createReactClass({'render':function(){var $e=this.props.items,$0g=this.props.styles;var id=this.props.id,$0p=this.createItem;var $0m='toolsList'+(this.props.asTable?' asTable':'');return React.createElement("ul",{'id':id+'_ul','className':$0m},$e.map(function(n){var $0q=n.visible==null||n.visible;return React.createElement("li",{'key':n.key,'style':{$0r:$0q?'':'none'}},$0p(n,$0g));}));},'createItem':function(n,$0g){switch(n.type){case 'PXToolBarButton':return React.createElement(PXToolBar.ReactButton,{'item':n,'styles':$0g});};return null;}});};



function PXNavPanel($a,$b,$c){this.px_context=$a;this.element=$b;this.ID=$b.id;__px_cm(this).readProperties(this,$c);this.footerID=this.ID+"_"+this.footerID;this.contentID_prefix=this.ID+"_"+this.contentID;var $d=PXNavPanel.$0u;__px(this).addEventHandler(this.element,"click",$d);__px(this).addEventHandler(this.element,"dblclick",$d);__px(this).addEventHandler(this.element,"selectstart",$d);__px(this).addEventHandler(this.element,"contextmenu",$d);__px(this).addEventHandler(this.element,"mousedown",$d);__px(this).addEventHandler(this.element,"mouseover",$d);__px(this).addEventHandler(this.element,"mouseout",$d);var $e=PXNavPanel.$0v;this.splitterRowIndex=2;this.splitterCell=this.element.rows[this.splitterRowIndex].cells[0];__px(this).addEventHandler(this.splitterCell,"mousedown",$e);this.visibleBarsTable=this.element;this.footerTable=this.$0w();this.scrollDiv=this.footerTable.parentNode;var $f=this.footerTable.rows[0].cells;this.overflowCell=$f[$f.length-1];this.$0x=null;this.$0y=null;this.isDragging=false;this.$0z=this.$0A(true);this.$0B=null;this.$0C=true;this.$0D=null;this.useStandardModeRender=false;__px_cm(this).registerAutoSize(this,$c);this.events=new PXEventList(this,PXNavPanel.events,$c.clientEvents);this.viewState=new PXStateBag(this,"PXNavPanel");__px_cm(this).registerRequiresOnLoad(this,$b.id);};PXNavPanel.footerSpacerIndex=0;PXNavPanel.properties=[["activeBarIndex",JSType.Int,0],["visibleBars",JSType.Int,1],["footerID",JSType.String,"ft"],["contentID",JSType.String,"cnt"],["activeBarClass",JSType.String,""],["barClass",JSType.String,""],["hoverBarClass",JSType.String,""],["bars",JSType.Empty,new Array()]];PXNavPanel.events={$initialize:0,$activeBarChanging:1,$activeBarChanged:2};PXNavPanel.prototype.onAfterResize=function(){var h=Function.createDelegate(this,this.arrangeOverflowItems);setTimeout(h,1);};PXNavPanel.prototype.onLoad=function(){__px_cm(this).createPersistentCookie();var $g=__px(this).getCookie("activebar");if($g!=null){this.setActiveBarItem(parseInt($g));}};PXNavPanel.prototype.onUnload=function(e){var i=this.activeBarIndex;if(i!=null)__px(this).setCookie("activebar",i,"/");this.storeVisibleBars();};PXNavPanel.prototype.storeVisibleBars=function(){if(__px_cm(this).cookieP)__px_cm(this).cookieP[this.ID]=this.visibleBars;};PXNavPanel.prototype.destructor=function(){if(this.$0E)__px_cm(this).clearControl(this.$0E);};PXNavPanel.prototype.getVisible=function(){return this.element.style.display!="none";};PXNavPanel.prototype.setVisible=function($h){this.setVisible($h,true);};PXNavPanel.prototype.setVisible=function($h,$i){this.element.style.display=($h?"":"none");if($i)this.viewState.update("Visible",$h);};PXNavPanel.prototype.getEnabled=function(){return !this.element.getAttribute("disabled");};PXNavPanel.prototype.setEnabled=function($j){this.element.setAttribute("disabled",$j?null:"disabled");this.viewState.update("Enabled",$j);};PXNavPanel.prototype.setHeight=function($k){var h=parseInt($k),$l=this.element.offsetHeight;var $m=this.$0F();var $n=$m.offsetHeight;var $o=$l-$n;$n=(h-$o);$m.style.height=($n>0?$n:0)+"px";this.element.style.height=$m.style.height;if(this.visibleBars>0)this.$0A(true);};PXNavPanel.prototype.setVisibleBarsNumber=function($p,$q){if($p<0)$p=0;if($p>this.bars.length)$p=this.bars.length;if($p!=this.visibleBars){var $r=($q||(this.$0D==undefined))?this.element.offsetHeight:this.$0D;this.renderBars($p);this.visibleBars=$p;this.viewState.update("VisibleBars",this.visibleBars);if(!this.useStandardModeRender)this.setHeight($r);__px_cm(this).notifyOnResize(true);}};PXNavPanel.prototype.renderBars=function($s){var $t=0,$u=this.$0G();for(var $v=0;$v<this.bars.length;$v++){var $w=this.bars[$v],$x;if($w.visible==0)continue;$t++;var $y=($t<=$s);var $z=($v==this.activeBarIndex);var $A=this.splitterRowIndex+$v+1;var $B=this.visibleBarsTable.rows[$A];$x=$B.cells[0];$B.style.display=$y?"":"none";this.$0H($x,$z);$x=this.$0I($v);if($y){$x.style.display="none";if($w.$0J&&$w.$0K){$u.items.removeItem($w.$0K.index);$w.$0J=false;}}else if(!$w.$0J){$x.style.display="";};this.$0H($x,$z);};setTimeout(Function.createDelegate(this,this.arrangeOverflowItems),1);};PXNavPanel.prototype.setActiveBarItem=function($C,$D){if($C==this.activeBarIndex)return false;if($C<0||$C>=this.bars.length)return false;var $E=this.$0L(this.activeBarIndex);if($D==undefined)$D=this.$0L($C);var $F=this.activeBarIndex;var $G=PXNavPanel.$0M($F,$C);if(this.events.fireEvent(1,null,$G))return false;this.$0H($E,false);this.$0H($D,true);this.displayBarContent(this.activeBarIndex,false);this.displayBarContent($C,true);this.activeBarIndex=$C;this.viewState.update("ActiveBarIndex",this.activeBarIndex);this.events.fireEvent(2,null,$G);setTimeout(function(){__px_cm(this).notifyOnResize(true);},1);return true;};PXNavPanel.prototype.displayBarContent=function($g,on){if($g==null||$g<0||$g>this.bars.length)return;var $H=__px(this).elemByID(this.contentID_prefix+$g);if($H!=undefined)$H.style.display=on?"":"none";if(on){var $I=this.element.rows[0].cells[0],$w=this.bars[$g];__px(this).setTitle($I,$w.tooltip);__px(this).setElemText($I,$w.text,true);if($w.contentUrl){var $J=$I.getElementsByTagName("A")[0];if($J){$J.href=$w.contentUrl;$J.target=$w.target;}}}};PXNavPanel.prototype.arrangeOverflowItems=function(){var $K=this.scrollDiv,$L=(this.bars.length-1);var $M=($K.scrollWidth-$K.offsetWidth),i;if($M==1&&__px(this).IsIE910)$M=0;if($M>0){this.overflowCell.style.display="";for(i=$L;i>=0&&$M>0;i--){var $N=this.bars[i],$O=this.$0I(i);if($N.$0J||($O.style.display=="none"))continue;this.$0N($N,i);this.$0O=true;$M=($K.scrollWidth-$K.offsetWidth);if($M==1&&__px(this).IsIE910)$M=0;}}else if(this.$0O){var $P=$K.offsetWidth;var $Q=this.overflowCell.offsetWidth,$R=$Q;for(i=0;i<=$L;i++){var $N=this.bars[i],$O=this.$0I(i);if(!$N.$0J&&($O.style.display==""))$Q+=$N.$0P?$N.$0P:$O.offsetWidth;};for(i=0;i<=$L&&$P>$Q;i++){var $N=this.bars[i];if(!$N.$0J)continue;$Q+=$N.$0P;if(i==$L)$P+=$R;if($Q<=$P)this.$0Q($N,i);else break;};if(i==($L+1)){this.overflowCell.style.display="none";this.$0O=false;}}};PXNavPanel.prototype.$0N=function($N,$g){var $O=this.$0I($g);$N.$0P=$O.offsetWidth;$N.$0J=true;$O.style.display="none";var $u=this.$0G();if($u){var $S=$N.text?$N.text:$N.tooltip;var im=$N.imageUrl?$N.imageUrl:$N.smallImageUrl;var $T=$u.items.insertItem(0,$S,im,im,true);$N.$0K=$T;$T.$0R=$N;}};PXNavPanel.prototype.$0Q=function($N,$g){var $O=this.$0I($g);$N.$0J=false;$O.style.display="";var $u=this.$0G();if($u){if($N.$0K)$u.items.removeItem($N.$0K.index);}};PXNavPanel.prototype.$0G=function(){if(this.$0E==null){var $U=this.ID+"_om";this.$0E=PXMenu.createMenuControl($U,this.px_context);if(this.$0E){var h=Function.createDelegate(this,this.$0S);this.$0E.events.addEventHandler("itemClick",h);}};return this.$0E;};PXNavPanel.prototype.$0A=function($V){var $k=34;var $W=this.splitterRowIndex+1;var $X=this.visibleBarsTable.rows.length-1;function isElemHidden($b){return($b.style.display=="none");}while($W<$X&&isElemHidden(this.visibleBarsTable.rows[$W]))$W++;if($W<$X){var $Y=this.visibleBarsTable.rows[$W].cells[0];$k=$Y.offsetHeight;return $k;};return $V?$k:null;};PXNavPanel.prototype.recalculateBarHeight=function(){var $k=this.$0A(false);if($k!=undefined)this.$0z=$k;};PXNavPanel.prototype.$0T=function($Z){this.isDragging=true;this.$0B=this.visibleBars;this.$0U($Z);};PXNavPanel.prototype.$0V=function(){this.isDragging=false;};PXNavPanel.prototype.$0W=function($00){if($00==this.$0x)return;this.$0X(this.$0x,false);this.$0X($00,true);};PXNavPanel.prototype.$0X=function($00,on){if($00==null)return;if(on){this.$0y=$00.className;this.$0x=$00;$00.className=this.hoverBarClass+" "+$00.className;}else{$00.className=this.$0y;this.$0y=null;this.$0x=null;}};PXNavPanel.$0M=function($01,$02){var $03=new Object();$03["oldIndex"]=$01;$03["newIndex"]=$02;return $03;};PXNavPanel.prototype.getVisibleItemIndex=function($04){if($04<0||$04>this.bars.length)return null;var $t=0;for(var $v=0;$v<$04;$v++){if(this.bars[$v].visible!=0)$t++;};return $t;};PXNavPanel.prototype.$0L=function($04){var $O=null;if($04<0||$04>this.bars.length)return $O;var $05=this.getVisibleItemIndex($04);var $06=this.visibleBarsTable;if($05>=this.visibleBars){$06=this.footerTable;var $B=$06.rows[0];var $07=PXNavPanel.footerSpacerIndex+1+$04;if($07<$B.cells.length)$O=$B.cells[$07];}else{var $B=$06.rows[this.splitterRowIndex+1+$04];$O=$B.cells[0];};return $O;};PXNavPanel.prototype.$0H=function($00,on){if($00!=undefined){$00.className=on?this.activeBarClass:this.barClass;if(this.$0x==$00)this.$0y=$00.className;}};PXNavPanel.prototype.$0Y=function($B){return($B.rowIndex==this.splitterRowIndex);};PXNavPanel.prototype.$0Z=function($B){var $08=this.splitterRowIndex;var $09=this.element.rows.length-1;return(($B.rowIndex>$08)&&($B.rowIndex<$09));};PXNavPanel.prototype.$10=function($A){var $08=this.splitterRowIndex;var $04=$A-($08+1);if($04<0||$04>=this.bars.length)return null;return $04;};PXNavPanel.prototype.$11=function($07){var $04=($07-1);if(($04<0)||($04>=this.bars.length))return null;return $04;};PXNavPanel.prototype.$12=function($B){var $09=this.element.rows.length-1;return($B.rowIndex>this.splitterRowIndex)&&($B.rowIndex==$09);};PXNavPanel.prototype.$0w=function(){return __px(this).elemByID(this.footerID);};PXNavPanel.prototype.$0F=function(){if(this.visibleBarsTable!=undefined)return this.visibleBarsTable.rows[1].cells[0];return null;};PXNavPanel.prototype.$13=function(){if(this.visibleBarsTable!=undefined){var $g=this.visibleBarsTable.rows.length-1;return this.visibleBarsTable.rows[$g].cells[0];};return null;};PXNavPanel.prototype.$0I=function($g){return this.footerTable.rows[0].cells[$g+1];};PXNavPanel.$0u=function(e){if(__px(this).eventElem(e).tagName=="INPUT"){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true;return;};var $0a=__px(this).eventObject(e,PXNavPanel);if(!$0a)return;switch(e.type){case "selectstart":case "contextmenu":__px(this).cancelEvent(e,false);break;case "mouseout":case "mouseover":case "click":case "dblclick":$0a.$14(e);break;case "mousedown":$0a.$14(e);break;}};PXNavPanel.$0v=function(e){var $0a=__px(this).eventObject(e,PXNavPanel);if($0a)switch(e.type){case "mousedown":$0a.$15(e);break;}};PXNavPanel.prototype.$15=function(e){var se=__px(this).eventElem(e),$O=null;var $B=PX.$16(se,this.element);switch(e.type){case "mousedown":this.$0T(e);return __px(this).cancelEvent(e,false);break;}};PXNavPanel.prototype.$0S=function($u,e){var $w=e.item.$0R;this.setActiveBarItem(Array.indexOf(this.bars,$w));};PXNavPanel.prototype.$14=function(e){var se=__px(this).eventElem(e),$O=null,$07;var $B=PX.$16(se,this.element);switch(e.type){case "mouseover":if($B!=null&&!this.isDragging){if(this.$0Z($B)){$O=$B.cells[0];this.$0W($O);}else if(this.$12($B)){$O=PX.$17(se,1);$07=__px(this).getTableCellIndex($O);if($O!=null&&$07>PXNavPanel.footerSpacerIndex)this.$0W($O);}else this.$0W(null);};break;case "mouseout":var $0b=e.relatedTarget||e.toElement;try{if(!__px(this).contains(this.element,$0b))this.$0W(null);}catch(ex){};break;case "mousedown":if(this.$12($B)){$O=PX.$17(se,1);if($O==this.overflowCell){var $u=this.$0G();if($u){$u.getVisible()?$u.setActive(false):$u.show($O,true);}}};break;case "click":case "dblclick":if($B!=null){var $0c=null;if(this.$0Z($B)){$O=$B.cells[0];$0c=this.$10($B.rowIndex)}else if(this.$12($B)){$O=PX.$17(se,1);$07=__px(this).getTableCellIndex($O);$0c=this.$11($07);};if($0c!=undefined){this.setActiveBarItem($0c,$O);if(e.type=="dblclick"){var $w=this.bars[$0c];if($w&&$w.contentUrl!=""&&$w.target!=""){__px(this).openUrl($w.contentUrl,$w.target);}}}};if(se.type=="text")se.focus();break;}};PXNavPanel.prototype.$18=function(e){var $0d=this.$19(false);var $0a=($0d!=undefined)?$0d.object:null;if(!$0a)return;switch(e.type){case "mousemove":$0a.$1a(e);break;case "mouseup":$0a.$1b(e);break;}};PXNavPanel.prototype.$0U=function(e){var $K=this.$19(true),$0e=$K.firstChild;var ds=$K.style;ds.display="";ds.width=(__doc(this).documentElement.clientWidth)+"px";ds.height=(__doc(this).documentElement.clientHeight)+"px";ds.zIndex=20000;ds=$0e.style;ds.left=(__px(this).getElemLeftPos(this.splitterCell,null,false))+"px";ds.top=e.clientY+__doc(this).documentElement.scrollTop+"px";ds.width=this.element.clientWidth+"px";$K.object=this;$K.initY=e.clientY;this.$0D=this.element.offsetHeight;if(this.$1c==null)this.$1c=Function.createDelegate(this,this.$18);__px(this).addEventHandler(__doc(this),"mouseup",this.$1c,true);__px(this).addEventHandler(__doc(this),"mousemove",this.$1c,true);if($K.setCapture)$K.setCapture();};PXNavPanel.prototype.$1a=function(e){var $K=this.$19(false);var $delta=$K.initY-e.clientY;if($delta!=0){var $0f=$K.firstChild;var $0g=this.$1d();var top=$0g.first;var $0h=$0g.second;if(e.clientY>top&&e.clientY<$0h){$0f.style.top=e.clientY+__doc(this).documentElement.scrollTop+"px";if(this.$0C){var bh=this.$0z;var $0i=$delta>0?Math.floor($delta/bh) : Math.ceil($delta/bh);if($0i!=0){var $p=(this.$0B+$0i);if($p!=this.visibleBars)this.setVisibleBarsNumber($p);}}}};__px(this).cancelEvent(e);};PXNavPanel.prototype.$1b=function(e){var $K=this.$19(false);try{$K.style.display="none";if($K.initY!=e.clientY){if(!this.$0C){var $M=$K.initY-e.clientY;var bh=this.$0z;var $0i=Math.floor($M/bh);if($0i!=0){var $p=(this.visibleBars+$0i);this.setVisibleBarsNumber($p);}}};__px(this).cancelEvent(e);}finally{if(this.$1c!=null){__px(this).removeEventHandler(__doc(this),"mouseup",this.$1c,true);__px(this).removeEventHandler(__doc(this),"mousemove",this.$1c,true);};if($K.releaseCapture)$K.releaseCapture();$K.object=null;this.$0V();}};PXNavPanel.prototype.$1d=function(){var $0j=new Object();var $0k=this.$0F();var $0l=this.$13();$0j.first=__px(this).getElemTopPos($0k);$0j.second=__px(this).getElemTopPos($0l);var $0m=__doc(this).documentElement.scrollTop;$0j.first-=$0m;$0j.second-=$0m;return $0j;};PXNavPanel.prototype.$19=function($0n){var $0o=__win(this).theForm;if(!$0o.$1e&&$0n){var $K=__doc(this).createElement("DIV");var ds=$K.style;ds.zIndex=20000;ds.position="absolute";ds.cursor="n-resize";ds.backgroundColor="transparent";ds.top=ds.left="0px";ds.display="none";$0o.appendChild($K);$0o.$1e=$K;var $0e=__doc(this).createElement("DIV");$K.appendChild($0e);ds=$0e.style;ds.position="absolute";ds.borderWidth="0px";ds.fontSize="0px";ds.padding="0px";ds.height="2px";ds.width="0px";ds.backgroundColor="black";};return $0o.$1e;};PX.$16=function($b,$0p){var $00=$b;function isRowOfTable($0q,$06){var $0r=false;if(__px($b).IsDom)$0r=($0q instanceof HTMLTableRowElement);else $0r=($0q.tagName=="TR");if($0r&&$06!=undefined){var $0s=$0q.parentNode;return($0s!=null&&$0s.parentNode==$06);};return $0r;}while($00!=null&&!isRowOfTable($00,$0p))$00=$00.parentNode;return $00;};PX.$17=function($b,$0t){if($0t==null)$0t=0;var $00=$b;function isTableCell($0q){var $0r=false;if(__px($b).IsDom)$0r=($0q instanceof HTMLTableCellElement);else $0r=($0q.tagName=="TD");return $0r;}while($00!=null){if(isTableCell($00)&&($0t--==0))break;$00=$00.parentNode;};return $00;};



var PXDialogResult={None:0,OK:1,Cancel:2,Abort:3,Retry:4,Ignore:5,Yes:6,No:7};function PXSmartPanel($a,$b,$c,$d){this.px_context=$a;this.element=$b;this.ID=$b.id;__px_cm(this).readProperties(this,$c,PXSmartPanel.properties);this.loaded=!this.innerPageUrl&&!this.loadOnDemand;if(this.innerPageUrl)this.innerPageUrl=__px(this).redirectToCachedVersion(this.innerPageUrl);var $e=this.ID.split("_");this.serverID=$e[$e.length-1];if($b.tagName.toLowerCase()=="table"){this.contentCell=__px(this).elemByID(this.ID+"_cont");this.elemCaption=__px(this).elemByID(this.ID+"_cap");this.elemContent=this.contentCell.firstChild;}else this.elemContent=this.element;if(this.elemCaption){var $f=Function.createDelegate(this,this.$0B);var $g=Function.createDelegate(this,this.$0C);var $h=this.elemCaption.childNodes;for(var i=0;i<$h.length;i++){if(!__px_cm(this).isSpriteOrImage($h[i]))continue;$h[i].style.opacity=0.55;__px(this).addEventHandler($h[i],"click",$f);__px(this).addEventHandler($h[i],"mouseover",$g);__px(this).addEventHandler($h[i],"mouseout",$g);__px(this).addEventHandler($h[i],"mousedown",$g);__px(this).addEventHandler($h[i],"mouseup",$g);}};if(this.elemContent&&this.position>0){var h=Function.createDelegate(this,this.$0D);__px(this).addEventHandler(this.elemContent,"click",h);h=Function.createDelegate(this,this.$0E);__px(this).addEventHandler(this.elemContent,"mousedown",h);h=Function.createDelegate(this,this.$0F);__px(this).addEventHandler(this.elemContent,"keydown",h);};if($b.style.display==""){var ec=this.elemContent;if(ec&&ec.tagName=="IFRAME"){var h=Function.createDelegate(this,this.$0G);__px(this).addEventHandler(ec,"load",h);};this.position=0;};this.loadCall=__px_callback(this).copyCommand("Load",this.callBackMode);this.repaintCall=__px_callback(this).copyCommand("Repaint",this.callBackMode);this.$0H=Function.createDelegate(this,this.$0I);this.$0J=Function.createDelegate(this,this.$0I);if(this.allowMove){var $i=$b.getElementsByTagName("iframe")[0]!=null;var $j=this.dragHandleID?this.dragHandleID:this.elemCaption;var $k=(this.contentCell==null)||!$i;__px_cm(this).registerDragControl(this,$j,$k,this.contentCell);};if(this.allowResize)__px_cm(this).registerResizableControl(this,5);this.viewState=new PXStateBag(this,"PXSmartPanel");this.events=new PXEventList(this,PXSmartPanel.events,$c.clientEvents);__px_cm(this).registerAutoSize(this,$c);this.$0K=new Array();__px_cm(this).registerRequiresOnLoad(this,$b.id);};PXSmartPanel.$0L=['A','AREA','BUTTON','INPUT','OBJECT','SELECT','TEXTAREA','IFRAME','DIV','TABLE'];PXSmartPanel.properties=[["loadOnDemand",JSType.Bool,false],["allowMove",JSType.Bool,true],["allowResize",JSType.Bool,true],["autoAdjustSize",JSType.Bool,false],["blockPage",JSType.Bool,true],["innerPageUrl",JSType.String,""],["shadowColor",JSType.String,"rgba(0,0,0,.2)"],["shadowOpacity",JSType.Int,100],["position",JSType.Int,1],["left",JSType.Int,0],["top",JSType.Int,0],["dragHandleID",JSType.String,""],["placeHolderID",JSType.String,""],["onButtonClick",JSType.String,""],["key",JSType.String,""],["commandSourceID",JSType.String,""],["commandName",JSType.String,""],["acceptButtonID",JSType.String,""],["cancelButtonID",JSType.String,""],["activeControlID",JSType.String,""],["showAfterLoad",JSType.Bool,false],["hideAfterAction",JSType.Bool,true],["autoSaveChanges",JSType.Bool,true],["autoReload",JSType.Bool,false],["autoRepaint",JSType.Bool,false],["focusInnerControl",JSType.Bool,true],["autoCallBack",JSType.Object,PXCallbackManager.settingsDesc],["callBackMode",JSType.Object,PXCallbackManager.commandDesc],["closeButtonDialogResult",JSType.Int,PXDialogResult.None]];PXSmartPanel.events={$initialize:0,$beforeShow:1,$afterShow:2,$beforeHide:3,$afterHide:4,$beforeLoad:5,$afterLoad:6,$beforeResize:7,$afterResize:8,$afterRepaint:9};PXSmartPanel.prototype.fireEvent=function(id,ev,$l){switch(id){case "afterShow":if(!this.loadOnDemand&&this.$0M==null){__px_tm(this).register(this.elemContent);this.$0M=true;};this.suppressLayout=true;this.$0N(true);break;case "afterHide":this.suppressLayout=false;this.$0N(false);break;};var $m=this.events.fireEvent(id,ev,$l);switch(id){case "afterHide":this.setVisibleInfo(false);break;};return $m;};PXSmartPanel.prototype.onResize=function($n){this.fireEvent("beforeResize",null);};PXSmartPanel.prototype.onAfterResize=function($n){if($n)__px_cm(this).notifyOnResize(true,this.element);this.fireEvent("afterResize",null);};PXSmartPanel.prototype.onLoad=function(){if(this.autoHide){this.$0O=Function.createDelegate(this,this.$0P);__px(this).addEventHandler(__doc(this),"mousedown",this.$0O,true);}};PXSmartPanel.prototype.show=function($o){var $l=new Object();$l.owner=$o;if(this.getVisible()||this.fireEvent("beforeShow",null,$l))return;var cs=this.autoCallBack,$p=cs&&cs.enabled&&cs.command;var $q=this.showAfterLoad&&(!this.loaded||$p);var $b=this.element,me=this;this.owner=$o;if(this.position==2&&this.placeHolderID){var ph=this.$0Q;if(ph==null)this.$0Q=ph=__px(this).elemByID(this.placeHolderID);if(ph!=null){var es=$b.style,ps=ph.currentStyle,$r=ph.offsetHeight;if(!ps)ps=__win(this).getComputedStyle(ph,null);es.position=ps.position;es.top=ps.top;es.left=ps.left;es.width=this.$0R(ph,"width");if(ph.parentNode!=$b.parentNode)ph.parentNode.appendChild($b);ph.style.display="none";this.element.style.display="";this.setHeight($r);}}else if(this.position!=0){this.$0S();this.$0T();this.$0U();var es=this.element.style;es.position="absolute";es.left=es.top="0px";if(__px(this).IsTablet)es.maxWidth=__doc(this).documentElement.clientWidth+"px";es.zIndex=__px_cm(this).getNextZIndex(this.zIndex?this.zIndex:5000);__px_cm(this).storeActiveDropDown(this);if(this.blockPage){var $s=this.$0V();$s.style.display="";$s.style.zIndex=parseInt(es.zIndex)-1;};if(!$q){this.element.style.display="";this.layout();setTimeout(function(){__px_cm(me).notifyOnResize(true,$b);},1);}}else{if(!$q)this.element.style.display="";};this.setVisibleInfo(true);if($o!=null&&$o.ID)this.viewState.update("OwnerID",$o.ID);delete this.activeElement;if(ph==null&&this.position!=0){this.activePanel=__doc(this).activePanel;this.setActivePanel(this);this.activeElement=__doc(this).activeElement;};(this.autoRepaint&&!this.innerPageUrl)?this.repaint():this.load();if(!this.loaded||$q)this.$0W=true;else{this.setActiveControl();this.fireEvent("afterShow");}};PXSmartPanel.prototype.setActiveControl=function(){if(__px(this).IsTablet||!this.focusInnerControl)return;var id=this.ID+"_"+this.activeControlID;if(id&&__px_all(this)[id]){var $t=__px_all(this)[id];if($t.focus)$t.focus();else $t.element.focus();}else{if(this.elemContent.tagName=="IFRAME"){this.elemContent.focus();return;};var $u=["input","button"];for(var j=0;j<$u.length;j++){var ar=this.element.getElementsByTagName($u[j]);if(!ar)continue;for(var i=0;i<ar.length;i++)if(ar[i].offsetParent&&ar[i].offsetHeight&&!ar[i].disabled&&!ar[i].readOnly){ar[i].focus();break;};if(i!=ar.length)break;}}};PXSmartPanel.addEventHandler=function(id,$v,$a){PXSmartPanel.getDocumentEvents($a).addEventHandler(id,$v);};PXSmartPanel.removeEventHandler=function(id,$v,$a){PXSmartPanel.getDocumentEvents($a).removeEventHandler(id,$v);};PXSmartPanel.getDocumentEvents=function($a){if(!__doc($a).events)__doc($a).events=new PXEventList(document,null,null);__doc($a).events.appendEvents({$activePanelChanged:111},null);return __doc($a).events;};PXSmartPanel.prototype.setActivePanel=function($w){__doc(this).activePanel=$w;var $l=new Object();$l.activePanel=$w;PXSmartPanel.getDocumentEvents(this.px_context).fireEvent(111,"activePanelChanged",$l);};PXSmartPanel.prototype.load=function(){if(this.innerPageUrl){this.$0X();if(!this.loaded&&!this.fireEvent("beforeLoad")){if(this.pageLoadH==null){this.pageLoadH=Function.createDelegate(this,this.$0Y);__px(this).addEventHandler(this.elemContent,"load",this.pageLoadH);};var $x=this.elemContent,$y=this.innerPageUrl;if(this.htmlForm!=null){var $z=this.htmlForm;$z.setAttribute('action',$y);$z.setAttribute('target',$x.getAttribute("name"));$z.submit();}else{if(!$x.src.startsWith("javascript"))$x.contentWindow.location.replace($y);else setTimeout(function(){$x.src=$y;},1);}}}else{if(this.loadOnDemand&&!this.loaded){if(!this.fireEvent("beforeLoad")){var $f=Function.createDelegate(this,this.processLoad);if(this.$0Z){this.$10();delete this.$0Z;};__px_callback(this).execI(this,this.loadCall,"",$f);}}else this.$0X();}};PXSmartPanel.prototype.repaint=function(){if(this.loadOnDemand&&!this.loaded){this.load();}else{var $f=Function.createDelegate(this,this.processRepaint);__px_callback(this).execI(this,this.repaintCall,"",$f);}};PXSmartPanel.prototype.processRepaint=function($A,$a){if($A){var $B=new PXXmlDoc("",$A);__px_callback(this).processRepaint($B.rootNode,this);};if(__px_cm(this).au_flush)__px_cm(this).au_flush();this.fireEvent("afterRepaint");};PXSmartPanel.prototype.hide=function(){if(!this.getVisible()||this.fireEvent("beforeHide"))return;this.element.style.display="none";if(this.$0Q){this.$0Q.style.display="";__px_cm(this).notifyOnResize();}else if(this.position!=0){if(this.blockPage){var $C=this.$0V();$C.style.display="none";$C.style.height=$C.style.width="1px";};__px_cm(this).restoreActiveDropDown(this);this.$11();this.$12();};var ae=this.activeElement;if(ae&&__px(this).isVisible(ae))__px(this).setActive(ae);if(__doc(this).activePanel==this)this.setActivePanel(this.activePanel);this.fireEvent("afterHide");delete this.closeCallback;delete this.callbackContext;if(this.autoReload)this.setLoaded(false);};PXSmartPanel.prototype.getVisible=function(){return this.element.style.display!="none";};PXSmartPanel.prototype.setLoaded=function($D){if($D==false)this.$0Z=true;this.loaded=$D;this.controlsV=null;};PXSmartPanel.prototype.setHeight=function($r,$E){$r=parseInt($r);if($E){}else $r=this.getEffectiveHeight($r);if(this.contentCell)this.contentCell.style.height=$r+"px";if(this.elemContent)this.elemContent.style.height=$r+"px";this.element.style.height=$r+"px";};PXSmartPanel.prototype.getEffectiveHeight=function($r){var h=parseInt($r);$r=__px(this).getStyleHeight(this.element,h);if(this.element.tagName=="TABLE"){var $F=this.element.rows,cs=this.contentCell;for(var i=0;i<$F.length;i++){var $b=cs,$G=false;while($b!=null&&$b!=this.element){$b=$b.parentNode;if($b==$F[i]){$G=true;break;}};if(!$G)$r-=$F[i].offsetHeight;};if(cs)$r-=(cs.offsetHeight-this.elemContent.offsetHeight);};return $r;};PXSmartPanel.prototype.setWidth=function($H,$E){var w=parseInt($H),cs=this.contentCell;if($E&&cs){var $I=cs.parentNode;for(var i=0;i<$I.cells.length;i++)if($I.cells[i]!=cs)w+=$I.cells[i].offsetWidth;w+=w-__px(this).getStyleWidth(this.contentCell,w);w+=w-__px(this).getStyleWidth(this.element,w);};this.element.style.width=w+"px";if(cs)cs.style.width=w+"px";};PXSmartPanel.prototype.setSize=function($H,$r,$E){if($H>0)this.setWidth($H,$E);if($r>0)this.setHeight($r,$E);};PXSmartPanel.prototype.adjustPageSize=function(){var $J=this.elemContent,$K=this.contentCell;var $L=$J.contentWindow,$B;try{$B=$L.document.documentElement;}catch(ex){return;};var w=$L.innerWidth+2,h=$B.scrollHeight;var $M=__doc(this).documentElement,es=this.element.style;var cw=$M.clientWidth,ch=$M.clientHeight;if((this.element.offsetLeft+w)>cw){var $N=cw-w;es.left=($N>0?$N:0)+"px";};if((this.element.offsetTop+h)>ch){var $O=ch-h;es.top=($O>0?$O:0)+"px";};if($K){$K.style.width=w+"px";$K.style.height=h+"px";};es.width=w+"px";es.height=h+"px";};PXSmartPanel.prototype.setOverflow=function($P,$Q){var ds=this.elemContent.style;if($Q==null)ds.overflow=$P;else if($Q=='x')ds.overflowX=$P;else if($Q=='y')ds.overflowY=$P;};PXSmartPanel.prototype.getCaption=function(){return this.elemCaption?__px(this).getElemText(this.elemCaption):null;};PXSmartPanel.prototype.setCaption=function(v){if(this.elemCaption){if(this.originalCaption==null)this.originalCaption=this.getCaption();__px(this).setElemText(this.elemCaption,v);if(this.dragManager)this.dragManager.resetPlaceholder();}};PXSmartPanel.prototype.restoreCaption=function(){if(this.originalCaption!=null)this.setCaption(this.originalCaption);};PXSmartPanel.prototype.getPageUrl=function(){return this.innerPageUrl;};PXSmartPanel.prototype.setPageUrl=function($y){if($y)$y=__px(this).redirectToCachedVersion($y);if(this.innerPageUrl!=$y){this.innerPageUrl=$y;this.loaded=false;if(this.dragManager)this.dragManager.resetPlaceholder();}};PXSmartPanel.prototype.getInnerWindow=function(){return this.elemContent.contentWindow;};PXSmartPanel.prototype.suppressPageChanges=function(){if(this.innerPageUrl){var $L=this.getInnerWindow();if($L)$L.suppressChanges=true;}};PXSmartPanel.prototype.maximize=function(){var $B=__doc(this).documentElement;var es=this.element.style;if(this.$13==null){this.$13=this.element.offsetWidth;this.$14=this.element.offsetHeight;this.$15=this.element.offsetTop;this.$16=this.element.offsetLeft;this.$17=this.element.parentNode;this.$18=es.position;this.$0U();};this.fireEvent("beforeResize",null);es.position="absolute";es.left=$B.scrollLeft+"px";es.top=$B.scrollTop+"px";this.setSize($B.clientWidth,$B.clientHeight);if(!es.zIndex)es.zIndex=__px_cm(this).getNextZIndex(this.zIndex?this.zIndex:5000);this.$19=true;__px_cm(this).notifyOnResize(true,this.element);this.fireEvent("afterResize",null);};PXSmartPanel.prototype.getMaximized=function(){return this.$19;};PXSmartPanel.prototype.restore=function(){if(this.$19){if(this.$17!=this.element.parentNode)this.$17.appendChild(this.element);this.element.style.left=this.$16+"px";this.element.style.top=this.$15+"px";this.element.style.position=this.$18;this.setSize(this.$13,this.$14);this.$19=false;delete this.$13;delete this.$14;delete this.$16;delete this.$15;delete this.$18;delete this.$17;this.fireEvent("beforeResize",null);this.layout(true);__px_cm(this).notifyOnResize(true,this.element);this.fireEvent("afterResize",null);}};PXSmartPanel.prototype.postponeHide=function(){if(this.hideAfterAction){this.$1a();this.$1b=true;return true;};return false;};PXSmartPanel.prototype.$0U=function(){var $R=__win(this).theForm?__win(this).theForm:__doc(this).body;if(this.element.parentNode!=$R)$R.appendChild(this.element);};PXSmartPanel.prototype.layout=function($S){if(this.position==0)return;var $B=__doc(this).documentElement,$T=__doc(this).body;var es=this.element.style,$C=this.blockPage?this.$0V():null;if($C)$C.style.display="none";var $U=Math.max($B.scrollWidth,$T.scrollWidth);var $V=Math.max($B.scrollHeight,$T.scrollHeight);var $W=$B.clientWidth,$X=$B.clientHeight;if($C){var $Y=__px(this).IsIE?1:0;$C.style.width=Math.max($U,$W)-$Y+"px";$C.style.height=Math.max($V,$X)-$Y+"px";$C.style.display="";};if(this.$19){this.maximize();return;};if(this.suppressLayout&&!$S)return;var $Z=$B.scrollLeft?$B.scrollLeft:$T.scrollLeft;var $00=$B.scrollTop?$B.scrollTop:$T.scrollTop;switch(this.position){case 1:var $N=$Z+($W-this.element.offsetWidth)/2;var $O=$00+($X-this.element.offsetHeight)/2;es.left=($N>0?$N:0)+"px";es.top=($O>0?$O:0)+"px";break;case 3:if(this.owner){var el=this.owner.element?this.owner.element:this.owner;__px(this).setDropDownPos(el,this.element,2);};break;case 2:if(__px(this).IsIE){es.position="absolute";es.left=this.left+$Z+"px";es.top=this.top+$00+"px";}else{es.position="fixed";es.left=this.left+"px";es.top=this.top+"px";};break;}};PXSmartPanel.prototype.$0I=function(){this.layout();};PXSmartPanel.prototype.$0T=function(){var $01=Array.clone(__px_cm(this).tabIndexer);Array.clear(this.$0K);var theForm=__win(this).theForm,$02=theForm.elements.length;for(var i=0;i<$02;i++){var $b=theForm.elements[i];if($b.tabIndex==0&&$b.type!="hidden"&&__px(this).isVisible($b))$01.push($b);};for(var k=0,i=0;k<$01.length;k++){var $03=$01[k],$04=$03;if($03.element)$04=$03.elemText?$03.elemText:$03.element;if($04.tabIndex!=-1&&$04.style.display!="none"&&!__px(this).contains(this.element,$04)){var $05=new Object();$05.tag=$03;$05.index=__px_cm(this).getTabIndex($03);this.$0K[i]=$05;$03.tabIndex=-1;i++;}}};PXSmartPanel.prototype.$11=function(){for(var i=0;i<this.$0K.length;i++)this.$0K[i].tag.tabIndex=this.$0K[i].index;};PXSmartPanel.prototype.$10=function(){for(var $06 in __px_all(this)){var $t=__px_all(this)[$06],i=$t.ID.indexOf(this.ID+'_');if(i==0||(i==1&&$t.ID.startsWith('_'))){var $07=$t.viewState&&$t.viewState.elemState,$08=$t.element;if($07==null)$07=__px(this).elemByID($t.ID+"_state");if($t.destructor)$t.destructor();if($07&&$07.parentNode)$07.parentNode.removeChild($07);if($08&&$08.parentNode)$08.parentNode.removeChild($08);delete __px_all(this)[$06];}}};PXSmartPanel.prototype.$0S=function(){__px(this).addEventHandler(__win(this),'resize',this.$0J);__px(this).addEventHandler(__win(this),'scroll',this.$0H);this.$1c=true;};PXSmartPanel.prototype.$12=function(){if(this.$1c){__px(this).removeEventHandler(__win(this),'resize',this.$0J);__px(this).removeEventHandler(__win(this),'scroll',this.$0H);}};PXSmartPanel.prototype.$0V=function(){if(!this.$1d){var id=this.ID+"_shdw";var $C=__px(this).elemByID(id);if(!$C){var $C=__doc(this).createElement("DIV"),ds=$C.style;$C.id=id;ds.zIndex=9000;ds.position="absolute";ds.top=ds.left="0px";ds.display="none";ds.backgroundColor=this.shadowColor;ds.opacity=this.shadowOpacity/100;ds.filter="alpha(opacity="+this.shadowOpacity+")";var $R=__win(this).theForm?__win(this).theForm:__doc(this).body;$R.appendChild($C);};this.$1d=$C;};return this.$1d;};PXSmartPanel.prototype.$0R=function(e,$09){var style=e.currentStyle;if(style)return style[$09];style=e.style;if(style[$09])return style[$09];if(e.className){var $0a=e.className.split(' '),$P="";for(var i=0;i<$0a.length;i++){var $0b=__px(this).getCSSRule($0a[i]);if($0b&&$0b.style[$09])$P=$0b.style[$09];};return $P;}};PXSmartPanel.prototype.$1a=function(){if(!this.$1e){this.$1e=Function.createDelegate(this,this.$1f);__px_callback(this).addHandler(this.$1e);}};PXSmartPanel.prototype.$1g=function(){if(this.controlsV!=null)return;this.controlsV=new Object();this.controlsD=new Object();this.controls=new Object();for(var name in __px_all(this)){if(!name.startsWith(this.ID))continue;var $t=__px_all(this)[name];if($t.onVisibleChanged)this.controlsV[name]=$t;if($t.hasErrorInfo||$t.commitChanges)this.controlsD[name]=$t;this.controls[name]=$t;}};PXSmartPanel.prototype.execCloseAction=function(){var $0c=this.closeCallback;var $0d=this.callbackContext;if(this.commandSourceID&&this.commandName){var $0e=__px_all(this)[this.commandSourceID];if($0e&&$0e.executeCommand)$0e.executeCommand(this.commandName,this.dialogResult);}else if($0c){var $0f=__px_all(this)[$0c.target];if(!$0c.argument&&$0f&&$0f.__className=="PXGrid")$0c.argument="ClearCache";if(__px_callback(this).exec(this,$0c)&&this.hideAfterAction)this.postponeHide();}else if($0d){$0d.info.dialogResult=this.dialogResult;__px_callback(this).execI(__px_all(this)[$0d.controlID],$0d.info,$0d.data,$0d.handler,$0d.context,$0d.popupCommand);};if(!__px_callback(this).waitCallback&&this.autoSaveChanges){var $0g=this.controlsD;for(var id in $0g){var $t=$0g[id];if($t.commitChanges)$t.commitChanges();}};if(__px_callback(this).waitCallback&&this.hideAfterAction)this.postponeHide();};PXSmartPanel.prototype.$0X=function(){var cs=this.autoCallBack;if(cs&&cs.enabled&&cs.command){if(this.showAfterLoad){this.$1h=true;this.$1a();};__px_callback(this).exec(this,cs);}};PXSmartPanel.prototype.$0N=function($0h){if(this.innerPageUrl){var $L=this.getInnerWindow(),$0i=$L?__px_cm($L):null;if($0i){if(!$0h){$0i.closeActiveDropDown();$0i.closeActiveMenu();};if(__px(this).IsSafari||__px(this).IsIE)$0i.notifyOnResize();};return;};this.$1g();if($0h==false&&(this.dialogResult==PXDialogResult.None||this.dialogResult==PXDialogResult.Cancel))this.$1i();var $0g=this.controlsV;for(var id in $0g){var $t=$0g[id];if($t.onVisibleChanged)$t.onVisibleChanged($0h);}};PXSmartPanel.prototype.$1i=function(){for(var id in this.controlsD){var $t=this.controlsD[id];if($t.clearChanges)$t.clearChanges();}};PXSmartPanel.prototype.setVisibleInfo=function($0h){if(!__px(this).SmartPanelVisibleInfo)__px(this).SmartPanelVisibleInfo=new Object();var $0j=__px(this).SmartPanelVisibleInfo;if($0h)$0j[this.serverID]=true;else delete $0j[this.serverID];var $0k=__px(this).elemByID("__SmartPanelVisible");if($0k){var $0l="";for(var name in $0j){if($0l.length>0)$0l+="|";$0l+=name+"|"+Boolean($0j[name]);};$0k.value=$0l;}};PXSmartPanel.prototype.$0C=function(e){var se=__px(this).eventElem(e);if(se.tagName=="DIV"&&se.getAttribute("mode")==null)se=se.parentNode;var $0m=(se.getAttribute("mode")=='c')?"Close":"Maximize";var $0n=se.getAttribute("image"),$0o;if($0n==null&&se.tagName=="IMG")se.setAttribute("image",$0n=se.src);switch(e.type){case "mouseover":$0o=se.getAttribute("imageH");if($0o)__px_cm(this).repaintImage(se,$0o);else se.style.opacity=0.8;break;case "mouseout":__px_cm(this).repaintImage(se,$0n);se.style.opacity=0.55;break;case "mousedown":$0o=se.getAttribute("imageP");if($0o)__px_cm(this).repaintImage(se,$0o);else se.style.opacity=1;break;case "mouseup":se.src=$0n;se.style.opacity=0.55;break;};__px(this).cancelEvent(e);};PXSmartPanel.prototype.$0B=function(e){var se=__px(this).eventElem(e);if(se&&se.tagName=="DIV")se=se.parentNode;var $0p=se?se.getAttribute("mode"):null;if($0p){switch($0p){case 'c':this.dialogResult=PXDialogResult.None;if(this.suppressCloseAction){this.hide();return;};var $L=this.getInnerWindow(),$m=false;if($L&&__px_cm($L)){var $t=__px_cm($L).findDataSource();if($t!=null&&$t.callbacks){var $0q=$t.getCallback($t.cancelCommandName);if($0q&&$0q.closePopup&&$t.getCommandState($t,$t.cancelCommandName).getEnabled()){$t.callbackFromUI=true;$t.viewState.update("CallbackFromUI",$t.callbackFromUI);$t.executeCallback($t.cancelCommandName);$m=true;}}};if(!$m){var $0c=$L?this.closeCallback:null,$0r=this.closeButtonDialogResult;if($0c){var $0f=__px_all(this)[$0c.target];this.hide();if($0f){if(!$0c.argument&&$0f.__className=="PXGrid")$0c.argument="ClearCache";__px_callback(this).exec(this,$0c);}}else if($0r!=PXDialogResult.None){this.$1j($0r);}else this.hide();};break;case 'm':this.maximize();se.setAttribute("mode",'r');break;case 'r':this.restore();se.setAttribute("mode",'m');break;};__px(this).cancelEvent(e);}};PXSmartPanel.prototype.$0E=function(e){var $0s=__px(this).eventObject(e,PXButton);if($0s&&$0s.getEnabled()&&$0s.dialogResult!=PXDialogResult.None)__px(this).registerWaitTask(this,this.$0D,e);};PXSmartPanel.prototype.$0D=function(e,$0t){var $0s=$0t?$0t:__px(this).eventObject(e,PXButton);if($0s&&$0s.getEnabled()&&$0s.dialogResult!=PXDialogResult.None){__px(this).unregisterWaitTask(this);__px(this).cancelEvent(e);this.$1j($0s.dialogResult);}};PXSmartPanel.prototype.$1j=function($0r){this.viewState.update("DialogResult",this.dialogResult=$0r);if(this.dialogResult!=PXDialogResult.Cancel){if(this.onButtonClick){var $v=eval(this.onButtonClick);if($v)$v(this,e);};this.execCloseAction();};if(!this.hideAfterAction)this.hide();var $m=this.$1b;if(!$m||(this.flag&&!__px_callback(this).waitCallback)){this.$1b=false;this.hide();}};PXSmartPanel.prototype.$0Y=function(e){__px(this).removeEventHandler(this.elemContent,"load",this.pageLoadH);delete this.pageLoadH;var $L=this.elemContent.contentWindow;this.loadPostProcess(true);if(this.$0Q==null){if(this.autoAdjustSize)this.adjustPageSize();this.layout(true);if($L&&__px_cm($L)){$L.parentPanel=this;var h=Function.createDelegate(this,this.$1k);__px_cm($L).addPopupHandler(h);__px_cm($L).notifyOnResize();}}};PXSmartPanel.prototype.$0G=function(e){var me=this;window.setTimeout(function(){__px_cm(me).logMessage("_handlePageLoadV start");me.fireEvent("afterLoad");__px_cm(me).logMessage("_handlePageLoadV end");},10);};PXSmartPanel.prototype.$1k=function($t,$0u){if($0u=="ClosePopup"&&$t.callbackFromUI){this.execCloseAction();this.hide();}};PXSmartPanel.prototype.processLoad=function($A,$a){if(this.autoReload){var ar=$A.split('|');if(ar[0]&&ar[1])this.setSize(ar[0],ar[1]);$A=ar.slice(2).join('|');};if($A)__px_cm(this).processHtmlData($A,this.elemContent);else this.elemContent.innerHTML="";var me=this;setTimeout(function(){me.loadPostProcess();},0);};PXSmartPanel.prototype.loadPostProcess=function($0v){var $L=this.getInnerWindow(),$B=null;try{$B=$L?$L.document:null;}catch(ex){};if(!this.loaded&&(!$0v||($B&&$B.forms[0])||$B==null)){this.loaded=true;this.fireEvent("afterLoad");};var es=this.element.style;if(es.display=="none"&&this.showAfterLoad){if($0v&&this.position>0)es.left=es.top="0px";es.display="";};this.layout();if(this.$0W&&es.display==""){this.setActiveControl();this.fireEvent("afterShow");};this.$0W=false;if(!$0v)__px_cm(this).notifyOnResize(true,this.element);};PXSmartPanel.prototype.$0F=function(e){var $0w=null;switch(e.keyCode){case 27:$0w=this.ID+"_"+this.cancelButtonID;__px(this).cancelEvent(e);break;case 13:if(!e.ctrlKey&&!e.altKey&&!e.shiftKey)$0w=this.ID+"_"+this.acceptButtonID;break;};if($0w&&__px_all(this)[$0w]){var $0s=__px_all(this)[$0w];$0s.exec(e);this.$0D(e,$0s);}};PXSmartPanel.prototype.$1f=function($a,$0x){if(this.$1b&&!$0x){this.$1g();var $0g=this.controlsD,$m=true;for(var id in $0g){var $t=$0g[id];if($t.hasErrorInfo&&$t.hasErrorInfo()){var $0y=$t.getErrorInfo();if($0y[0]>1){$m=false;break;}}};if($m)for(var id in this.controls){var $t=this.controls[id],el=$t.element,$0z=el?el.getAttribute("error"):null;if($0z!=null&&parseInt($0z)>1){$m=false;break;}};if($m)this.hide();};this.$1b=false;if(this.$1h)this.loadPostProcess(false);this.$1h=false;};PXSmartPanel.prototype.startLC=function(){__px(this).startLC();};PXSmartPanel.prototype.stopLC=function(){__px(this).stopLC();};PXSmartPanel.prototype.onBeforeDragStart=function(){this.$1l(true);};PXSmartPanel.prototype.onDragEnd=function(){this.$1l(false);};PXSmartPanel.prototype.$1l=function($0A){var $L=this.getInnerWindow();if($L&&__px_cm($L))__px_cm($L).notifyVisibleChanged(!$0A);};PXSmartPanel.prototype.$0P=function(e){var se=__px(this).eventElem(e),$C=this.element;if(this.autoHide&&se!=__doc(this).waitDiv&&se==this.$1d){this.dialogResult=PXDialogResult.None;this.hide();}};function PXDynamicPanel($a,$b,$c,$d){PXDynamicPanel.initializeBaseA(this,[$a,$b,$c,$d]);this.events.addEventHandler("afterHide",Function.createDelegate(this,this.cleanUp));this.closeCmd=__px_callback(this).createCommand("Close",true);};PXDynamicPanel.__baseType=PXSmartPanel;PXDynamicPanel.prototype.cleanUp=function(){__px_callback(this).execI(this,this.closeCmd);};



var PXMessageButtons={OK:0,OKCancel:1,AbortRetryIgnore:2,YesNoCancel:3,YesNo:4,RetryCancel:5};var PXMessageIcon={None:0,Error:1,Question:2,Warning:3,Information:4};function PXMessage($a,$b,$c,$d){PXMessage.initializeBaseA(this,[$a,$b,$c,$d]);__px_cm(this).readProperties(this,$c,PXMessage.properties);if(this.elemContent){var $e=this.elemContent.rows;this.imageCell=$e[0].cells[0];this.textCell=$e[0].cells[1];this.buttonsCell=$e[1].cells[0];};this.$q();};PXMessage.__baseType=PXSmartPanel;PXMessage.properties=[["buttonCss",JSType.String,""],["buttons",JSType.Int,0],["defaultButton",JSType.Int,0],["icons",JSType.Object,null]];PXMessage.brTag="<br />";PXMessage.prototype.getText=function(){return this.textCell?__px(this).getElemText(this.textCell):null;};PXMessage.prototype.setText=function(v){if(this.textCell){if(v){v=v.replace(new RegExp("\r\n","g"),PXMessage.brTag);v=v.replace(new RegExp("\n","g"),PXMessage.brTag);};this.textCell.innerHTML=v;}};PXMessage.prototype.show=function($f){PXMessage.callBase(this,"show",[$f]);var $g=this.buttonsCell.childNodes;for(var i=0;i<$g.length;i++){if(i==this.defaultButton){if($g[i].focus)$g[i].focus();break;}}};PXMessage.prototype.setButtonNames=function($h){this.customButtonNames=$h;};PXMessage.prototype.setButtons=function(v){if(v==this.buttons)return;if(v>=PXMessageButtons.OK&&v<=PXMessageButtons.RetryCancel){this.$r();this.buttons=v;this.$s();this.$q();}};PXMessage.prototype.setIcon=function(v){if(this.icons==null)return;var $i=null;switch(v){case PXMessageIcon.Error:$i=this.icons.error;break;case PXMessageIcon.Question:$i=this.icons.question;break;case PXMessageIcon.Warning:$i=this.icons.warning;break;case PXMessageIcon.Information:$i=this.icons.information;break;};if($i){var $j=this.imageCell.firstChild;if(!$j){var $j=__doc(this).createElement("img");$j.borderWidth="0px";this.imageCell.appendChild($j);};$j.src=$i;}};PXMessage.prototype.$q=function(){var $g=this.buttonsCell.childNodes;for(var i=0;i<$g.length;i++){var $b=$g[i],$k=this.$t(i);$b.id=this.ID+"_"+i;var $c=new Object();$c.dialogResult=$k;$c.styles=new Object();$c.styles.normal=$b.className;__px_all(this)[$b.id]=new PXButton(this.px_context,$b,$c);this.buttonCss=$b.className;}};PXMessage.prototype.$r=function(){var $l=this.buttonsCell;while($l.childNodes.length){var $b=$l.childNodes[0];delete __px_all(this)[$b.id];$l.removeChild($b);}};PXMessage.prototype.$u=function($m){var $n="",$h=this.customButtonNames;for(var n in PXDialogResult)if($m==PXDialogResult[n]){$n=n;break;};if($h&&$n&&$h[$n])$n=$h[$n];var $o=__doc(this).createElement("button");$o.className=this.buttonCss;$o.style.padding="0px";var t=__doc(this).createTextNode($n);$o.appendChild(t);this.buttonsCell.appendChild($o);return $o;};PXMessage.prototype.$s=function(){switch(this.buttons){case PXMessageButtons.AbortRetryIgnore:this.$u(PXDialogResult.Abort);this.$u(PXDialogResult.Retry);this.$u(PXDialogResult.Ignore);break;case PXMessageButtons.OK:this.$u(PXDialogResult.OK);break;case PXMessageButtons.OKCancel:this.$u(PXDialogResult.OK);this.$u(PXDialogResult.Cancel);break;case PXMessageButtons.RetryCancel:this.$u(PXDialogResult.Retry);this.$u(PXDialogResult.Cancel);break;case PXMessageButtons.YesNo:this.$u(PXDialogResult.Yes);this.$u(PXDialogResult.No);break;case PXMessageButtons.YesNoCancel:this.$u(PXDialogResult.Yes);this.$u(PXDialogResult.No);this.$u(PXDialogResult.Cancel);break;}};PXMessage.prototype.$t=function($p){var $k=[];switch(this.buttons){case PXMessageButtons.OK:$k=[PXDialogResult.OK];break;case PXMessageButtons.OKCancel:$k=[PXDialogResult.OK,PXDialogResult.Cancel];break;case PXMessageButtons.AbortRetryIgnore:$k=[PXDialogResult.Abort,PXDialogResult.Retry,PXDialogResult.Ignore];break;case PXMessageButtons.YesNoCancel:$k=[PXDialogResult.Yes,PXDialogResult.No,PXDialogResult.Cancel];break;case PXMessageButtons.YesNo:$k=[PXDialogResult.Yes,PXDialogResult.No];break;case PXMessageButtons.RetryCancel:$k=[PXDialogResult.Retry,PXDialogResult.Cancel];break;};return($p<$k.length)?$k[$p]:PXDialogResult.None;};



function PXInputBox($a,$b,$c,$d){PXInputBox.initializeBaseA(this,[$a,$b,$c,$d]);__px_cm(this).readProperties(this,$c);this.zIndex=11000;if(this.elemContent){var $e=this.elemContent.rows;this.textCell=$e[0].cells[0];this.buttonsCell=$e[1].cells[0];var $f=this.textCell.childNodes;for(var i=0;i<$f.length;i++){var $g=$f[i].tagName;if($g=="TEXTAREA"||$g=="INPUT"){this.elemText=$f[i];break;}}};this.$m();if(this.elemText){var $h=Function.createDelegate(this,this.$n);__px(this).addEventHandler(this.elemText,"keydown",$h);}};PXInputBox.__baseType=PXSmartPanel;PXInputBox.properties=[["activeEnter",JSType.Bool,false]];PXInputBox.prototype.getText=function(){return this.elemText.value;};PXInputBox.prototype.setText=function(v){this.elemText.value=v;};PXInputBox.prototype.show=function($i){PXInputBox.callBase(this,"show",[$i]);if(this.elemText){this.elemText.focus();this.elemText.select();}};PXInputBox.prototype.setOkVisible=function($j){if(this.btnOk)this.btnOk.setVisible($j);};PXInputBox.prototype.setCancelVisible=function($j){if(this.btnCancel)this.btnCancel.setVisible($j);};PXInputBox.prototype.$m=function(){var $f=this.buttonsCell.childNodes;for(var i=0;i<$f.length;i++){var $b=$f[i];$b.id=this.ID+"_"+i;var $c=new Object();$c.styles=new Object();$c.styles.normal=$b.className;$c.dialogResult=(i==0)?PXDialogResult.OK:PXDialogResult.Cancel;var $k=__px_all(this)[$b.id]=new PXButton(this.px_context,$b,$c);if(i==0)this.btnOk=$k;else this.btnCancel=$k;}};PXInputBox.prototype.$n=function(e){var $l=null;switch(e.keyCode){case 13:if(e.ctrlKey||this.activeEnter)$l=PXDialogResult.OK;break;case 27:$l=PXDialogResult.None;break;};if($l){this.dialogResult=$l;this.hide();__px(this).cancelEvent(e);}};


function PXStatusBar($a,$b,$c){this.px_context=$a;this.element=$b;this.ID=$b.id;this.leftCell=$b.rows[0].cells[0];this.rightCell=$b.rows[0].cells[1];$b.object=this;__px_cm(this).registerStatusBar(this);};PXStatusBar.prototype.getLeftText=function(){return __px(this).getElemText(this.leftCell.firstChild);};PXStatusBar.prototype.setLeftText=function(v){__px(this).setElemText(this.leftCell.firstChild," "+v,true);};PXStatusBar.prototype.getRightText=function(){return __px(this).getElemText(this.rightCell.firstChild);};PXStatusBar.prototype.setRightText=function(v){__px(this).setElemText(this.rightCell.firstChild," "+v,true);};PXStatusBar.prototype.repaint=function($d){if($d)this.control=$d;if(this.control!=null&&this.control.getStatusText)this.setLeftText(this.control.getStatusText());}


function PXShortcutManager($a,$b,$c){this.px_context=$a;this.element=$b;this.ID=$b.id;__px_cm(this).readProperties(this,$c,PXShortcutManager.properties);if(this.shortcuts&&this.shortcuts.length>0){var $d=Function.createDelegate(this,this.$j);__px(this).addEventHandler(__doc(this).documentElement,"keydown",$d);var $e=Function.createDelegate(this,this.$k);__px(this).addEventHandler(__doc(this).documentElement,"keyup",$e);}};PXShortcutManager.properties=[["targetId",JSType.String,null],["shortcuts",JSType.Array,null]];PXShortcutManager.prototype.$k=function(e){if(e.keyCode==16||e.keyCode==17||e.keyCode==18){this.trace=null;}};PXShortcutManager.prototype.$j=function(e){if(e.keyCode==16||e.keyCode==17||e.keyCode==18)return;var $f=null;if(this.trace==null){for(var i=0;i<this.shortcuts.length;i++){var $g=this.shortcuts[i];if(Boolean($g.ctrlKey)!=e.ctrlKey||Boolean($g.shiftKey)!=e.shiftKey||Boolean($g.altKey)!=e.altKey){continue;};if($g.keyCode==e.keyCode){$f=$g.commandName;break;};if($g.charCodes[0]==e.keyCode){if($g.charCodes.length>1){if(this.trace==null){this.trace=new Object();this.trace.settings=new Array();this.trace.settings.push($g);this.trace.charIndex=0;this.trace.failed=false;}else{this.trace.settings.push($g);}}else{$f=$g.commandName;break;}}}}else{if(!this.trace.failed){this.trace.charIndex++;var $h=new Array();for(var i=0;i<this.trace.settings.length;i++){var $g=this.trace.settings[i];if(Boolean($g.ctrlKey)==e.ctrlKey&&Boolean($g.shiftKey)==e.shiftKey&&Boolean($g.altKey)==e.altKey&&$g.charCodes.length>this.trace.charIndex&&e.keyCode==$g.charCodes[this.trace.charIndex]){$h.push($g);if(this.trace.charIndex==$g.charCodes.length-1){$f=$g.commandName;break;}}};if($h.length==0)this.trace.failed=true;else{__px(this).cancelEvent(e);this.trace.settings=$h;}}};if($f){this.trace=null;if(__px(this).IsIE)e.keyCode=0;__px(this).cancelEvent(e);var $i=__px_all(this)[this.targetId];if($i&&$i.executeCommand){$i.executeCommand($f);}else{}}};



function PXOptionBox($a,$b,$c,$d){PXOptionBox.initializeBaseA(this,[$a,$b,$c,$d]);__px_cm(this).readProperties(this,$c);this.zIndex=11000;if(this.elemContent){var $e=this.elemContent.rows;this.textCell=$e[0].cells[0];this.buttonsCell=$e[3].cells[0];var $f=this.textCell.childNodes;for(var i=0;i<$f.length;i++){var $g=$f[i].tagName;if($g=="SELECT"){this.elemCombo=$f[i];break;}}};this.$i();};PXOptionBox.prototype.onLoad=function(){this.chk=__px_all(this)[this.ID+"_chk"];this.ne=__px_all(this)[this.ID+"_ne"];var h=Function.createDelegate(this,this.$j);this.chk.events.addEventHandler("valueChanged",h);PXOptionBox.callBase(this,"onLoad");};PXOptionBox.prototype.$j=function(e){this.ne.setEnabled(this.chk.getChecked());};PXOptionBox.__baseType=PXSmartPanel;PXOptionBox.properties=[];PXOptionBox.prototype.getValue=function(){return this.elemCombo.value;};PXOptionBox.prototype.setValue=function(v){this.elemCombo.value=v;};PXOptionBox.prototype.show=function($h){PXOptionBox.callBase(this,"show",[$h]);};PXOptionBox.prototype.$i=function(){var $f=this.buttonsCell.childNodes;for(var i=0;i<$f.length;i++){var $b=$f[i];$b.id=this.ID+"_"+i;var $c=new Object();$c.styles=new Object();$c.styles.normal=$b.className;$c.dialogResult=(i==0)?PXDialogResult.OK:PXDialogResult.Cancel;__px_all(this)[$b.id]=new PXButton(this.px_context,$b,$c);}};



function PXWebDAV($a){this.$j="Sharepoint.OpenDocuments.";this.$k="application/x-sharepoint";this.$l="webdavofficeelem";this.$m='<embed id="'+this.$l+'" type="application/x-sharepoint" hidden="true" style="visibility:hidden" />';};PXWebDAV.prototype.editDocument=function($b){var $c=true;var $d=__px(this).IsIE?this.getIECom():this.getEmbedCom();if($d==null)$c=false;else{try{$d.EditDocument3(window.self,$b,true,null);}catch(e){$c=false;};if(!$c)try{$d.EditDocument2(__win(this).self,$b,null);}catch(e){$c=false;};if(!$c)try{$d.EditDocument($b,null);}catch(e){$c=false;}};return $c;};PXWebDAV.prototype.getIECom=function(){var $c=null;var i=4;while($c==null&&i>0){try{$c=new ActiveXObject(this.$j+i);}catch(e){};i--;};return $c;};PXWebDAV.prototype.getEmbedCom=function(){var $c=__px(this).elemByID(this.$l);if($c==null){var $e=__doc(this).createElement("div");$e.innerHTML=this.$m;__doc(this).body.appendChild($e);$c=__px(this).elemByID(this.$l);};return $c;};function PXFileEditButton($f,$g,$h,ei){PXFileEditButton.initializeBaseA(this,[$f,$g,$h,ei]);};PXFileEditButton.__baseType=PXToolBarButton;PXFileEditButton.prototype.navigate=function(e){var $i=new PXWebDAV(this.px_context);if(!$i.editDocument(this.navigateUrl))PXFileEditButton.callBase(this,"navigate",[e]);};


function PXSplitContainer($a,$b,$c){this.px_context=$a;this.element=$b;this.ID=$b.id;__px_cm(this).readProperties(this,$c,PXSplitContainer.properties);this.isVertical=(this.orientation==1);this.$F=0;if(this.isVertical){this.$G=$b.rows[0].cells[0];this.$H=$b.rows[0].cells[1];this.$I=$b.rows[0].cells[2];if(!this.positionInPercent)this.$F=(this.fixedPanel==2)?1:2;}else{this.$G=$b.rows[0].cells[0];this.$H=$b.rows[1].cells[0];this.$I=$b.rows[2].cells[0];};this.normalClass=this.$H.className;var h=PXSplitContainer.$J;__px(this).addEventHandler(this.$H,"mouseover",h);__px(this).addEventHandler(this.$H,"mouseout",h);__px(this).addEventHandler(this.$H,"mousedown",h);__px(this).addEventHandler(this.$H,"mouseup",h);__px(this).addEventHandler(this.$H,"selectstart",h);__px(this).addEventHandler(this.$H,"contextmenu",h);this.events=new PXEventList(this,PXSplitContainer.events,$c.clientEvents);if(this.isVertical){this.offsetAttr="offsetWidth";this.sizeAttr="width";this.sizeFunc=Function.createDelegate(__px(this),__px(this).getStyleWidth);}else{this.offsetAttr="offsetHeight";this.sizeAttr="height";this.sizeFunc=Function.createDelegate(__px(this),__px(this).getStyleHeight);};__px_cm(this).registerAutoSize(this,$c);__px_cm(this).registerRequiresOnLoad(this,$b.id);};PXSplitContainer.properties=[["orientation",JSType.Int,1],["allowResize",JSType.Bool,true],["collapseDirection",JSType.Int,0],["fixedPanel",JSType.Int,1],["panel1MinSize",JSType.Int,50],["panel2MinSize",JSType.Int,50],["savePosition",JSType.Bool,true],["positionInPercent",JSType.Bool,false],["activeClass",JSType.String,""],["hoverClass",JSType.String,""],["restoreImage",JSType.String,""],["lastSize",JSType.Int,-1],["panel1Overflow",JSType.Bool,false],["panel2Overflow",JSType.Bool,false]];PXSplitContainer.events={$initialize:0,$beforeResize:1,$afterResize:2};PXSplitContainer.prototype.setProperties=function($c){if($c.hidden!=null)this.setVisible(!$c.hidden);};PXSplitContainer.prototype.setDisabledPanel=function($d){this.setEnabled($d==0);this.$G.style.display=($d==1)?"none":"";this.$I.style.display=($d==2)?"none":"";this.$H.style.display=($d!=0)?"none":"";__px_cm(this).notifyOnResize(true,this.element);};PXSplitContainer.prototype.getVisible=function(){return this.element.style.display!="none";};PXSplitContainer.prototype.setVisible=function($e){this.element.style.display=($e?"":"none");};PXSplitContainer.prototype.getEnabled=function(){return __px(this).getEnabled(this.element);};PXSplitContainer.prototype.setEnabled=function($f){__px(this).setEnabled(this.element,$f);};PXSplitContainer.prototype.$K=function($g){var $h=__doc(this).createElement("div");$h.style.width=$h.style.height="100%";$h.style.position="absolute";if(!$g){$h.style.overflow="hidden";};return $h;};PXSplitContainer.prototype.notifyMinimize=function($i,$j){this.$L($i,$j,false);};PXSplitContainer.prototype.notifyRestore=function($i,$j){this.$L($i,$j,true);};PXSplitContainer.prototype.$L=function($i,$j,$k){if(__px(this).contains(this.$G,$i.element)){this.setPanel1Size($j,true);this.allowResize=$k;}else if(__px(this).contains(this.$I,$i.element)){this.setPanel2Size($j,true);this.allowResize=$k;};if(this.allowResize)this.$H.style.cursor=this.oldCursor;else{this.oldCursor=this.$H.style.cursor;this.$H.style.cursor="default";};__px_cm(this).notifyOnResize(true,this.element);};PXSplitContainer.prototype.onLoad=function(){var nl=this.$G.childNodes;for(var i=0;i<nl.length;i++)if(nl[i].tagName&&nl[i].tagName.toLowerCase()=="div"){this.panel1=nl[i];break;};nl=this.$I.childNodes;for(var i=0;i<nl.length;i++)if(nl[i].tagName&&nl[i].tagName.toLowerCase()=="div"){this.panel2=nl[i];break;};{var $h=this.$K(this.panel1Overflow),nl=this.panel1.childNodes;while(nl.length>0)$h.appendChild(nl[0]);this.panel1.appendChild($h);$h=this.$K(this.panel2Overflow),nl=this.panel2.childNodes;while(nl.length>0)$h.appendChild(nl[0]);this.panel2.appendChild($h);};this.$M();};PXSplitContainer.prototype.onVisibleChanged=function($l){if($l&&!this.$N)this.$M();};PXSplitContainer.prototype.isCollapsed=function(){return this.$O!=null;};PXSplitContainer.prototype.$M=function(){if(!__px(this).isVisible(this.element)||this.$N)return;if(this.isVertical&&this.fixedPanel==2){var c1=this.$G,c2=this.$I;c2.style[this.sizeAttr]=this.sizeFunc(c2,c2[this.offsetAttr])+"px";c1.style[this.sizeAttr]="";};if(this.savePosition){__px_cm(this).createPersistentCookie();if(this.lastSize>0)this.setPanel1Size(this.lastSize);};this.$N=true;};PXSplitContainer.prototype.getPanel1Size=function(){return this.$G[this.offsetAttr];};PXSplitContainer.prototype.getPanel2Size=function(){return this.$I[this.offsetAttr];};PXSplitContainer.prototype.setPanel1Size=function($j,$m){this.$P($j,$m);};PXSplitContainer.prototype.setPanel2Size=function($j,$m){var $n=this.getPanel1Size(),$o=this.getPanel2Size();this.$P($n+$o-$j,$m);};PXSplitContainer.prototype.setHeight=function($p,$q){if(!this.isVertical){var $r=this.panel1MinSize+this.panel2MinSize+this.$H[this.offsetAttr];if(parseInt($p)<$r)$p=$r;};var h=__px(this).getStyleHeight(this.element,parseInt($p));h-=Math.max(__px(this).getHeightDelta(this.panel1),__px(this).getHeightDelta(this.panel2));h-=Math.max(__px(this).getHeightDelta(this.$G),__px(this).getHeightDelta(this.$I));if(h<0)h=0;if(!$q){if(!this.$Q)this.$R();delete this.$Q;}else{this.$R();this.$Q=true;};this.element.style.height=h+"px";if(this.isVertical){this.$G.style.height=h+"px";this.$I.style.height=h+"px";}else{if(this.positionInPercent)this.$P(this.getPanel1Size(),$q);else this.$S(parseInt($p),$q);}};PXSplitContainer.prototype.collapse=function(){if(this.collapseDirection==1){this.$O=this.getPanel1Size();this.setPanel1Size(this.panel1MinSize);}else{this.$O=this.getPanel2Size();this.setPanel2Size(this.panel2MinSize);};var im=this.$T();if(im){if(this.collapseImage==null)this.collapseImage=im.src;if(this.restoreImage)im.src=this.restoreImage;};__px_cm(this).notifyOnResize(true,this.element);};PXSplitContainer.prototype.restore=function(){if(this.isCollapsed()){if(this.collapseDirection==1)this.setPanel1Size(this.$O);else this.setPanel2Size(this.$O);delete this.$O;var im=this.$T();if(im&&this.collapseImage)im.src=this.collapseImage;__px_cm(this).notifyOnResize(true,this.element);}};PXSplitContainer.prototype.$P=function($n,$m){var c1=this.$G,c2=this.$I;var $o=c1[this.offsetAttr]+c2[this.offsetAttr]-$n;if(!$m){if($n<this.panel1MinSize){$o-=this.panel1MinSize-$n;$n=this.panel1MinSize;};if($o<this.panel2MinSize){$n-=this.panel2MinSize-$o;$o=this.panel2MinSize;if($n<this.panel1MinSize)$n=this.panel1MinSize;}};var $s=this.element[this.offsetAttr];if(this.$F!=1){$n=this.sizeFunc(c1,$n);if(this.positionInPercent)$n=Math.round(($n*100)/$s);c1.style[this.sizeAttr]=$n+(this.positionInPercent?"%":"px");};if(this.$F!=2){if(this.positionInPercent)$o=100-$n;else $o=this.sizeFunc(c2,$o);c2.style[this.sizeAttr]=$o+(this.positionInPercent?"%":"px");};if(!this.positionInPercent)this.$R();if(this.savePosition&&__px_cm(this).cookieP)__px_cm(this).cookieP[this.ID]=this.getPanel1Size();};PXSplitContainer.prototype.$R=function($t){this.$U=this.$G[this.offsetAttr];this.$V=this.$I[this.offsetAttr];this.$W=this.element[this.offsetAttr];};PXSplitContainer.prototype.$S=function($t,$q){var c1=this.$G,c2=this.$I;var $n=this.$U,$o=this.$V;var $u=$t-this.$W;switch(this.fixedPanel){case 0:$n+=Math.floor($u/2);$o+=Math.floor($u/2)+$u%2;break;case 1:$o+=$u;break;case 2:$n+=$u;break;};if($n<this.panel1MinSize){$o-=this.panel1MinSize-$n;$n=this.panel1MinSize;};if($o<this.panel2MinSize){$n-=this.panel2MinSize-$o;if($n<this.panel1MinSize)$n=this.panel1MinSize;$o=this.panel2MinSize;};c1.style[this.sizeAttr]=this.sizeFunc(c1,$n)+"px";c2.style[this.sizeAttr]=this.sizeFunc(c2,$o)+"px";if(!$q)this.$R();};PXSplitContainer.prototype.$X=function(){var $v="div_"+this.ID;var $w=__win(this).theForm?__win(this).theForm:__doc(this).body;if($w[$v]==null){var $h=__doc(this).createElement("DIV");var ds=$h.style;ds.zIndex=20000;ds.position="absolute";ds.cursor=this.isVertical?"w-resize":"n-resize";ds.backgroundColor="transparent";ds.top=ds.left="0px";ds.display="none";$w.appendChild($h);$w[$v]=$h;var $x=__doc(this).createElement("DIV"),$b=this.$H;$h.appendChild($x);$x.className=this.activeClass?this.activeClass:this.normalClass;ds=$x.style;ds.position="absolute";ds.fontSize="0pt";};return $w[$v];};PXSplitContainer.prototype.$T=function(){var ar=this.$H.getElementsByTagName("IMG");return ar?ar[0]:null;};PXSplitContainer.prototype.$Y=function(e){var $h=this.$X(),$x=$h.firstChild,ds=$h.style;ds.display="";ds.width=__doc(this).documentElement.clientWidth-1+"px";ds.height=__doc(this).documentElement.clientHeight-1+"px";ds=$x.style;ds.top=__px(this).getElemTopPos(this.$H,null,false)+"px";ds.left=__px(this).getElemLeftPos(this.$H,null,false)+"px";ds.width=this.$H.clientWidth+"px";ds.height=this.$H.clientHeight+"px";$h.object=this;$h.initX=e.clientX;$h.initY=e.clientY;__doc(this).body.$Z=$h;var h=PXSplitContainer.$00;__px(this).addEventHandler(__doc(this),"mouseup",h,true);__px(this).addEventHandler(__doc(this),"mousemove",h,true);if($h.setCapture)$h.setCapture();};PXSplitContainer.prototype.$01=function(e,$h){try{var c1=this.$G,$t;if(this.isVertical){$t=c1.offsetWidth+(e.clientX-$h.initX);if($h.initX!=e.clientX)this.$P($t);}else{$t=c1.offsetHeight+(e.clientY-$h.initY);if($h.initY!=e.clientY)this.$P($t);};delete this.$O;__px_cm(this).notifyOnResize(true,this.element);}finally{$h.style.display="none";var h=PXSplitContainer.$00;__px(this).removeEventHandler(__doc(this),"mouseup",h,true);__px(this).removeEventHandler(__doc(this),"mousemove",h,true);if($h.releaseCapture)$h.releaseCapture();$h.object=null;}};PXSplitContainer.$J=function(e){switch(e.type){case "selectstart":case "contextmenu":return __px(this).cancelEvent(e,false);};var se=__px(this).eventElem(e);var $y=__px(this).eventObject(e,PXSplitContainer);if($y&&$y.getEnabled())switch(e.type){case "mouseover":return $y.$02(e);case "mouseout":return $y.$03(e);case "mousedown":return $y.$04(e);case "mouseup":if(se.tagName=="IMG")$y.isCollapsed()?$y.restore():$y.collapse();break;}};PXSplitContainer.$00=function(e){var $y=__doc(this).body.$Z.object;if($y instanceof PXSplitContainer)switch(e.type){case "mousemove":$y.$05(e);break;case "mouseup":$y.$06(e);break;}};PXSplitContainer.prototype.$02=function(e){var $b=__px(this).eventElem(e);if($b.tagName=="IMG"){this.$03(e);return;};if(this.hoverClass){this.$H.className=this.hoverClass;this.$07=true;}};PXSplitContainer.prototype.$03=function(e){if(this.$07){this.$H.className=this.normalClass;this.$07=false;}};PXSplitContainer.prototype.$04=function(e){if(__px(this).eventButton(e)==0){var se=__px(this).eventElem(e);if(se.tagName!="IMG"&&this.allowResize){this.$03(e);this.$Y(e);}};__px(this).cancelEvent(e,false);};PXSplitContainer.prototype.$05=function(e){var $h=__doc(this).body.$Z;var $y=$h?$h.object:null;if($y){var $x=$h.firstChild,$z=__doc(this).documentElement;var c1=this.$G,c2=this.$I;if(this.isVertical){var $A=__px(this).getElemLeftPos(c1,null,false);var $B=__px(this).getElemLeftPos(c2,null,false);$B+=c2.clientWidth-$x.offsetWidth;var $C=e.clientX+$z.scrollLeft-$x.offsetWidth/2;if($C>=$A&&$C<=$B)$x.style.left=$C+"px";}else{var $D=__px(this).getElemTopPos(c1,null,false);var $E=__px(this).getElemTopPos(c2,null,false);$E+=c2.clientHeight-$x.offsetHeight;var top=e.clientY+$z.scrollTop-$x.offsetHeight/2;if(top>=$D&&top<=$E)$x.style.top=top+"px";}};__px(this).cancelEvent(e);};PXSplitContainer.prototype.$06=function(e){var $h=__doc(this).body.$Z;var $y=$h?$h.object:null;if($y){$y.$01(e,$h);__px(this).cancelEvent(e);}};



function PXHtmlView($a,$b,$c,$d){this.px_context=$a;this.element=$b;this.ID=$b.id;__px_cm(this).readProperties(this,$c,PXHtmlView.properties);if($c&&$c.autoSize&&$c.autoSize.enabled){__px_cm(this).registerAutoSize(this,$c);};__px_cm(this).registerRequiresOnLoad(this,$b.id);};PXHtmlView.properties=[["labelID",JSType.String,""],["content",JSType.String,""],["spinnerUrl",JSType.String,""],["closeUrl",JSType.String,""],];PXHtmlView.callbackProps=[];PXHtmlView.prototype.setProperties=function($c){__px_cm(this).readProperties(this,$c,PXHtmlView.callbackProps);var $e=__px_callback(this);this.content=PXRichTextEdit1.prototype.unescapeCdata($e.getLargeProp(this,"content"));this.$y(this.content);};PXHtmlView.prototype.onLoad=function(){this.$y(this.content);};PXHtmlView.prototype.$z=function(){var $f=__doc(this).querySelectorAll('[data-clickable]');this.imageLinks=[];var $g,$h=__px(this).topWin();if($h){var $i=$h.PXPopupImage;$g=new $i(this,this.spinnerUrl,this.closeUrl);}else $g=new PXPopupImage(this,this.spinnerUrl,this.closeUrl);for(var i=0;i<$f.length;i++){var $j=$f[i];var $k=$j.getAttribute('src');$j.addEventListener("click",function(){$g.setParameters($j,false,false,false);$g.AllowNavigation=false;$g.showImage($k);});}};PXHtmlView.prototype.$A=function($l){if(!this.contentContainer){if(this.element.rows.length==0)this.element.insertRow(0);var $m=this.element.rows[0];if($m.cells.length==0)$m.insertCell(0);var $n=$m.cells[0];for(var i=0;i<$n.childNodes.length;i++){var $o=$n.childNodes[i];if(String.compare($o.tagName,"div",true))this.contentContainer=$o;};if(!this.contentContainer){this.contentContainer=__doc(this).createElement("div");this.contentContainer.className="htmlviewinner border-box";$n.appendChild(this.contentContainer);};var style=this.contentContainer.style;};return this.contentContainer;};PXHtmlView.$B=function($p){var $q=$p.indexOf("px");if($q>-1)$p=$p.substring(0,$q);return $p?parseInt($p):0;};PXHtmlView.prototype.$y=function($l){var $r=this.$A();$r.innerHTML=$l;var $s=$r.getElementsByTagName("base");for(var i=0;i<$s.length;i++)if($s[i].parentNode)$s[i].parentNode.removeChild($s[i]);this.$z();};PXHtmlView.prototype.setHeight=function($t){var $b=this.element,$n=this.$A().parentNode;var $u=$t-($b.offsetHeight-$n.offsetHeight);if($u>0)$u=__px(this).getStyleHeight($n,$u);if($u<0)$u=0;$b.style.height=$n.style.height=$u+"px";this.contentContainer.style.height=$b.style.height;};PXHtmlView.prototype.getVisible=function(){return this.element.style.display!="none";};PXHtmlView.prototype.setVisible=function($v){if($v!=this.getVisible()){var $w=$v?"":"none";this.element.style.display=$w;if(this.labelID){var $x=__px(this).elemByID(this.labelID);if($x)$x.style.display=$w;};this.viewState.update("Visible",Boolean($v));}};PXHtmlView.prototype.setValue=function(v){if(v!=this.getValue())this.$y(v);};PXHtmlView.prototype.getValue=function(){return this.contentContainer?this.contentContainer.innerHTML:"";};


var PXPivotTableCommand={Refresh:"Refresh",XPageNext:"XPageNext",XPagePrev:"XPagePrev",XPageFirst:"XPageFirst",XPageLast:"XPageLast",YPageNext:"YPageNext",YPagePrev:"YPagePrev",YPageFirst:"YPageFirst",YPageLast:"YPageLast",ExportExcel:"ExportExcel",ExpandAll:"ExpandAll",CollapseAll:"CollapseAll"};function PXPivotTable($a,$b,$c){this.baseProps=$c;this.px_context=$a;$b.object=this;this.element=$b;this.ID=$b.id;__px_cm(this).readProperties(this,$c);__px_cm(this).registerAutoSize(this,$c);this.$0y();var h=Function.createDelegate(this,this.$0z);__px(this).addEventHandler($b,"click",h);h=Function.createDelegate(this,this.$0A);__px(this).addEventHandler($b,"mousemove",h);h=Function.createDelegate(this,this.$0B);__px(this).addEventHandler($b,"mouseout",h);this.dataCell=__px(this).elemByID(this.ID+"_dc");this.$0C();this.$0D($b);var $d=__px(this).elemByID(this.ID+"_tlbB");if($d){this.toolBarB=__px_cm(this).createControl("PXToolBar",$d.id);this.toolBarB.trackSeparators=true;};$d=__px(this).elemByID(this.element.id+"_tlbT");if($d){this.toolBarT=__px_cm(this).createControl("PXToolBar",$d.id);this.toolBarT.trackSeparators=true;};this.viewState=new PXStateBag(this,"PXPivotTable");this.events=new PXEventList(this,PXPivotTable.events,$c.clientEvents);this.refreshCall=__px_callback(this).createCommand("Refresh",true);this.exportCall=__px_callback(this).createCommand("ExportExcel",true);this.filterDialogCall=__px_callback(this).createCommand("FilterDialog",true);this.navigateCall=__px_callback(this).createCommand("Navigate",true);this.exportManager=new PXExcelExportManager(this,this.exportCall,"ExportPXlsx.axd");};PXPivotTable.prototype.$0y=function(){this.$0E(this.xDims,"xv");this.$0E(this.yDims,"yv");this.$0E(this.inactive,"iv");};PXPivotTable.prototype.$0E=function($e,$f){for(var i=0;i<$e.length;i++){var $g=this.baseProps[$f+i],$h;var $i=$g?$g.split(';'):[];var $j=new Array($i.length);for(var j=0;j<$j.length;j++){$j[j]=new Object();var $k=$i[j].split('|');$j[j].value=($k.length>0)?$k[0]:$i[j];$j[j].text=($k.length>1)?$k[1]:$i[j];};$e[i].valueItems=$j;var fp=this.baseProps[$f+i+'f'];if(fp){$e[i].filter=$h=new Object();$h.condition="IN";var $l=new Array(),$m=new Array();var ar=fp.split('|'),$n=$e[i].valueItems;for(var j=0;j<$n.length;j++){if(parseInt(ar[j])==1)$l.push($n[j].value);else $m.push($n[j].value);};if($l.length>$m.length)$h.selected=$l.join('|');else $h.unselected=$m.join('|');};fp=this.baseProps[$f+i+'fc'];if(fp){var ar=fp.split('|');$e[i].filter=$h=new Object();$h.condition=ar[0];$h.value=ar[1];$h.value2=ar[2];}}};PXPivotTable.properties=[["instanceID",JSType.String,""],["dataSourceID",JSType.String,""],["showSingleFact",JSType.Bool,false],["allowChangeLayout",JSType.Bool,true],["facts",JSType.String,null,"deserializeFields"],["xDims",JSType.String,null,"deserializeFields"],["yDims",JSType.String,null,"deserializeFields"],["inactive",JSType.String,null,"deserializeFields"],["pageSizeX",JSType.Int,50],["pageIndexX",JSType.Int,0],["pageCountX",JSType.Int,0],["pageSizeY",JSType.Int,100],["pageIndexY",JSType.Int,0],["pageCountY",JSType.Int,0],["exportImages",JSType.Object,PXExcelExportManager.exportImagesDesc]];PXPivotTable.events={$initialize:0};PXPivotTable.callbackProps=[["pageIndexX",JSType.Int,0,"setPageIndexX"],["pageCountX",JSType.Int,0],["pageIndexY",JSType.Int,0,"setPageIndexY"],["pageCountY",JSType.Int,0],["sortedFact",JSType.Int,null]];PXPivotTable.prototype.setProperties=function($c){this.baseProps=$c;__px_cm(this).readProperties(this,$c,PXPivotTable.callbackProps);if($c.facts){this.facts=this.deserializeFields($c.facts);this.xDims=this.deserializeFields($c.xDims);this.yDims=this.deserializeFields($c.yDims);this.inactive=this.deserializeFields($c.inactive);};if($c.refreshValues)this.$0y();};PXPivotTable.prototype.deserializeFields=function($o){var ar=$o.split('&'),$e=new Array();if($o)for(var i=0;i<ar.length;i++){var $p=ar[i].split(';'),$q=new Object();$q.key=$p[0];$q.caption=$p[1];$q.sortOrder=parseInt($p[2]);$q.width=parseInt($p[3]);$q.dataType=($p.length>4)?parseInt($p[4]):0;$e.push($q);$q.list=$e;};return $e;};PXPivotTable.prototype.serializeFields=function($e,$r){var ar=new Array(),$o;for(var i=0;i<$e.length;i++){var f=$e[i],$p=[f.key,f.caption,f.sortOrder,f.width,f.dataType];if(f.filter){if(f.filter.condition=="IN"){if(f.filter.selected)$p.push('s'+f.filter.selected);else if(f.filter.unselected)$p.push('u'+f.filter.unselected);}else{var $s=f.filter.condition+'|'+f.filter.value;if(f.filter.value2)$s+='|'+f.filter.value2;$p.push('c'+$s);}};ar.push($p.join(';'));};$o=ar.join('&');if($r)this.viewState.update($r,$o);return $o;};PXPivotTable.prototype.getVisible=function(){return this.element.style.display!="none";};PXPivotTable.prototype.setVisible=function(v){if(v!=this.getVisible())this.element.style.display=v?"":"none";};PXPivotTable.prototype.setHeight=function($t){var h=parseInt($t),$u=this.dataCell,$v=this.element;var $w=(this.dataTable&&this.dataTable.offsetHeight>0);var $x=$w?this.dataTable.rows[1].cells[1]:$u;h-=($v.offsetHeight-__px(this).getStyleHeight($x,$x.clientHeight));h=(h>0?h:0)+"px";$v.style.height=$u.style.height=h;if(this.factsTable){this.factsTable.parentNode.style.height=h;this.yTable.parentNode.style.height=h;};this.$0F=$t;};PXPivotTable.prototype.restoreHeight=function(){this.setHeight(this.$0F);};PXPivotTable.prototype.alignStatHeaders=function(){var $y=this.scrollDiv,$z=(-$y.scrollLeft)+"px";var $A=__px(this).isRTL()&&__px(this).IsIE910;if(this.xTable){if($A)this.xTable.style.right=$z;else this.xTable.style.left=$z;};if(this.yTable){var top=(-$y.scrollTop)+"px";this.yTable.style.top=top;}};PXPivotTable.prototype.setPageX=function($B){if(this.pageSizeX>0&&$B>=0&&$B<this.pageCountX){this.setPageIndexX($B);this.refresh();}};PXPivotTable.prototype.setPageIndexX=function($B){this.viewState.update("PageIndexX",this.pageIndexX=$B);};PXPivotTable.prototype.setPageY=function($B){if(this.pageSizeY>0&&$B>=0&&$B<this.pageCountY){this.setPageIndexY($B);this.refresh();}};PXPivotTable.prototype.setPageIndexY=function($B){this.viewState.update("PageIndexY",this.pageIndexY=$B);};PXPivotTable.prototype.refresh=function($C){var $D=Function.createDelegate(this,this.$0G);this.viewState.update("Height",parseInt(this.element.style.height));if($C){this.setResetTable();if($C==2){this.viewState.update("ResetRecords",1);this.showSpinner();}};__px_callback(this).execI(this,this.refreshCall,"",$D);};PXPivotTable.prototype.reload=function($E){this.viewState.reload($E);this.viewState.update("ReloadDimentions","true");this.refresh(2);};PXPivotTable.prototype.setReload=function($F,$E){this.viewState.reload($E);this.viewState.update("ReloadDimentions","true");this.viewState.update("ResetRecords",1);if($F)this.showSpinner();};PXPivotTable.prototype.showSpinner=function(){this.dataTable.style.display="none";__px(this).appendCss(this.dataTable.parentNode,["spinner"],true);this.setHeight(this.$0F);};PXPivotTable.prototype.$0G=function($G,$a){var $H=this.viewState.select("ReloadDimentions")!=null;this.processRefresh($G);if($H)__px_cm(this).performAutoSize(this);};PXPivotTable.prototype.$0C=function(){var id=this.element.id;this.dataTable=__px(this).elemByID(id+"_dt");this.factsTable=__px(this).elemByID(id+"_ft");this.xTable=__px(this).elemByID(id+"_xt");this.yTable=__px(this).elemByID(id+"_yt");this.inactTable=__px(this).elemByID(id+"_it");this.yDimCaption=__px(this).elemByID(id+"_ytc");this.xDimCaption=__px(this).elemByID(id+"_xtc");if(this.factsTable){h=Function.createDelegate(this,this.$0H);this.scrollDiv=this.factsTable.parentNode;__px(this).addEventHandler(this.scrollDiv,"scroll",h);};if(this.yDimCaption)this.yResizer=new PXColumnResizer(this,this.yDimCaption,this.yTable.parentNode);if(this.xTable){var sd=this.scrollDiv?this.scrollDiv:this.xTable.parentNode;this.xResizer=new PXColumnResizer(this,this.xTable.parentNode,sd);this.xResizer.rowIndex=this.xTable.rows.length-1;};if(this.allowChangeLayout){var $I=[this.xDimCaption,this.yDimCaption,this.xTable,this.inactTable];for(var i=0;i<$I.length;i++){var t=$I[i],$J=t?t.rows[t.rows.length-1]:null;if($J==null)continue;for(var j=0;j<$J.cells.length;j++){var $K=$J.cells[j].textContent;if($K.trim())$J.cells[j].setAttribute("draggable","true");}}}};PXPivotTable.prototype.getDataChanges=function(){return false;};PXPivotTable.prototype.needPostElement=function(id){return id==(this.ID+"_state");};PXPivotTable.prototype.processRefresh=function($G){if($G){if(this.yResizer)this.yResizer.dispose();if(this.xResizer)this.xResizer.dispose();this.viewState.remove("ResetTable");this.viewState.remove("ResetRecords");this.viewState.remove("ReloadDimentions");this.viewState.remove("ExpandHashX");this.viewState.remove("ExpandHashY");this.viewState.remove("ExpandAll");this.viewState.remove("CollapseAll");__px(this).excludeCss(this.dataTable.parentNode,["spinner"],true);var $L=new PXXmlDoc("",$G),$props=$L.rootNode.getAttribute("Props");if($props!=null)eval("$props = "+unescape($props));this.setProperties($props);var sl=0,st=0;if(this.scrollDiv){sl=this.scrollDiv.scrollLeft;st=this.scrollDiv.scrollTop;};this.dataTable.parentNode.innerHTML=$L.rootNode.childNodes[0].nodeValue;var $M=__px(this).elemByID(this.ID+"_inactDiv");if($M){var ic=this.element.rows[0].cells[0].querySelector(".inactiveCell");ic.innerHTML=$M.innerHTML;__px_tm(this).register(ic);$M.parentNode.removeChild($M);};this.$0C();if(this.scrollDiv){this.scrollDiv.scrollLeft=sl;this.scrollDiv.scrollTop=st;}};__px_cm(this).notifyCommandState(this,PXPivotTableCommand);if(__px(this).isVisible(this.element))this.setHeight(this.$0F);};PXPivotTable.prototype.currentDate=function(){var d=new Date(),$N=d.getDate(),$O=d.getMonth()+1;if($O<10)$O="0"+$O;if($N<10)$N="0"+$N;return ""+d.getFullYear()+$O+$N;};PXPivotTable.prototype.executeCommand=function($P,$Q){if(!this.getCommandState(this,$P).getEnabled())return;var sn=this.selectedNode,$R=PXPivotTableCommand.ExportExcel;switch($P){case PXPivotTableCommand.Refresh:this.refresh(2);break;case PXPivotTableCommand.ExpandAll:this.viewState.update("ExpandAll",1);this.refresh();break;case PXPivotTableCommand.CollapseAll:this.viewState.update("CollapseAll",1);this.refresh();break;case PXPivotTableCommand.ExportExcel:var $S=this.toolBarB?this.toolBarB.getButton($R):null;if($S==null&&this.toolBarT)$S=this.toolBarT.getButton($R);if($S==null&&this.ownerID){var $T=__px_all(this)[this.ownerID];if($T&&$T.getActionFromToolBarOrDS)$S=$T.getActionFromToolBarOrDS($R);};this.exportManager.startExportExcel($Q,$S,this.exportImages);break;case PXPivotTableCommand.XPageFirst:this.setPageX(0);break;case PXPivotTableCommand.XPagePrev:this.setPageX(this.pageIndexX-1);break;case PXPivotTableCommand.XPageNext:this.setPageX(this.pageIndexX+1);break;case PXPivotTableCommand.XPageLast:this.setPageX(this.pageCountX-1);break;case PXPivotTableCommand.YPageFirst:this.setPageY(0);break;case PXPivotTableCommand.YPagePrev:this.setPageY(this.pageIndexY-1);break;case PXPivotTableCommand.YPageNext:this.setPageY(this.pageIndexY+1);break;case PXPivotTableCommand.YPageLast:this.setPageY(this.pageCountY-1);break;}};PXPivotTable.prototype.getCommandState=function($U,$P){var $V=this.pageSizeX>0&&this.pageCountX>1;var $W=this.pageSizeY>0&&this.pageCountY>1;switch($P){case PXPivotTableCommand.Refresh:return new PXCommandState(true,true);case PXPivotTableCommand.ExpandAll:case PXPivotTableCommand.CollapseAll:var $X=this.xDims.length>1||this.yDims.length>1;return new PXCommandState($X,this.factsTable!=null);case PXPivotTableCommand.ExportExcel:return new PXCommandState(true,true);case PXPivotTableCommand.XPageFirst:case PXPivotTableCommand.XPagePrev:return new PXCommandState($V,this.pageIndexX>0);case PXPivotTableCommand.XPageLast:case PXPivotTableCommand.XPageNext:return new PXCommandState($V,this.pageIndexX<(this.pageCountX-1));case PXPivotTableCommand.YPageFirst:case PXPivotTableCommand.YPagePrev:return new PXCommandState($W,this.pageIndexY>0);case PXPivotTableCommand.YPageLast:case PXPivotTableCommand.YPageNext:return new PXCommandState($W,this.pageIndexY<(this.pageCountY-1));};return PXCommandState.empty;};PXPivotTable.prototype.registerCommandControl=function($Y,$P){__px_cm(this).registerCommandControl(this,$Y,$P);};PXPivotTable.prototype.$0I=function($Z){__px_callback(this).execI(this,this.navigateCall,$Z,Function.createDelegate(this,this.$0J));};PXPivotTable.prototype.$0J=function($G,$a){};PXPivotTable.prototype.$0K=function(td){var $q=this.$0L(td);if($q==null)return;if(this.filterDialog==null){this.filterDialog=__px_all(this)[this.ID+"_fd"];if(this.filterDialog){this.filterDialog.events.clearEventHandlers("afterHide");var h=Function.createDelegate(this,this.$0M);this.filterDialog.events.addEventHandler("afterHide",h);}};if(this.filterDialog==null){var $a=new Object();$a.field=$q;$a.td=td;__px_callback(this).execI(this,this.filterDialogCall,"",Function.createDelegate(this,this.$0N),$a);}else{this.filterDialog.setFilterStateOlap($q);this.filterDialog.show(td);}};PXPivotTable.prototype.$0N=function($G,$a){if($G){__px_cm(this).processHtmlData($G);var me=this;setTimeout(function(){me.$0O($a);},0);}};PXPivotTable.prototype.$0O=function($a){this.filterDialog=__px_all(this)[this.ID+"_fd"];if(this.filterDialog){var h=Function.createDelegate(this,this.$0M);this.filterDialog.events.addEventHandler("afterHide",h);this.filterDialog.setFilterStateOlap($a.field);this.filterDialog.show($a.td);}};PXPivotTable.prototype.$0M=function($00,$01){if($00.dialogResult==PXDialogResult.OK){var $q=$00.linkedField,$02=$00.owner,$03=$q.filter;$q.filter=$00.getOlapFilterCondition();if($q.filter==$03)return;this.serializeFields($q.list,this.$0P($q.list));if($02){if($q.filter!=null)$02.className=__px(this).appendCss($02,["filtered"]);else $02.className=__px(this).excludeCss($02,["filtered"]);};this.setResetTable();this.$0Q();this.refresh();}};PXPivotTable.prototype.setResetTable=function(){this.viewState.update("ResetTable",1);this.setPageIndexX(0);this.setPageIndexY(0);};PXPivotTable.prototype.$0Q=function(){delete this.sortedFact;this.viewState.remove("SortedCol");this.viewState.remove("SortedFact");for(var i=0;i<this.facts.length;i++)this.facts[i].sortOrder=-1;this.serializeFields(this.facts,this.$0P(this.facts));};PXPivotTable.prototype.$0H=function(e){var se=__px(this).eventElem(e);switch(e.type){case "scroll":var $y=this.scrollDiv;if($y.childNodes.length>0)this.alignStatHeaders();break;}};PXPivotTable.prototype.$0A=function(e){var td=this.$0R(e);var $e=td?this.$0S(td,true,true):null;if($e==null)return;var $04=td.querySelector("div[data-type=filter]")!=null;if($04){var cx=__px(this).getElemLeftPos(td),cw=td.offsetWidth;var $05=e.clientX<(cx+cw/2);__px(this).toggleCss($05,td,["filter-active"],true);__px(this).toggleCss(!$05,td,["sort-active"],true);}else if(td.querySelector("div[data-type=sort]")!=null){__px(this).toggleCss(true,td,["sort-active"],true);}};PXPivotTable.prototype.$0B=function(e){var td=this.$0R(e);if(td!=null&&this.$0S(td,true,true))__px(this).excludeCss(td,["filter-active","sort-active"],true);};PXPivotTable.prototype.$0z=function(e){var td=this.$0R(e),$e,$06,se,$07=false;if(td==null)return;var $04=td.querySelector("div[data-type=filter]")!=null;var cx=__px(this).getElemLeftPos(td),cw=td.offsetWidth;$e=this.$0S(td,true);if($e==null&&td.getAttribute("data-index")!=null){$e=this.$0T(td);$07=true;};if($e&&(($04&&e.clientX<(cx+cw/2))||this.$0U(e)=="filter")){this.$0K(td);}else if($e&&$e!="inactive"){var $08=this[$e];var $q=$07?this.facts[0]:this.$0V($08,td.textContent);if($q){if($e!="yDims"||this.sortedFact==null){if($e=="facts")$q.sortOrder=($q.sortOrder==0)?1:0;else $q.sortOrder=($q.sortOrder==0||$q.sortOrder==-1)?1:0;};this.serializeFields($08,$e);if($e=="facts")$06=parseInt(td.getAttribute("data-index"));if($06!=null&&!isNaN($06)){this.viewState.update("SortedCol",$06);this.viewState.update("SortedFact",this.sortedFact=$q.key);}else if($e=="yDims"){this.$0Q();};this.refresh();}}else if(this.$0U(e)=="expand"||td.getAttribute("data-hash")!=null){var $09=td.getAttribute("data-hash");if($09){var $v=this.$0W(td);this.viewState.update("ExpandHash"+($v==this.xTable?'X':'Y'),$09);this.refresh();}}else if((se=__px(this).eventElem(e))!=null&&se.tagName=='A'){this.$0I(se.getAttribute("data-xyf"));}};PXPivotTable.prototype.afterColResize=function($U,td,$0a){var $0b=this.$0W(td).querySelector("colgroup");if($0b==null)return;var $0c=null,j=0;for(var i=0;i<$0b.childNodes.length;i++){var $b=$0b.childNodes[i];if($b&&$b.tagName=="COL"&&(j++==td.cellIndex)){$0c=$b;break;}};if($0c){var $0d=__px(this).getCSSRule($0c.className);if($0d){if($U==this.yResizer){var $x=this.dataTable.rows[0].cells[0];var $0e=parseInt($x.style.width),$0f=$0a-td.offsetWidth;$x.style.width=$0e+$0f+"px";};$0d.style["width"]=$0a+"px";var $e=this.$0S(td,true),$0g=false,$q=null;if($e==null&&($e=this.$0T(td))!=null)$0g=true;if($e&&!$0g)$q=this.$0V(this[$e],td.textContent);else if($0g)$q=this.facts[0];if($q){$q.width=$0a;this.serializeFields(this[$e],$e);this.refresh();}}}};PXPivotTable.prototype.$0W=function(td){return td.parentNode.parentNode.parentNode;};PXPivotTable.prototype.$0S=function(td,name,$0h){var $0i=td.className?td.className.split(' ')[0]:null;switch($0i){case "yDimH":return name?"yDims":this.yDims;case "xDimH":return name?"xDims":this.xDims;case "factH":return name?"facts":this.facts;case "inactiveCell":case "inactH":return name?"inactive":this.inactive;};if(name&&$0h)return this.$0T(td);};PXPivotTable.prototype.$0P=function($e){if($e==this.yDims)return "yDims";if($e==this.xDims)return "xDims";if($e==this.facts)return "facts";if($e==this.inactive)return "inactive";};PXPivotTable.prototype.$0T=function(td){if(this.facts.length>1||this.showSingleFact)return null;return this.$0W(td)==this.xTable?"facts":null;};PXPivotTable.prototype.$0L=function(td){var $e=this.$0S(td);return $e?$e[td.cellIndex%$e.length]:null;};PXPivotTable.prototype.$0V=function($e,$K){if($K&&$e){$K=$K.trim();for(var i=0;i<$e.length;i++)if(String.compare($e[i].caption,$K,true))return $e[i];};return null;};PXPivotTable.prototype.$0R=function(e){var se=__px(this).eventElem(e);while(se&&se.tagName!="TD"&&se.tagName!="TR")se=se.parentNode;return(se==null||se.tagName!="TD")?null:se;};PXPivotTable.prototype.$0U=function(e){var se=__px(this).eventElem(e),$0j;while(se&&se.tagName!="TD"){if(se.tagName=="DIV"&&($0j=se.getAttribute("data-type"))!=null)return $0j;se=se.parentNode;};return null;};PXPivotTable.prototype.$0D=function($b){if(this.$0X==null){this.$0X=Function.createDelegate(this,this.$0Y);this.$0Z=Function.createDelegate(this,this.$10);this.$11=Function.createDelegate(this,this.$12);this.$13=Function.createDelegate(this,this.$14);this.$15=Function.createDelegate(this,this.$16);};__px(this).addEventHandler($b,"dragover",this.$0Z);__px(this).addEventHandler($b,"dragenter",this.$11);__px(this).addEventHandler($b,"dragleave",this.$13);__px(this).addEventHandler(__doc(this).documentElement,"drop",this.$15);__px(this).addEventHandler($b,"dragstart",this.$0X);};PXPivotTable.prototype.$17=function($x,$0k){if(this.$18==null)return null;var $0l=this.$0L($x),$0g=false;var $0m=this.$0S($x),$0n=this.$18.list;if($0l==this.$18)return null;if($0m==null&&this.$0T($x)!=null){$0m=this.facts;$0g=true;};var $0o=Array.indexOf($0n,this.$18);var $0p=$0l?Array.indexOf($0m,$0l):0;if($0l){if($0m==$0n&&$0o<$0p)$0p-=1;if(!$0k)$0p+=1;}else if($0g)$0p=1;if($0p==$0o&&$0m==$0n)return null;return[$0m,$0p];};PXPivotTable.prototype.$0Y=function(e){var $x=this.$0R(e);if($x==null)return;var $0q=this.$0S($x,true);if($0q=="facts"&&this.facts.length==1)return;e.dataTransfer.setData('text',$x.textContent.trim());e.dataTransfer.effectAllowed='linkMove';this.$18=this.$0L($x);if(this.yDims.length==0){this.yDimCaption.parentNode.style.display="";this.yTable.parentNode.parentNode.style.display="";};if(!__px(this).IsAnyIE){var $y=this.$19;if($y==null){var $y=this.$19=__px(this).createElement("div");this.element.parentNode.insertBefore($y,this.element);$y.style.position="absolute";$y.style.zIndex=-1;};var cs=__px(this).getComputedStyle($x);var $0r=["font","padding","border","height","width","background"];for(var i=0;i<cs.length;i++){var p=cs[i];for(var j=0;j<$0r.length;j++)if(p.indexOf($0r[j])>=0){$y.style[p]=cs[p];break;}};$y.style.width=$x.clientWidth+"px";$y.style.left=this.element.offsetLeft+"px";$y.style.top=this.element.offsetTop+"px";$y.innerHTML=__px(this).getElemText($x);e.dataTransfer.setDragImage($y,0,0);}};PXPivotTable.prototype.$12=function(e){this.$10(e);};PXPivotTable.prototype.$14=function(e){var $x=this.$0R(e);if($x&&(this.$0S($x)||this.$0T($x))){var $0s=this.$1a,$0t=this.$1b;if($0s)$0s.style.display="none";if($0t)$0t.style.display="none";}};PXPivotTable.prototype.$10=function(e){var $x=this.$0R(e),$0q;if($x!=null&&(($0q=this.$0S($x,true))!=null||($0q=this.$0T($x)!=null))){var cx=__px(this).getElemLeftPos($x),cw=$x.offsetWidth;var cy=__px(this).getElemTopPos($x,null,!__px(this).IsFirefox);if($0q=="facts"&&this.scrollDiv)cx-=this.scrollDiv.scrollLeft;var x=e.clientX+__doc(this).documentElement.scrollLeft;var $0k=$0k=(x<(cx+cw/2))?true:false;if((this.$1c=this.$17($x,$0k))==null)return;var $0s=this.$1a,$0t=this.$1b,$0u=__doc(this).body;if($0s==null){this.$1a=$0s=__px_cm(this).createSpriteOrImage($0u,"control@RedArrowUp");this.$1b=$0t=__px_cm(this).createSpriteOrImage($0u,"control@RedArrowDown");$0s.style.position=$0t.style.position="absolute";};$0s.style.display="";$0s.style.left=cx-$0s.offsetWidth/2+($0k?0:cw)+"px";$0s.style.top=cy+$x.offsetHeight+"px";$0s.style.zIndex=20000;$0t.style.display="";$0t.style.left=cx-$0t.offsetWidth/2+($0k?0:cw)+"px";$0t.style.top=cy-$0t.offsetHeight+"px";$0t.style.zIndex=20000;}};PXPivotTable.prototype.$16=function(e){var $K=e.dataTransfer.getData('text');this.$14(e);if(this.yDims.length==0){this.yDimCaption.parentNode.style.display="none";this.yTable.parentNode.parentNode.style.display="none";};if(this.$1c!=null){var $0v=this.$1c[0],$0p=this.$1c[1];var $0w=this.$18,$e=$0w.list,$0o=Array.indexOf($e,$0w);$e.splice($0o,1);$0v.splice($0p,0,$0w);$0w.list=$0v;var $0x=this.$0P($0v);this.serializeFields($0v,$0x);if($e!=$0v)this.serializeFields($e,this.$0P($e));if($e!=$0v||$0x=="xDims"||$0x=="yDims"||$0x=="inactive")this.setResetTable();this.refresh();delete this.$18;delete this.$1c;}};


/*PXDashboardContainer Script objects and functions Copyright(c)2005-2016 ProjectX*/var PXDashboardCommand={Refresh:"Refresh",SaveLayout:"SaveLayout",Delete:"Delete",DesignMode:"DesignMode",UpdateWorkspace:"UpdateWorkspace",CreateUserCopy:"CreateUserCopy"};function PXDashboardContainer($a,$b,$c){this.px_context=$a;this.element=$b;this.ID=$b.id;this.viewState=new PXStateBag(this,"PXDashboardContainer");this.$1a=0;__px_cm(this).readProperties(this,$c,PXDashboardContainer.properties);__px_cm(this).registerAutoSize(this,$c);__px_cm(this).registerRequiresOnLoad(this,$b.id);__px(this).addEventHandler($b,"click",Function.createDelegate(this,this.$1b));this.deleteCall=__px_callback(this).copyCommand(PXDashboardCommand.Delete,this.callBackMode);this.saveLayoutCall=__px_callback(this).copyCommand(PXDashboardCommand.SaveLayout,this.callBackMode);this.refreshCall=__px_callback(this).copyCommand(PXDashboardCommand.Refresh,this.callBackMode);this.workspaceCall=__px_callback(this).copyCommand(PXDashboardCommand.UpdateWorkspace,this.callBackMode);this.designCall=__px_callback(this).copyCommand(PXDashboardCommand.DesignMode,this.callBackMode);this.createUserCopyCall=__px_callback(this).copyCommand(PXDashboardCommand.CreateUserCopy,this.callBackMode);this.designHandler=Function.createDelegate(this,this.$1c);};PXDashboardContainer.properties=[["gridStep",JSType.Int,10],["wizardControlID",JSType.String,""],["callBackMode",JSType.Object,PXCallbackManager.commandDesc],["deleteConfirmationMessage",JSType.String,""],["canEdit",JSType.Bool,false],["isDesigner",JSType.Bool,false]];PXDashboardContainer.callbackProps=[["canEdit",JSType.Bool,false],["isDesigner",JSType.Bool,false]];PXDashboardContainer.events={$initialize:0};PXDashboardContainer.prototype.onLoad=function(){var $d=this.wizard=__px_alls(this)[this.wizardControlID],me=this;if($d){$d.events.addEventHandler("beforeShow",Function.createDelegate(this,this.$1d));$d.events.addEventHandler("afterLoad",Function.createDelegate(this,this.$1d));$d.events.addEventHandler("widgetSaved",Function.createDelegate(this,this.$1e));};this.$1f();this.$1g=__px(this).elemByID(this.ID+"_dummy");var $e=this.layoutPanel=__px_all(this)[this.ID+"_pnlDashLayout"];if($e){$e.layoutTypes=$e.elemContent.querySelectorAll('div.layout-type');$e.events.addEventHandler("beforeShow",Function.createDelegate(this,this.$1h));$e.events.addEventHandler("afterHide",Function.createDelegate(this,this.$1i));__px(this).addEventHandler($e.elemContent,"click",Function.createDelegate(this,this.$1j));};window.addEventListener("resize",Function.createDelegate(this,function(){this.$1k();this.$1l();}));};PXDashboardContainer.prototype.fireEvent=function(id,ev,$f){return this.events.fireEvent(id,ev,$f);};PXDashboardContainer.prototype.setProperties=function($c){__px_cm(this).readProperties(this,$c,PXBoundPanel.PXDashboardContainer);this.notifyCommandState();};PXDashboardContainer.prototype.getItem=function(id){for(var i=0;i<this.items.length;i++)if(this.items[i].ID==id)return this.items[i];return null;};PXDashboardContainer.prototype.getWidgetsInRow=function($g){var $h=$g.getWrapper().parentNode,$i=new Array();for(var i=0;i<$h.childNodes.length;i++){var $j=$h.childNodes[i];for(var j=0;j<$j.childNodes.length;j++){var $b=$j.childNodes[j];if($b.object&&($b.object instanceof PXDashboard))$i.push($b.object);}};return $i;};PXDashboardContainer.prototype.getWidgetsInCol=function($k){var $i=new Array();for(var j=0;j<$k.childNodes.length;j++){var $b=$k.childNodes[j];if($b.object&&($b.object instanceof PXDashboard))$i.push($b.object);};return $i;};PXDashboardContainer.prototype.$1f=function(){var $l=this.element.querySelectorAll("div[data-id]");this.items=new Array();this.ws1=this.element.querySelector('div[data-ws="1"]');this.ws2=this.element.querySelector('div[data-ws="2"]');this.$1a=0;var $m=new Array(),$n=new Array();for(var i=0;i<$l.length;i++){var $b=$l[i];if($b.object!=null)$b.object.dispose();if($b.id)continue;var $g=new PXDashboard(this,$b);this.items.push($g);var $o=$b.getAttribute("data-empty");var $p=$b.getAttribute("data-expired");if($o!=null||$p!=null){if($p){__px(this).appendCss($b,["reload"],true);if(parseInt($p)==2)$n.push($g.ID);else this.refresh($g,true);}else{__px(this).appendCss($b,["spinner"],true);if(parseInt($o)==2)$m.push($g.ID);else this.refresh($g);}}};if($m.length>0)this.refresh($m.join(','));if($n.length>0)this.refresh($n.join(','),true);};PXDashboardContainer.prototype.$1m=function($q){var $r=this.$1n($q),$s=2;switch($r){case 8:$s=3;break;case 6:$s=4;break;case 4:$s=6;break;};return $s;};PXDashboardContainer.prototype.$1o=function($q){if($q==null){this.$1o(this.ws1);this.$1o(this.ws2);return;}else if(!__px(this).isVisible($q))return;var $t=$q.childNodes,$u=0,$v=false;var $s=this.$1m($q),$r=this.$1n($q);for(var i=0;i<$t.length;i++){var $h=$t[i],$w=false,$x=0;if(!$h.getAttribute||$h.getAttribute("data-row")==null)continue;var $y=0,$z=0;for(var j=0;j<$h.childNodes.length;j++){var $j=$h.childNodes[j],$g=this.getWidgetsInCol($j)[0];if($g==null||$g.isDummy){$j.parentNode.removeChild($j);j--;continue;};$j.setAttribute("data-col",$y);$w=true;$x+=$g.getWidthInColumns();$y++;if($z==0||$g.element.offsetHeight<$z)$z=$g.element.offsetHeight;};if($y>1)$v=true;if(!$w){$h.parentNode.removeChild($h);i--;continue;}else{$h.setAttribute("data-row",$u);if(this.designMode){if(!this.$1p($h,$s,$y,12-$x,$z))$v=true;};$u++;}};if(this.designMode){var $h=this.$1q($q,$u);this.$1p($h,$s,0,$r<6?12:6,250);};this.$1f();};PXDashboardContainer.prototype.$1p=function($A,$s,$B,$C,$D){var $E=new Object(),$F=new Object(),$G=new Object();$E["class"]="col-sm-"+($C<$s?0:$C);$E["data-col"]=$B.toString();var $j=__px(this).createElement("div",$A,$E);if(this.$1g){var $H=this.$1g.cloneNode(true);$H.style.display=$H.id="";$H.style.height=$D+"px";$j.appendChild($H);};return $C>=$s;};PXDashboardContainer.prototype.$1q=function($q,$u){var $E=new Object();$E["class"]="row";$E["data-row"]=$u.toString();return __px(this).createElement("div",$q,$E);};PXDashboardContainer.prototype.$1r=function($I,$J){var $K=new Array(),$L=new Array();for(var i=0;i<this.items.length;i++){if(this.items[i].isDummy){var $M=this.items[i].getWrapper();$M.parentNode.removeChild($M);continue;};var $g=this.items[i],ws=$g.getWorkspaceIndex(),ar=(ws==0)?$K:$L;var $h=$g.getRowIndex(),$j=$g.getColumnIndex();if(ar[$h]==null)ar[$h]=new Array();ar[$h][$j]=$g;};var $N=Math.max($K.length,$L.length);for(var i=0;i<$N;i++){var $O=$K[i],$P=$L[i],$h=null,$Q=0;if($O!=null)for(var j=0;j<$O.length;j++){var i1=$O[j],$C=i1.getWidthInColumns();var $R=($P!=null)?Math.floor(($I/12)*$C):$C;i1.setWidthInColumns($R<1?1:$R);if(i1.getHeight()>$Q)$Q=i1.getHeight();if($h==null)$h=i1.getWrapper().parentNode;};$h=this.ws1.querySelector('div[data-row="'+i.toString()+'"]');if($h==null)$h=this.$1q(this.ws1,i);if($P!=null)for(var j=0;j<$P.length;j++){var i2=$P[j],$C=i2.getWidthInColumns();var $R=($O!=null)?Math.floor(($J/12)*$C):$C;i2.setWidthInColumns($R<1?1:$R);if($Q>0&&i2.getHeight()>$Q)i2.setHeight($Q);$h.appendChild(i2.getWrapper());}};this.$1o();};PXDashboardContainer.prototype.$1n=function(ws){var ar=ws.className.split('-');return parseInt(ar[ar.length-1]);};PXDashboardContainer.prototype.$1s=function(ws,$S){var ar=ws.className.split('-');ar[ar.length-1]=$S;ws.className=ar.join('-');};PXDashboardContainer.prototype.removeItem=function(id){var $g=this.getItem(id);var $T=true;if(this.deleteConfirmationMessage){try{$T=confirm(this.deleteConfirmationMessage);}catch(ex){$T=true;}};if($g&&$T){var $a=new Object();$a.id=id;$a.item=$g;var $U=Function.createDelegate(this,this.$1t);__px_callback(this).execI(this,this.deleteCall,id,$U,$a);}};PXDashboardContainer.prototype.$1t=function($V,$a){if($V){var $g=$a.item,$j=$g.getWrapper(),ws=$g.getWorkspace();$g.element.object=null;$j.removeChild($g.element);this.items.splice(Array.indexOf(this.items,$g),1);this.$1o(ws);this.saveLayout();}};PXDashboardContainer.prototype.saveLayout=function($g,$W){var $a=new Object(),$X=new Array();$a.item=$g;$a.refreshedItem=$W;if($g==null){if($W)$X.push("@"+$W.getLayoutInfo());for(var i=0;i<this.items.length;i++)if(!this.items[i].isDummy&&this.items[i]!=$W)$X.push(this.items[i].getLayoutInfo());}else $X.push($g.getLayoutInfo());var $U=Function.createDelegate(this,this.$1u);__px_callback(this).execI(this,this.saveLayoutCall,$X.join('|'),$U,$a);this.$1k($g);};PXDashboardContainer.prototype.createUserCopy=function(){var $U=Function.createDelegate(this,this.$1v);var $a=new Object();$a.allWidgets=true;__px_callback(this).execI(this,this.createUserCopyCall,"",$U,$a);};PXDashboardContainer.prototype.swapItems=function($Y,$Z){var e1=$Y.element,$00=e1.parentNode;var e2=$Z.element,$01=e2.parentNode;var h1=e1.offsetHeight,h2=e2.offsetHeight;if(!$Z.sizes){e2.style.height=h1+"px";};if(!$Y.sizes){e1.style.height=h2+"px";};$00.appendChild(e2);$01.appendChild(e1);this.$1o();this.saveLayout();};PXDashboardContainer.prototype.$1l=function(){if(this.resizeItems){for(var it in this.resizeItems){var im=this.resizeItems[it];var $02=im.element.querySelector('[id*="_dashWidget"]').lastElementChild.lastElementChild.lastElementChild;var $03=$02.style.fontSize;$02.style.fontSize='';var $04=document.createElement('div');$04.style.position='absolute';$04.style.overflow='hidden';$04.style.opacity=0;$04.style.display='inline-block';$04.style.padding=$02.ownerDocument.defaultView.getComputedStyle($02).padding;$04.style.top=$02.offsetTop+'px';for(var i=0;i<$02.childNodes.length;i++)$04.appendChild($02.childNodes[i].cloneNode(true));var $05=0;var $06=0;if(im.content){var $07=im.content.style.overflow;im.content.style.overflow="hidden";$05=Math.max($05,im.content.scrollHeight-im.content.offsetHeight);$06=Math.max($06,im.content.scrollWidth-im.content.offsetWidth);};var $08=im.element.style.overflow;im.element.style.overflow="hidden";var $09=$02.parentNode.previousElementSibling;var $0a=($09&&$09.offsetHeight)||0;$05=Math.max($05,im.element.scrollHeight-im.element.offsetHeight)+$0a;$06=Math.max($06,im.element.scrollWidth-im.element.offsetWidth);$05=Math.max($05,0);$06=Math.max($06,0);var $0b;var $0c=$02.getBoundingClientRect();$02.appendChild($04);var $0d=__px(this).IsEdge?PX.identity:Math.floor;var $0e=function($0f,$0g,$0h,$0i,$0b){if($0i<=0){$04.style.fontSize=($0f>0)?($0f+"em"):"";return;};if(Math.abs($0h-$0f)<0.00001){$04.style.fontSize=$0f+'em';return;};$04.style.fontSize=$0h+'em';var $0j=$04.getBoundingClientRect();if($0d($0c.width)-$06<$0d($0j.width)||$0d($0c.height)-$05<$0d($0j.height)){$0e($0f,$0h,$0f+($0h-$0f)/2,$0i-1,$0b?Math.min($0b,$0h):$0h);}else{if($0b===undefined){if($0f==$0g){$0e($0h,$0h,$0h*2,$0i-1,$0b);}else{$0e($0h,$0h,$0h+($0h-$0g)/2,$0i-1,$0b);}}else{$0e($0h,$0h,$0h+($0b-$0h)/2,$0i-1,$0b);}}};$0e(0,0,1,100);var $S=$04.style.fontSize;$02.removeChild($04);$02.style.fontSize=$S;};this.resizeItems=[];}};PXDashboardContainer.prototype.$1u=function($V,$a){if($a.refreshedItem){this.$1v($V,{'item':$a.refreshedItem});}else{this.$1l();}};PXDashboardContainer.prototype.refresh=function($l,$0k){var $X="",$0l=false;if($l)$X=(typeof($l)=="string")?$l:$l.ID;else if(this.wizard.propsPanel&&this.wizard.propsPanel.suppressLayout)return;if(!$X&&this.items&&this.items.length){var $m=new Array();for(var i=0;i<this.items.length;i++){if(this.items[i].isDummy)continue;$m.push(this.items[i].ID);__px(this).appendCss(this.items[i].element,["reload"],true);};$0l=true;$X=$m.join(',');};var $U=Function.createDelegate(this,this.$1v);var $a=new Object();$a.allWidgets=!$X;if($X){$X+="|"+($0k?"true":"false");$X+="|"+($0l?"true":"false");};__px_callback(this).execI(this,this.refreshCall,$X,$U,$a);};PXDashboardContainer.prototype.$1k=function($g){var $l=($g?[$g]:this.items).filter(function(i){return !i.isDummy&&(i.element.getAttribute('data-auto')=='font');});if(!this.resizeItems||!this.resizeItems.push)this.resizeItems=[];for(var i in $l)if(this.resizeItems.indexOf($l[i])==-1)this.resizeItems.push($l[i]);};PXDashboardContainer.prototype.$1v=function($V,$a){var $0m=$a.allWidgets,me=this;var $0n=new Array(),$0o=false;var $0p=new PXXmlDoc("",$V),$0q=$0p.rootNode;if(!$0m){var $0r=__doc(this).querySelectorAll("input[type=hidden]");var $0s=$0r[0].parentNode,$m=new Array();var $0t=Array.prototype.slice.call($0r).reduce(function($0u,hf){if(hf.id)$0u[hf.id]=hf;return $0u;},new Object());for(var i=0;i<$0q.childNodes.length;i++){var wn=$0q.childNodes[i],id=wn.getAttribute("ID");var $g=this.getItem(id),$0v=wn.getAttribute("InProcess");if($g==null)continue;if(!$0v){var $0w=$g.getWrapper(),$0x=$g.isDummy;if($0w!=null){var $0y=__px_callback(this).getLargeProp(this,"w"+id);$g.element.innerHTML="";__px_cm(this).processHtmlData($0y,$0w);$g.initialize($0w.querySelectorAll("div[data-id]")[0]);if($0x)$0o=true;var $0z=$0w.querySelectorAll("input[type=hidden]");for(var j=0;j<$0z.length;j++){var hf=$0z[j],$0A=$0t[hf.id];if($0A&&$0A.parentNode)$0A.parentNode.replaceChild(hf,$0A);else $0s.appendChild(hf);}};var $0B=this.$1w($g);if($0B)$0n.push($g);this.$1k($g);}else $m.push($g.ID);};if($m.length>0){if(this.$1a<5000)this.$1a+=500;setTimeout(function(){if(__px_callback(me))me.refresh($m.join(','));},me.$1a);}else this.$1a=0;}else{if($V)__px_cm(this).processHtmlData($0q.childNodes[0].nodeValue,this.element);else this.element.innerHTML="";var $props=$0q.getAttribute("Props");if($props!=null)eval("$props = "+$props);this.setProperties($props);this.$1f();this.$1k(null);this.$1x();this.$1g=__px(this).elemByID(this.ID+"_dummy");};if($0o)this.$1o();var $0C=this.designMode;setTimeout(function(){__px_cm(me).notifyOnResize(true,me.element);me.$1l();for(var i=0;i<$0n.length;i++){var co=$0n[i];if(co&&co.notifyDesignChanged)co.notifyDesignChanged($0C);}},1);this.notifyCommandState();};PXDashboardContainer.prototype.$1x=function(){if(this.designMode)this.element.className=__px(this).appendCss(this.element,["design"]);else this.element.className=__px(this).excludeCss(this.element,["design"]);};PXDashboardContainer.prototype.switchDesignMode=function(){this.designMode=!this.designMode;if(this.designMode)this.viewState.update("DesignMode",true);else this.viewState.remove("DesignMode");this.$1x();this.$1o();__px_callback(this).execI(this,this.designCall,"",this.designHandler);};PXDashboardContainer.prototype.$1w=function($0D){return $0D.content&&$0D.content.firstElementChild&&$0D.content.firstElementChild.object;};PXDashboardContainer.prototype.$1c=function($V,$a){var $l=this.items.map(this.$1w).filter(PX.identity);for(var i=0;i<$l.length;i++){var $g=$l[i];if($g.notifyDesignChanged)$g.notifyDesignChanged(this.designMode);}};PXDashboardContainer.prototype.executeCommand=function($0E,$0F){if(!this.getCommandState(this,$0E).getEnabled())return;switch($0E){case PXDashboardCommand.Refresh:if($0F){var $g=this.getItem($0F);if($g){__px(this).appendCss($g.element,["reload"],true);}}else{for(var i=0;i<this.items.length;i++)__px(this).appendCss(this.items[i].element,["reload"],true);};this.refresh($0F,true);break;case PXDashboardCommand.SaveLayout:this.saveLayout($0F);break;case PXDashboardCommand.Delete:this.removeItem($0F);break;case PXDashboardCommand.DesignMode:this.switchDesignMode();break;case PXDashboardCommand.CreateUserCopy:this.createUserCopy();break;}};PXDashboardContainer.prototype.executeCallback=function($0E,$0F){this.executeCommand($0E,$0F);};PXDashboardContainer.prototype.getCommandState=function($0G,$0E){switch($0E){case PXDashboardCommand.DesignMode:var $0H=this.element.querySelector('div[data-empty]');var $0I=this.element.querySelector('div[data-expired]');var $0J=this.isDesigner&&this.canEdit&&$0H==null&&$0I==null;return new PXCommandState(this.isDesigner&&this.canEdit,$0J);case PXDashboardCommand.CreateUserCopy:var $0J=!this.isDesigner&&this.canEdit;return new PXCommandState($0J,$0J);};return new PXCommandState(true,true);};PXDashboardContainer.prototype.registerCommandControl=function($0K,$0E){__px_cm(this).registerCommandControl(this,$0K,$0E);};PXDashboardContainer.prototype.notifyCommandState=function(){__px_cm(this).notifyCommandState(this,PXDashboardCommand);};PXDashboardContainer.prototype.$1b=function(e){var $b=__px(this).eventElem(e),$g=__px(this).eventObject(e);if($b&&$g&&this.wizard&&$b.tagName=='A'&&$b.className=="add-widget-link"){this.wizard.show($g);}};PXDashboardContainer.prototype.$1d=function($0G,$f){if(!$0G.loaded)return;var $A=$f.owner?$f.owner:$0G.owner,$0L=$A.commandArgument;if($0L){var ar=$0L.split('|'),id=ar[0],$0M=ar[1];$0G.setWidget(id,$0M);}else $0G.setWidget(null);if($A instanceof PXDashboard)$0G.setWidgetLayout($A.getLayoutInfo());else $0G.setWidgetLayout(null);};PXDashboardContainer.prototype.$1e=function($0G,$f){var $A=$0G.owner,$g;if($A instanceof PXDashboard){$g=$A;$g.ID=$f.widgetID;}else if($f.widgetID)$g=this.getItem($f.widgetID);$g.element.innerHTML="";__px(this).appendCss($g.element,["spinner"],true);this.refresh($g,true);};PXDashboardContainer.prototype.$1y=function(){if(this.layoutPanel!=null){var $0N=this.layoutPanel.layoutTypes;for(var i=0;i<$0N.length;i++){if($0N[i].getAttribute("selected")!=null)return parseInt($0N[i].getAttribute("data-type"));}};return null;};PXDashboardContainer.prototype.$1z=function(){switch(this.$1n(this.ws1)){case 6:return 1;case 8:return 2;case 4:return 3;};return 0;};PXDashboardContainer.prototype.$1h=function($0G,$f){this.$1A(this.$1z());};PXDashboardContainer.prototype.$1i=function($0G,$f){if($0G.dialogResult==PXDialogResult.OK){var $0O=this.$1y();if($0O!=this.$1z()){var $U=Function.createDelegate(this,this.$1B);__px_callback(this).execI(this,this.workspaceCall,$0O,$U);}}};PXDashboardContainer.prototype.$1B=function($V,$a){if($V){var $0P=this.$1z();var $0O=this.$1y(),$0Q=12,$0R=0;switch($0O){case 1:$0Q=6;$0R=6;break;case 2:$0Q=8;$0R=4;break;case 3:$0Q=4;$0R=8;break;};var $0S=this.$1n(this.ws1);var $0T=this.$1n(this.ws2);this.$1s(this.ws1,$0Q);this.$1s(this.ws2,$0R);if($0P!=0&&$0O==0){this.$1r($0S,$0T);this.saveLayout();}else this.$1o();}};PXDashboardContainer.prototype.$1j=function(e){var $b=__px(this).eventElem(e),$0M;while($b!=null&&$b!=this.layoutPanel.elemContent){if(($0M=$b.getAttribute("data-type"))!=null)break;$b=$b.parentNode;};if($0M)this.$1A(parseInt($0M));};PXDashboardContainer.prototype.$1A=function($0M){if(this.layoutPanel==null)return;var $0N=this.layoutPanel.layoutTypes;for(var i=0;i<$0N.length;i++){var id=parseInt($0N[i].getAttribute("data-type"));if($0M==id)$0N[i].setAttribute("selected","1");else $0N[i].removeAttribute("selected");}};function PXDashboard($0U,$b){this.px_context=$0U.px_context;this.container=$0U;this.initialize($b);};PXDashboard.prototype.initialize=function($b){if(this.element)this.dispose();this.element=$b;this.ID=$b.getAttribute("data-id");this.isDummy=(parseInt(this.ID)==-1);var $0V=$b.getAttribute('data-heightclasses');if($0V){this.sizes=$0V.split(',').map(function(l){var $0W=l.split('|');return{'height':parseInt($0W[0]),'className':$0W[1]};}).sort(function(a,b){return a.height-b.height});};var $0X=this.container;this.caption=__px(this).elemByID($0X.ID+"_cap"+this.ID);this.content=__px(this).elemByID($0X.ID+"_cont"+this.ID);this.setContentHeight();$b.object=this;if($0X.designMode&&!this.isDummy){__px_cm(this).registerDragControl(this,$0X.ID+"_dt"+this.ID,false);__px_cm(this).registerResizableControl(this);this.resizeManager.step=$0X.gridStep;if(this.sizes){this.resizeManager.minHeight=this.sizes[0].height-this.resizeManager.step;};this.resizeManager.resizeDirection=1;this.resizeManager.allowResizeY=Boolean(this.element.style.height);}};PXDashboard.prototype.dispose=function(){if(this.dragManager!=null)this.dragManager.dispose();if(this.resizeManager!=null)this.resizeManager.dispose();delete this.dragManager;delete this.resizeManager;};PXDashboard.prototype.getLayoutInfo=function(){var $0Y=this.getColumnIndex(),top=this.getRowIndex(),$X=new Array();if(!this.isDummy)$X.push(this.ID);$X.push(this.getWorkspaceIndex(),$0Y,top,this.getWidthInColumns(),this.element.offsetHeight);return $X.join(',');};PXDashboard.prototype.getWrapper=function(){return this.element.parentNode;};PXDashboard.prototype.getWorkspace=function(){return this.getWrapper().parentNode.parentNode;};PXDashboard.prototype.getWorkspaceIndex=function(){return this.getWorkspace()==this.container.ws1?0:1;};PXDashboard.prototype.getColumnIndex=function(){return parseInt(this.getWrapper().getAttribute("data-col"));};PXDashboard.prototype.getRowIndex=function(){return parseInt(this.getWrapper().parentNode.getAttribute("data-row"));};PXDashboard.prototype.getWidthInColumns=function(){var $0Z=this.getWrapper().className.split('-');return parseInt($0Z[$0Z.length-1]);};PXDashboard.prototype.getColumnWidth=function(){return this.element.offsetWidth/this.getWidthInColumns();};PXDashboard.prototype.getHeight=function(){return parseInt(this.element.style.height);};PXDashboard.prototype.setHeight=function(h){if(this.sizes){var i=0,t=0;for(;i<this.sizes.length&&h>this.sizes[i].height;i++){t=i;};h=this.sizes[t].height;var $b=this.element;for(i=0;i<this.sizes.length;i++){$b.classList.remove(this.sizes[i].className);};$b.classList.add(this.sizes[t].className);};this.element.style.height=h+"px";};PXDashboard.prototype.setContentHeight=function(){if(this.caption&&this.content&&this.element.style.height){var $D=this.element.clientHeight-this.caption.offsetHeight;this.content.style.height=$D+"px";}};PXDashboard.prototype.setWidthInColumns=function($x){var $0Z=this.getWrapper().className.split('-');$0Z[$0Z.length-1]=$x.toString();this.getWrapper().className=$0Z.join('-');};PXDashboard.prototype.onDragStart=function(){this.element.style.display="";this.element.style.visibility="hidden";};PXDashboard.prototype.onDragEnd=function($10){this.element.style.left="";this.element.style.top="";this.element.style.visibility="";for(var i=0;i<this.container.items.length;i++){var $g=this.container.items[i];$g.element.className=__px(this).excludeCss($g.element,["hover"]);};if(!$10&&this.itemToDrop)this.container.swapItems(this,this.itemToDrop);};PXDashboard.prototype.onDrag=function(e){var ce=this.container.element,$11=ce.scrollLeft,$12=ce.scrollTop;if(!ce.style.height){var de=__px(this).getDocScrollElem();$11=de.scrollLeft;$12=de.scrollTop;};var X=e.clientX-__px(this).getElemLeftPos(ce)+$11;var Y=e.clientY-__px(this).getElemTopPos(ce)+$12;delete this.itemToDrop;for(var i=0;i<this.container.items.length;i++){var $g=this.container.items[i];if($g==this)continue;if($g.isDummy&&$g.getWorkspaceIndex()==this.getWorkspaceIndex()){var $13=this.container.getWidgetsInRow(this);if($13.length==2){var r1=this.getRowIndex(),r2=$g.getRowIndex();var c1=this.getColumnIndex(),c2=$g.getColumnIndex();if(r1==r2&&((c1+1)==c2))continue;if(c1==c2&&((r1+1)==r2))continue;}};var top=__px(this).getElemTopPos($g.element,this.container.element);var $0Y=__px(this).getElemLeftPos($g.element,this.container.element);var $C=$g.element.offsetWidth,$D=$g.element.offsetHeight;if(X>$0Y&&X<($0Y+$C)&&Y>top&&Y<(top+$D)){$g.element.className=__px(this).appendCss($g.element,["hover"]);this.itemToDrop=$g;}else $g.element.className=__px(this).excludeCss($g.element,["hover"]);}};PXDashboard.prototype.onResizeStep=function($H){if(this.resizeManager.yResize>0){if(this.element.offsetHeight!=$H.offsetHeight){this.setHeight($H.offsetHeight);this.setContentHeight();}};if(this.resizeManager.xResize==0)return;var $13=this.container.getWidgetsInRow(this);var $y=this.getColumnIndex(),$14=12,$15=0;var $s=this.container.$1m(this.getWorkspace());var $16=$s>=4?2:1;for(var i=0;i<$13.length;i++){if($13[i].isDummy)continue;if(i<$y){var $S=$13[i].getWidthInColumns();$15+=$S;$14-=$S;}else if(i>$y)$14-=$s;};var $x=Math.round($H.offsetWidth/this.getColumnWidth());if($x<1)$x=1;if($x<$s)$x=$s;if($x>$14)$x=$14;var $17=this.getWidthInColumns(),$18=$x-$17;if(Math.abs($18)>=$16||($18!=0&&($17%$16)!=0)){this.setWidthInColumns($x);$15+=$x;for(var i=Array.indexOf($13,this)+1;i<$13.length;i++){var $19=$13[i],$C=$19.getWidthInColumns();if($19.isDummy){$C=12-$15;if($C<=1)$C=0;}else $C-=$18;if($C>=$s){$19.setWidthInColumns($C);break;}else if($19.isDummy){$19.setWidthInColumns(0);break;}else{$18-=$19.getWidthInColumns()-$s;$19.setWidthInColumns($s);};$15+=$19.getWidthInColumns();}}};PXDashboard.prototype.onAfterResize=function(){this.element.style.width="";this.container.saveLayout(undefined,this.element.getAttribute('data-design-refresh')&&this);this.setContentHeight();var $13=this.container.getWidgetsInRow(this),$Q=0;for(var i=0;i<$13.length;i++){if($13[i].isDummy){if($Q>0)$13[i].setHeight($Q);}else if($13[i].getHeight()>$Q){$Q=$13[i].getHeight();}}};


function PXDashboardWizard($a,$b,$c){PXDashboardWizard.initializeBaseA(this,[$a,$b,$c]);__px_cm(this).readProperties(this,$c,PXDashboardWizard.properties);this.saveWidgetCall=__px_callback(this).createCommand("SaveWidget",true,0,false,2);this.events.appendEvents(PXDashboardWizard.events,$c.clientEvents);this.captions=$b.getAttribute("data-captions");var me=this;this.events.addEventHandler("afterHide",function(){delete me.oldWidgetType;if(me.wizard)me.wizard.setSelectedIndex(0);});};PXDashboardWizard.__baseType=PXSmartPanel;PXDashboardWizard.properties=[["requiredFieldsMsg",JSType.String,""],];PXDashboardWizard.events={$widgetSaved:9};PXDashboardWizard.dsId="dss";PXDashboardWizard.prototype.onLoad=function(){PXDashboardWizard.callBase(this,"onLoad");var me=this;this.events.addEventHandler("afterLoad",function(){me.wizard=__px_all(me)[me.ID+"_wiz"];me.typesList=__px_all(me)[me.wizard.ID+"_p0_wp_wl"];me.wizard.events.addEventHandler("pageLoaded",Function.createDelegate(me,me.onSettingsLoaded));me.wizard.events.addEventHandler("buttonClick",Function.createDelegate(me,me.onWizardButtonClick));me.typesList.events.addEventHandler("itemCheck",Function.createDelegate(me,me.onTypeSelect));me.saveWidgetType(me.typesList.items.firstItem());me.propsPanel=me.wizard.pages[1].panel;me.propsPanel.events.addEventHandler("beforeShow",Function.createDelegate(me,me.beforePropertiesShow));me.propsPanel.ownerID=me.ID;});};PXDashboardWizard.prototype.saveWidgetType=function($d){if($d){var ar=$d.value.split('|');this.viewState.update("WidgetType",this.widgetType=ar[0]);this.viewState.update("GraphName",this.graphName=ar[1]);}};PXDashboardWizard.prototype.setWidget=function(id,$e){if(this.captions)this.setCaption(this.captions.split('|')[id===null?"shift":"pop"]());this.wizard.setSelectedIndex(0);delete this.oldWidgetType;this.wizard.hidePrevNext(id!=null);var $f=this.typesList.items;if(id==null){this.viewState.remove("WidgetID");for(var i=0;i<$f.length;i++)$f.getItem(i).setChecked(false);this.wizard.setButtonsState();return;};for(var i=0;i<$f.length;i++){var $g=$f.getItem(i);if($g.value.startsWith($e)){this.viewState.update("WidgetID",id);$g.setChecked(true);this.saveWidgetType($g);this.wizard.setSelectedIndex(1);break;}}};PXDashboardWizard.prototype.setWidgetLayout=function($h){if($h)this.viewState.update("WidgetLayout",$h);else this.viewState.remove("WidgetLayout");};PXDashboardWizard.prototype.executeCallback=function($i,$j){if($i=="SaveWidget"){var $k=Function.createDelegate(this,this.processSaveWidget);__px_callback(this).execI(this,this.saveWidgetCall,"",$k);}};PXDashboardWizard.prototype.processSaveWidget=function($l,$a){var $m=new Object();$m.widgetID=$l;this.wizard.dataChanged=undefined;this.fireEvent("widgetSaved",null,$m);};PXDashboardWizard.prototype.onCallback=function($n,$a){if(this.formSetup==null)return;var $o=$a.control;if($o&&($o.ID.startsWith(this.formSetup.ID)||$o.ID.startsWith("_"+this.formSetup.ID))||$o.ID.endsWith(PXDashboardWizard.dsId)){$n.postData=2;$n.container=this.ID;}};PXDashboardWizard.prototype.onTypeSelect=function($p,$m){this.saveWidgetType($m.item);if($m.checked)$m.cancel=true;};PXDashboardWizard.prototype.onSettingsLoaded=function($p,$m){this.formSetup=__px_all(this)[this.wizard.ID+"_p1_frms"];if(this.formSetup)this.formSetup.ownerID=this.ID;__px_all(this)[this.formSetup.ID+"_edCaption"].bindingContainer="";};PXDashboardWizard.prototype.beforePropertiesShow=function($p,$m){if(this.widgetType!=this.oldWidgetType){this.oldWidgetType=this.widgetType;this.propsPanel.setLoaded(false);}};PXDashboardWizard.prototype.onWizardButtonClick=function($p,$m){if($m.command==PXWizCommand.WizSave&&$m.closePanel&&this.formSetup){var $q=this.wizard.pages[1].containers;for(var id in $q)if($q[id].checkRequired&&!$q[id].checkRequired()){$m.cancel=true;alert(this.requiredFieldsMsg);break;}};if(this.captions&&!$m.cancel){if($m.command=="WizPrev")this.setCaption(this.captions.split('|').shift());else if($m.command=="WizNext")this.setCaption(this.captions.split('|').pop());}};


